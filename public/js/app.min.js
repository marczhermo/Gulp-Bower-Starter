/*! jQuery v2.1.3 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.3",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=hb(),z=hb(),A=hb(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},eb=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fb){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function gb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+rb(o[l]);w=ab.test(a)&&pb(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function hb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ib(a){return a[u]=!0,a}function jb(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function kb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function lb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function nb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function ob(a){return ib(function(b){return b=+b,ib(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pb(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=gb.support={},f=gb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=gb.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",eb,!1):e.attachEvent&&e.attachEvent("onunload",eb)),p=!f(g),c.attributes=jb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=jb(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=jb(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(jb(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),jb(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&jb(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return lb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?lb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},gb.matches=function(a,b){return gb(a,null,null,b)},gb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return gb(b,n,null,[a]).length>0},gb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},gb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},gb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},gb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=gb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=gb.selectors={cacheLength:50,createPseudo:ib,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||gb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&gb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=gb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||gb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ib(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ib(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ib(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ib(function(a){return function(b){return gb(a,b).length>0}}),contains:ib(function(a){return a=a.replace(cb,db),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ib(function(a){return W.test(a||"")||gb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:ob(function(){return[0]}),last:ob(function(a,b){return[b-1]}),eq:ob(function(a,b,c){return[0>c?c+b:c]}),even:ob(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:ob(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:ob(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:ob(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=mb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=nb(b);function qb(){}qb.prototype=d.filters=d.pseudos,d.setFilters=new qb,g=gb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?gb.error(a):z(a,i).slice(0)};function rb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function tb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ub(a,b,c){for(var d=0,e=b.length;e>d;d++)gb(a,b[d],c);return c}function vb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wb(a,b,c,d,e,f){return d&&!d[u]&&(d=wb(d)),e&&!e[u]&&(e=wb(e,f)),ib(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ub(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:vb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=vb(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=vb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sb(function(a){return a===b},h,!0),l=sb(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sb(tb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wb(i>1&&tb(m),i>1&&rb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xb(a.slice(i,e)),f>e&&xb(a=a.slice(e)),f>e&&rb(a))}m.push(c)}return tb(m)}function yb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=vb(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&gb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ib(f):f}return h=gb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,yb(e,d)),f.selector=a}return f},i=gb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&pb(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&rb(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&pb(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=jb(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),jb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||kb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&jb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||kb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),jb(function(a){return null==a.getAttribute("disabled")})||kb(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),gb}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)
},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bb=/<([\w:]+)/,cb=/<|&#?\w+;/,db=/<(?:script|style|link)/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/^$|\/(?:java|ecma)script/i,gb=/^true\/(.*)/,hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ib={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td;function jb(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function kb(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function lb(a){var b=gb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function mb(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function nb(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function ob(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pb(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=ob(h),f=ob(a),d=0,e=f.length;e>d;d++)pb(f[d],g[d]);if(b)if(c)for(f=f||ob(a),g=g||ob(h),d=0,e=f.length;e>d;d++)nb(f[d],g[d]);else nb(a,h);return g=ob(h,"script"),g.length>0&&mb(g,!i&&ob(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(cb.test(e)){f=f||k.appendChild(b.createElement("div")),g=(bb.exec(e)||["",""])[1].toLowerCase(),h=ib[g]||ib._default,f.innerHTML=h[1]+e.replace(ab,"<$1></$2>")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=ob(k.appendChild(e),"script"),i&&mb(f),c)){j=0;while(e=f[j++])fb.test(e.type||"")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(ob(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&mb(ob(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(ob(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!db.test(a)&&!ib[(bb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(ab,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(ob(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(ob(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&eb.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(ob(c,"script"),kb),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,ob(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,lb),j=0;g>j;j++)h=f[j],fb.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(hb,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qb,rb={};function sb(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function tb(a){var b=l,c=rb[a];return c||(c=sb(a,b),"none"!==c&&c||(qb=(qb||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qb[0].contentDocument,b.write(),b.close(),c=sb(a,b),qb.detach()),rb[a]=c),c}var ub=/^margin/,vb=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wb=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};function xb(a,b,c){var d,e,f,g,h=a.style;return c=c||wb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),vb.test(g)&&ub.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function yb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp("^("+Q+")(.*)$","i"),Bb=new RegExp("^([+-])=("+Q+")","i"),Cb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:"0",fontWeight:"400"},Eb=["Webkit","O","Moz","ms"];function Fb(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Eb.length;while(e--)if(b=Eb[e]+c,b in a)return b;return d}function Gb(a,b,c){var d=Ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Hb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ib(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wb(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xb(a,b,f),(0>e||null==e)&&(e=a.style[b]),vb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Hb(a,b,c||(g?"border":"content"),d,f)+"px"}function Jb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",tb(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Bb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xb(a,b,d)),"normal"===e&&b in Db&&(e=Db[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?zb.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Cb,function(){return Ib(a,b,d)}):Ib(a,b,d):void 0},set:function(a,c,d){var e=d&&wb(a);return Gb(a,c,d?Hb(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=yb(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xb,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ub.test(a)||(n.cssHooks[a+b].set=Gb)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Kb(a,b,c,d,e){return new Kb.prototype.init(a,b,c,d,e)}n.Tween=Kb,Kb.prototype={constructor:Kb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Kb.propHooks[this.prop];return a&&a.get?a.get(this):Kb.propHooks._default.get(this)},run:function(a){var b,c=Kb.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Kb.prototype.init,n.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pb=/queueHooks$/,Qb=[Vb],Rb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ob.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Ob.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sb(){return setTimeout(function(){Lb=void 0}),Lb=n.now()}function Tb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ub(a,b,c){for(var d,e=(Rb[b]||[]).concat(Rb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Vb(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||tb(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Nb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?tb(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ub(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xb(a,b,c){var d,e,f=0,g=Qb.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Lb||Sb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Lb||Sb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wb(k,j.opts.specialEasing);g>f;f++)if(d=Qb[f].call(j,a,k,j.opts))return d;return n.map(k,Ub,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xb,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Rb[c]=Rb[c]||[],Rb[c].unshift(b)},prefilter:function(a,b){b?Qb.unshift(a):Qb.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xb(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Tb(b,!0),a,d,e)}}),n.each({slideDown:Tb("show"),slideUp:Tb("hide"),slideToggle:Tb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Lb=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Lb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Mb||(Mb=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Mb),Mb=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Yb,Zb,$b=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Zb:Yb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))
},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Zb={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$b[b]||n.find.attr;$b[b]=function(a,b,d){var e,f;return d||(f=$b[b],$b[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$b[b]=f),e}});var _b=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_b.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ac=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ac," ").indexOf(b)>=0)return!0;return!1}});var bc=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bc,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cc=n.now(),dc=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var ec=/#.*$/,fc=/([?&])_=[^&]*/,gc=/^(.*?):[ \t]*([^\r\n]*)$/gm,hc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ic=/^(?:GET|HEAD)$/,jc=/^\/\//,kc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lc={},mc={},nc="*/".concat("*"),oc=a.location.href,pc=kc.exec(oc.toLowerCase())||[];function qc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function rc(a,b,c,d){var e={},f=a===mc;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function sc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function tc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function uc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:oc,type:"GET",isLocal:hc.test(pc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sc(sc(a,n.ajaxSettings),b):sc(n.ajaxSettings,a)},ajaxPrefilter:qc(lc),ajaxTransport:qc(mc),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=gc.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||oc)+"").replace(ec,"").replace(jc,pc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kc.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pc[1]&&h[2]===pc[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pc[3]||("http:"===pc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rc(lc,k,b,v),2===t)return v;i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ic.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(dc.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fc.test(d)?d.replace(fc,"$1_="+cc++):d+(dc.test(d)?"&":"?")+"_="+cc++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nc+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=rc(mc,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tc(k,v,f)),u=uc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var vc=/%20/g,wc=/\[\]$/,xc=/\r?\n/g,yc=/^(?:submit|button|image|reset|file)$/i,zc=/^(?:input|select|textarea|keygen)/i;function Ac(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||wc.test(a)?d(a,e):Ac(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Ac(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Ac(c,a[c],b,e);return d.join("&").replace(vc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zc.test(this.nodeName)&&!yc.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xc,"\r\n")}}):{name:b.name,value:c.replace(xc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bc=0,Cc={},Dc={0:200,1223:204},Ec=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cc)Cc[a]()}),k.cors=!!Ec&&"withCredentials"in Ec,k.ajax=Ec=!!Ec,n.ajaxTransport(function(a){var b;return k.cors||Ec&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Cc[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Dc[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cc[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fc=[],Gc=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fc.pop()||n.expando+"_"+cc++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gc,"$1"+e):b.jsonp!==!1&&(b.url+=(dc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hc=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hc)return Hc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ic=a.document.documentElement;function Jc(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jc(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Ic;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ic})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jc(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=yb(k.pixelPosition,function(a,c){return c?(c=xb(a,b),vb.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kc=a.jQuery,Lc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lc),b&&a.jQuery===n&&(a.jQuery=Kc),n},typeof b===U&&(a.jQuery=a.$=n),n});
//# sourceMappingURL=jquery.min.map
/* Copyright (c) Microsoft Open Technologies, Inc. All rights reserved. See License.txt in the project root for license information.*/
(function(a){function b(a){for(var b=a.length,c=new Array(b),d=0;b>d;d++)c[d]=a[d];return c}function c(a,b){if(la&&b.stack&&"object"==typeof a&&null!==a&&a.stack&&-1===a.stack.indexOf(pa)){for(var c=[],e=b;e;e=e.source)e.stack&&c.unshift(e.stack);c.unshift(a.stack);var f=c.join("\n"+pa+"\n");a.stack=d(f)}}function d(a){for(var b=a.split("\n"),c=[],d=0,g=b.length;g>d;d++){var h=b[d];e(h)||f(h)||!h||c.push(h)}return c.join("\n")}function e(a){var b=h(a);if(!b)return!1;var c=b[0],d=b[1];return c===na&&d>=oa&&Ic>=d}function f(a){return-1!==a.indexOf("(module.js:")||-1!==a.indexOf("(node.js:")}function g(){if(la)try{throw new Error}catch(a){var b=a.stack.split("\n"),c=b[0].indexOf("@")>0?b[1]:b[2],d=h(c);if(!d)return;return na=d[0],d[1]}}function h(a){var b=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(b)return[b[1],Number(b[2])];var c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a);if(c)return[c[1],Number(c[2])];var d=/.*@(.+):(\d+)$/.exec(a);return d?[d[1],Number(d[2])]:void 0}function i(a){var b=[];if(!Ya(a))return b;Xa.nonEnumArgs&&a.length&&Za(a)&&(a=bb.call(a));var c=Xa.enumPrototypes&&"function"==typeof a,d=Xa.enumErrorProps&&(a===Sa||a instanceof Error);for(var e in a)c&&"prototype"==e||d&&("message"==e||"name"==e)||b.push(e);if(Xa.nonEnumShadows&&a!==Ta){var f=a.constructor,g=-1,h=Ea;if(a===(f&&f.prototype))var i=a===Ua?Oa:a===Sa?Ja:Pa.call(a),j=Wa[i];for(;++g<h;)e=Da[g],j&&j[e]||!Qa.call(a,e)||b.push(e)}return b}function j(a,b,c){for(var d=-1,e=c(a),f=e.length;++d<f;){var g=e[d];if(b(a[g],g,a)===!1)break}return a}function k(a,b){return j(a,b,i)}function l(a){return"function"!=typeof a.toString&&"string"==typeof(a+"")}function m(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;var e=typeof a,f=typeof b;if(a===a&&(null==a||null==b||"function"!=e&&"object"!=e&&"function"!=f&&"object"!=f))return!1;var g=Pa.call(a),h=Pa.call(b);if(g==Fa&&(g=Ma),h==Fa&&(h=Ma),g!=h)return!1;switch(g){case Ha:case Ia:return+a==+b;case La:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case Na:case Oa:return a==String(b)}var i=g==Ga;if(!i){if(g!=Ma||!Xa.nodeClass&&(l(a)||l(b)))return!1;var j=!Xa.argsObject&&Za(a)?Object:a.constructor,n=!Xa.argsObject&&Za(b)?Object:b.constructor;if(!(j==n||Qa.call(a,"constructor")&&Qa.call(b,"constructor")||ka(j)&&j instanceof j&&ka(n)&&n instanceof n||!("constructor"in a&&"constructor"in b)))return!1}c||(c=[]),d||(d=[]);for(var o=c.length;o--;)if(c[o]==a)return d[o]==b;var p=0,q=!0;if(c.push(a),d.push(b),i){if(o=a.length,p=b.length,q=p==o)for(;p--;){var r=b[p];if(!(q=m(a[p],r,c,d)))break}}else k(b,function(b,e,f){return Qa.call(f,e)?(p++,q=Qa.call(a,e)&&m(a[e],b,c,d)):void 0}),q&&k(a,function(a,b,c){return Qa.call(c,b)?q=--p>-1:void 0});return c.pop(),d.pop(),q}function n(){try{return $a.apply(this,arguments)}catch(a){return ab.e=a,ab}}function o(a){if(!ka(a))throw new TypeError("fn must be a function");return $a=a,n}function p(a){throw a}function q(a,b){for(var c=new Array(a),d=0;a>d;d++)c[d]=b();return c}function r(a,b){this.id=a,this.value=b}function t(a){this.observer=a,this.a=[],this.isStopped=!1}function u(){this._s=s}function v(){this._s=s,this._l=s.length,this._i=0}function w(a){this._a=a}function x(a){this._a=a,this._l=B(a),this._i=0}function y(a){return"number"==typeof a&&Z.isFinite(a)}function z(b){var c,d=b[xa];if(!d&&"string"==typeof b)return c=new u(b),c[xa]();if(!d&&b.length!==a)return c=new w(b),c[xa]();if(!d)throw new TypeError("Object is not iterable");return b[xa]()}function A(a){var b=+a;return 0===b?b:isNaN(b)?b:0>b?-1:1}function B(a){var b=+a.length;return isNaN(b)?0:0!==b&&y(b)?(b=A(b)*Math.floor(Math.abs(b)),0>=b?0:b>Xb?Xb:b):b}function C(a,b){this.observer=a,this.parent=b}function D(a,b){return sb(a)||(a=wb),new Zb(b,a)}function E(a,b){this.observer=a,this.parent=b}function F(a,b){this.observer=a,this.parent=b}function G(a,b){return new Ac(function(c){var d=new nb,e=new ob;return e.setDisposable(d),d.setDisposable(a.subscribe(function(a){c.onNext(a)},function(a){try{var d=b(a)}catch(f){return c.onError(f)}ja(d)&&(d=tc(d));var g=new nb;e.setDisposable(g),g.setDisposable(d.subscribe(c))},function(a){c.onCompleted(a)})),e},a)}function H(a,b){var c=this;return new Ac(function(d){var e=0,f=a.length;return c.subscribe(function(c){if(f>e){var g,h=a[e++];try{g=b(c,h)}catch(i){return d.onError(i)}d.onNext(g)}else d.onCompleted()},function(a){d.onError(a)},function(){d.onCompleted()})},c)}function I(){return!1}function J(){return[]}function K(a,b,c){var d=Ca(b,c,3);return a.map(function(b,c){var e=d(b,c,a);return ja(e)&&(e=tc(e)),(Aa(e)||za(e))&&(e=Yb(e)),e}).concatAll()}function L(a,b,c){this.observer=a,this.selector=b,this.source=c,this.i=0,this.isStopped=!1}function M(a,b,c){var d=Ca(b,c,3);return a.map(function(b,c){var e=d(b,c,a);return ja(e)&&(e=tc(e)),(Aa(e)||za(e))&&(e=Yb(e)),e}).mergeAll()}function N(a,b,c){this.observer=a,this.predicate=b,this.source=c,this.i=0,this.isStopped=!1}function O(a,b,c){if(a.addEventListener)return a.addEventListener(b,c,!1),jb(function(){a.removeEventListener(b,c,!1)});throw new Error("No listener found")}function P(a,b,c){var d=new gb;if("[object NodeList]"===Object.prototype.toString.call(a))for(var e=0,f=a.length;f>e;e++)d.add(P(a.item(e),b,c));else a&&d.add(O(a,b,c));return d}function Q(a,b){return new Ac(function(c){return b.scheduleWithAbsolute(a,function(){c.onNext(0),c.onCompleted()})})}function R(a,b,c){return new Ac(function(d){var e=a,f=rb(b);return c.scheduleRecursiveWithAbsoluteAndState(0,e,function(a,b){if(f>0){var g=c.now();e+=f,g>=e&&(e=g+f)}d.onNext(a),b(a+1,e)})})}function S(a,b){return new Ac(function(c){return b.scheduleWithRelative(rb(a),function(){c.onNext(0),c.onCompleted()})})}function T(a,b,c){return a===b?new Ac(function(a){return c.schedulePeriodicWithState(0,b,function(b){return a.onNext(b),b+1})}):Sb(function(){return R(c.now()+a,b,c)})}function U(a,b,c){return new Ac(function(d){var e,f=!1,g=new ob,h=null,i=[],j=!1;return e=a.materialize().timestamp(c).subscribe(function(a){var e,k;"E"===a.value.kind?(i=[],i.push(a),h=a.value.exception,k=!j):(i.push({value:a.value,timestamp:a.timestamp+b}),k=!f,f=!0),k&&(null!==h?d.onError(h):(e=new nb,g.setDisposable(e),e.setDisposable(c.scheduleRecursiveWithRelative(b,function(a){var b,e,g,k;if(null===h){j=!0;do g=null,i.length>0&&i[0].timestamp-c.now()<=0&&(g=i.shift().value),null!==g&&g.accept(d);while(null!==g);k=!1,e=0,i.length>0?(k=!0,e=Math.max(0,i[0].timestamp-c.now())):f=!1,b=h,j=!1,null!==b?d.onError(b):k&&a(e)}}))))}),new gb(e,g)},a)}function V(a,b,c){return Sb(function(){return U(a,b-c.now(),c)})}function W(a,b){return new Ac(function(c){function d(){g&&(g=!1,c.onNext(f)),e&&c.onCompleted()}var e,f,g;return new gb(a.subscribe(function(a){g=!0,f=a},c.onError.bind(c),function(){e=!0}),b.subscribe(d,c.onError.bind(c),d))},a)}function X(a,b,c){return new Ac(function(d){function e(a,b){j[b]=a;var e;if(g[b]=!0,h||(h=g.every(ea))){if(f)return void d.onError(f);try{e=c.apply(null,j)}catch(k){return void d.onError(k)}d.onNext(e)}i&&j[1]&&d.onCompleted()}var f,g=[!1,!1],h=!1,i=!1,j=new Array(2);return new gb(a.subscribe(function(a){e(a,0)},function(a){j[1]?d.onError(a):f=a},function(){i=!0,j[1]&&d.onCompleted()}),b.subscribe(function(a){e(a,1)},function(a){d.onError(a)},function(){i=!0,e(!0,1)}))},a)}var Y={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Z=Y[typeof window]&&window||this,$=Y[typeof exports]&&exports&&!exports.nodeType&&exports,_=Y[typeof module]&&module&&!module.nodeType&&module,aa=_&&_.exports===$&&$,ba=Y[typeof global]&&global;!ba||ba.global!==ba&&ba.window!==ba||(Z=ba);var ca={internals:{},config:{Promise:Z.Promise},helpers:{}},da=ca.helpers.noop=function(){},ea=(ca.helpers.notDefined=function(a){return"undefined"==typeof a},ca.helpers.identity=function(a){return a}),fa=(ca.helpers.pluck=function(a){return function(b){return b[a]}},ca.helpers.just=function(a){return function(){return a}},ca.helpers.defaultNow=Date.now),ga=ca.helpers.defaultComparer=function(a,b){return _a(a,b)},ha=ca.helpers.defaultSubComparer=function(a,b){return a>b?1:b>a?-1:0},ia=(ca.helpers.defaultKeySerializer=function(a){return a.toString()},ca.helpers.defaultError=function(a){throw a}),ja=ca.helpers.isPromise=function(a){return!!a&&"function"==typeof a.then},ka=(ca.helpers.asArray=function(){return Array.prototype.slice.call(arguments)},ca.helpers.not=function(a){return!a},ca.helpers.isFunction=function(){var a=function(a){return"function"==typeof a||!1};return a(/x/)&&(a=function(a){return"function"==typeof a&&"[object Function]"==Pa.call(a)}),a}());ca.config.longStackSupport=!1;var la=!1;try{throw new Error}catch(ma){la=!!ma.stack}var na,oa=g(),pa="From previous event:",qa=ca.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};qa.prototype=Error.prototype;var ra=ca.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};ra.prototype=Error.prototype;var sa=ca.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};sa.prototype=Error.prototype;var ta=ca.NotSupportedError=function(a){this.message=a||"This operation is not supported",Error.call(this)};ta.prototype=Error.prototype;var ua=ca.NotImplementedError=function(a){this.message=a||"This operation is not implemented",Error.call(this)};ua.prototype=Error.prototype;var va=ca.helpers.notImplemented=function(){throw new ua},wa=ca.helpers.notSupported=function(){throw new ta},xa="function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_";Z.Set&&"function"==typeof(new Z.Set)["@@iterator"]&&(xa="@@iterator");var ya=ca.doneEnumerator={done:!0,value:a},za=ca.helpers.isIterable=function(b){return b[xa]!==a},Aa=ca.helpers.isArrayLike=function(b){return b&&b.length!==a};ca.helpers.iterator=xa;var Ba,Ca=ca.internals.bindCallback=function(a,b,c){if("undefined"==typeof b)return a;switch(c){case 0:return function(){return a.call(b)};case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}},Da=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Ea=Da.length,Fa="[object Arguments]",Ga="[object Array]",Ha="[object Boolean]",Ia="[object Date]",Ja="[object Error]",Ka="[object Function]",La="[object Number]",Ma="[object Object]",Na="[object RegExp]",Oa="[object String]",Pa=Object.prototype.toString,Qa=Object.prototype.hasOwnProperty,Ra=Pa.call(arguments)==Fa,Sa=Error.prototype,Ta=Object.prototype,Ua=String.prototype,Va=Ta.propertyIsEnumerable;try{Ba=!(Pa.call(document)==Ma&&!({toString:0}+""))}catch(ma){Ba=!0}var Wa={};Wa[Ga]=Wa[Ia]=Wa[La]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Wa[Ha]=Wa[Oa]={constructor:!0,toString:!0,valueOf:!0},Wa[Ja]=Wa[Ka]=Wa[Na]={constructor:!0,toString:!0},Wa[Ma]={constructor:!0};var Xa={};!function(){var a=function(){this.x=1},b=[];a.prototype={valueOf:1,y:1};for(var c in new a)b.push(c);for(c in arguments);Xa.enumErrorProps=Va.call(Sa,"message")||Va.call(Sa,"name"),Xa.enumPrototypes=Va.call(a,"prototype"),Xa.nonEnumArgs=0!=c,Xa.nonEnumShadows=!/valueOf/.test(b)}(1);var Ya=ca.internals.isObject=function(a){var b=typeof a;return a&&("function"==b||"object"==b)||!1},Za=function(a){return a&&"object"==typeof a?Pa.call(a)==Fa:!1};Ra||(Za=function(a){return a&&"object"==typeof a?Qa.call(a,"callee"):!1});{var $a,_a=ca.internals.isEqual=function(a,b){return m(a,b,[],[])},ab={e:{}},bb=({}.hasOwnProperty,Array.prototype.slice),cb=this.inherits=ca.internals.inherits=function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c},db=ca.internals.addProperties=function(a){for(var b=[],c=1,d=arguments.length;d>c;c++)b.push(arguments[c]);for(var e=0,f=b.length;f>e;e++){var g=b[e];for(var h in g)a[h]=g[h]}};ca.internals.addRef=function(a,b){return new Ac(function(c){return new gb(b.getDisposable(),a.subscribe(c))})}}r.prototype.compareTo=function(a){var b=this.value.compareTo(a.value);return 0===b&&(b=this.id-a.id),b};var eb=ca.internals.PriorityQueue=function(a){this.items=new Array(a),this.length=0},fb=eb.prototype;fb.isHigherPriority=function(a,b){return this.items[a].compareTo(this.items[b])<0},fb.percolate=function(a){if(!(a>=this.length||0>a)){var b=a-1>>1;if(!(0>b||b===a)&&this.isHigherPriority(a,b)){var c=this.items[a];this.items[a]=this.items[b],this.items[b]=c,this.percolate(b)}}},fb.heapify=function(a){if(+a||(a=0),!(a>=this.length||0>a)){var b=2*a+1,c=2*a+2,d=a;if(b<this.length&&this.isHigherPriority(b,d)&&(d=b),c<this.length&&this.isHigherPriority(c,d)&&(d=c),d!==a){var e=this.items[a];this.items[a]=this.items[d],this.items[d]=e,this.heapify(d)}}},fb.peek=function(){return this.items[0].value},fb.removeAt=function(b){this.items[b]=this.items[--this.length],this.items[this.length]=a,this.heapify()},fb.dequeue=function(){var a=this.peek();return this.removeAt(0),a},fb.enqueue=function(a){var b=this.length++;this.items[b]=new r(eb.count++,a),this.percolate(b)},fb.remove=function(a){for(var b=0;b<this.length;b++)if(this.items[b].value===a)return this.removeAt(b),!0;return!1},eb.count=0;var gb=ca.CompositeDisposable=function(){var a,b,c=[];if(Array.isArray(arguments[0]))c=arguments[0],b=c.length;else for(b=arguments.length,c=new Array(b),a=0;b>a;a++)c[a]=arguments[a];for(a=0;b>a;a++)if(!lb(c[a]))throw new TypeError("Not a disposable");this.disposables=c,this.isDisposed=!1,this.length=c.length},hb=gb.prototype;hb.add=function(a){this.isDisposed?a.dispose():(this.disposables.push(a),this.length++)},hb.remove=function(a){var b=!1;if(!this.isDisposed){var c=this.disposables.indexOf(a);-1!==c&&(b=!0,this.disposables.splice(c,1),this.length--,a.dispose())}return b},hb.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var a=this.disposables.length,b=new Array(a),c=0;a>c;c++)b[c]=this.disposables[c];for(this.disposables=[],this.length=0,c=0;a>c;c++)b[c].dispose()}};var ib=ca.Disposable=function(a){this.isDisposed=!1,this.action=a||da};ib.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var jb=ib.create=function(a){return new ib(a)},kb=ib.empty={dispose:da},lb=ib.isDisposable=function(a){return a&&ka(a.dispose)},mb=ib.checkDisposed=function(a){if(a.isDisposed)throw new ra},nb=ca.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};nb.prototype.getDisposable=function(){return this.current},nb.prototype.setDisposable=function(a){if(this.current)throw new Error("Disposable has already been assigned");var b=this.isDisposed;!b&&(this.current=a),b&&a&&a.dispose()},nb.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var a=this.current;this.current=null}a&&a.dispose()};var ob=ca.SerialDisposable=function(){this.isDisposed=!1,this.current=null};ob.prototype.getDisposable=function(){return this.current},ob.prototype.setDisposable=function(a){var b=this.isDisposed;if(!b){var c=this.current;this.current=a}c&&c.dispose(),b&&a&&a.dispose()},ob.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var a=this.current;this.current=null}a&&a.dispose()};var pb=(ca.RefCountDisposable=function(){function a(a){this.disposable=a,this.disposable.count++,this.isInnerDisposed=!1}function b(a){this.underlyingDisposable=a,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return a.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},b.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},b.prototype.getDisposable=function(){return this.isDisposed?kb:new a(this)},b}(),ca.internals.ScheduledItem=function(a,b,c,d,e){this.scheduler=a,this.state=b,this.action=c,this.dueTime=d,this.comparer=e||ha,this.disposable=new nb});pb.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},pb.prototype.compareTo=function(a){return this.comparer(this.dueTime,a.dueTime)},pb.prototype.isCancelled=function(){return this.disposable.isDisposed},pb.prototype.invokeCore=function(){return this.action(this.scheduler,this.state)};var qb=ca.Scheduler=function(){function a(a,b,c,d){this.now=a,this._schedule=b,this._scheduleRelative=c,this._scheduleAbsolute=d}function b(a,b){return b(),kb}a.isScheduler=function(b){return b instanceof a};var c=a.prototype;return c.schedule=function(a){return this._schedule(a,b)},c.scheduleWithState=function(a,b){return this._schedule(a,b)},c.scheduleWithRelative=function(a,c){return this._scheduleRelative(c,a,b)},c.scheduleWithRelativeAndState=function(a,b,c){return this._scheduleRelative(a,b,c)},c.scheduleWithAbsolute=function(a,c){return this._scheduleAbsolute(c,a,b)},c.scheduleWithAbsoluteAndState=function(a,b,c){return this._scheduleAbsolute(a,b,c)},a.now=fa,a.normalize=function(a){return 0>a&&(a=0),a},a}(),rb=qb.normalize,sb=qb.isScheduler;!function(a){function b(a,b){function c(b){e(b,function(b){var d=!1,e=!1,g=a.scheduleWithState(b,function(a,b){return d?f.remove(g):e=!0,c(b),kb});e||(f.add(g),d=!0)})}var d=b[0],e=b[1],f=new gb;return c(d),f}function c(a,b,c){function d(b){f(b,function(b,e){var f=!1,h=!1,i=a[c](b,e,function(a,b){return f?g.remove(i):h=!0,d(b),kb});h||(g.add(i),f=!0)})}var e=b[0],f=b[1],g=new gb;return d(e),g}function d(a,b){a(function(c){b(a,c)})}a.scheduleRecursive=function(a){return this.scheduleRecursiveWithState(a,function(a,b){a(function(){b(a)})})},a.scheduleRecursiveWithState=function(a,c){return this.scheduleWithState([a,c],b)},a.scheduleRecursiveWithRelative=function(a,b){return this.scheduleRecursiveWithRelativeAndState(b,a,d)},a.scheduleRecursiveWithRelativeAndState=function(a,b,d){return this._scheduleRelative([a,d],b,function(a,b){return c(a,b,"scheduleWithRelativeAndState")})},a.scheduleRecursiveWithAbsolute=function(a,b){return this.scheduleRecursiveWithAbsoluteAndState(b,a,d)},a.scheduleRecursiveWithAbsoluteAndState=function(a,b,d){return this._scheduleAbsolute([a,d],b,function(a,b){return c(a,b,"scheduleWithAbsoluteAndState")})}}(qb.prototype),function(){qb.prototype.schedulePeriodic=function(a,b){return this.schedulePeriodicWithState(null,a,b)},qb.prototype.schedulePeriodicWithState=function(a,b,c){if("undefined"==typeof Z.setInterval)throw new ta;b=rb(b);var d=a,e=Z.setInterval(function(){d=c(d)},b);return jb(function(){Z.clearInterval(e)})}}(qb.prototype);var tb,ub,vb=qb.immediate=function(){function a(a,b){return b(this,a)}return new qb(fa,a,wa,wa)}(),wb=qb.currentThread=function(){function a(){for(;c.length>0;){var a=c.dequeue();!a.isCancelled()&&a.invoke()}}function b(b,d){var e=new pb(this,b,d,this.now());if(c)c.enqueue(e);else{c=new eb(4),c.enqueue(e);var f=o(a)();if(c=null,f===ab)return p(f.e)}return e.disposable}var c,d=new qb(fa,b,wa,wa);return d.scheduleRequired=function(){return!c},d}(),xb=(ca.internals.SchedulePeriodicRecursive=function(){function a(a,b){b(0,this._period);try{this._state=this._action(this._state)}catch(c){throw this._cancel.dispose(),c}}function b(a,b,c,d){this._scheduler=a,this._state=b,this._period=c,this._action=d}return b.prototype.start=function(){var b=new nb;return this._cancel=b,b.setDisposable(this._scheduler.scheduleRecursiveWithRelativeAndState(0,this._period,a.bind(this))),b},b}(),function(){var a,b=da;if(Z.setTimeout)a=Z.setTimeout,b=Z.clearTimeout;else{if(!Z.WScript)throw new ta;a=function(a,b){Z.WScript.Sleep(b),a()}}return{setTimeout:a,clearTimeout:b}}()),yb=xb.setTimeout,zb=xb.clearTimeout;!function(){function a(b){if(f)yb(function(){a(b)},0);else{var c=e[b];if(c){f=!0;var d=o(c)();if(ub(b),f=!1,d===ab)return p(d.e)}}}function b(){if(!Z.postMessage||Z.importScripts)return!1;var a=!1,b=Z.onmessage;return Z.onmessage=function(){a=!0},Z.postMessage("","*"),Z.onmessage=b,a}function c(b){"string"==typeof b.data&&b.data.substring(0,i.length)===i&&a(b.data.substring(i.length))}var d=1,e={},f=!1;ub=function(a){delete e[a]};var g=RegExp("^"+String(Pa).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),h="function"==typeof(h=ba&&aa&&ba.setImmediate)&&!g.test(h)&&h;if(ka(h))tb=function(b){var c=d++;return e[c]=b,h(function(){a(c)}),c};else if("undefined"!=typeof process&&"[object process]"==={}.toString.call(process))tb=function(b){var c=d++;return e[c]=b,process.nextTick(function(){a(c)}),c};else if(b()){var i="ms.rx.schedule"+Math.random();Z.addEventListener?Z.addEventListener("message",c,!1):Z.attachEvent?Z.attachEvent("onmessage",c):Z.onmessage=c,tb=function(a){var b=d++;return e[b]=a,Z.postMessage(i+currentId,"*"),b}}else if(Z.MessageChannel){var j=new Z.MessageChannel;j.port1.onmessage=function(b){a(b.data)},tb=function(a){var b=d++;return e[b]=a,j.port2.postMessage(b),b}}else tb="document"in Z&&"onreadystatechange"in Z.document.createElement("script")?function(b){var c=Z.document.createElement("script"),f=d++;return e[f]=b,c.onreadystatechange=function(){a(f),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},Z.document.documentElement.appendChild(c),f}:function(b){var c=d++;return e[c]=b,yb(function(){a(c)},0),c}}();var Ab=qb.timeout=qb["default"]=function(){function a(a,b){var c=this,d=new nb,e=tb(function(){!d.isDisposed&&d.setDisposable(b(c,a))});return new gb(d,jb(function(){ub(e)}))}function b(a,b,c){var d=this,e=qb.normalize(b),f=new nb;if(0===e)return d.scheduleWithState(a,c);var g=yb(function(){!f.isDisposed&&f.setDisposable(c(d,a))},e);return new gb(f,jb(function(){zb(g)}))}function c(a,b,c){return this.scheduleWithRelativeAndState(a,b-this.now(),c)}return new qb(fa,a,b,c)}(),Bb=ca.Notification=function(){function a(a,b,c,d,e,f){this.kind=a,this.value=b,this.exception=c,this._accept=d,this._acceptObservable=e,this.toString=f}return a.prototype.accept=function(a,b,c){return a&&"object"==typeof a?this._acceptObservable(a):this._accept(a,b,c)},a.prototype.toObservable=function(a){var b=this;return sb(a)||(a=vb),new Ac(function(c){return a.scheduleWithState(b,function(a,b){b._acceptObservable(c),"N"===b.kind&&c.onCompleted()})})},a}(),Cb=Bb.createOnNext=function(){function a(a){return a(this.value)}function b(a){return a.onNext(this.value)}function c(){return"OnNext("+this.value+")"}return function(d){return new Bb("N",d,null,a,b,c)}}(),Db=Bb.createOnError=function(){function a(a,b){return b(this.exception)}function b(a){return a.onError(this.exception)}function c(){return"OnError("+this.exception+")"}return function(d){return new Bb("E",null,d,a,b,c)}}(),Eb=Bb.createOnCompleted=function(){function a(a,b,c){return c()}function b(a){return a.onCompleted()}function c(){return"OnCompleted()"}return function(){return new Bb("C",null,null,a,b,c)}}(),Fb=ca.internals.Enumerator=function(a){this._next=a};Fb.prototype.next=function(){return this._next()},Fb.prototype[xa]=function(){return this};var Gb=ca.internals.Enumerable=function(a){this._iterator=a};Gb.prototype[xa]=function(){return this._iterator()},Gb.prototype.concat=function(){var a=this;return new Ac(function(b){var c,d=a[xa](),e=new ob,f=vb.scheduleRecursive(function(a){if(!c){try{var f=d.next()}catch(g){return b.onError(g)}if(f.done)return b.onCompleted();var h=f.value;ja(h)&&(h=tc(h));var i=new nb;e.setDisposable(i),i.setDisposable(h.subscribe(function(a){b.onNext(a)},function(a){b.onError(a)},a))}});return new gb(e,f,jb(function(){c=!0}))})},Gb.prototype.catchError=function(){var a=this;return new Ac(function(b){var c,d=a[xa](),e=new ob,f=vb.scheduleRecursiveWithState(null,function(a,f){if(!c){try{var g=d.next()}catch(h){return observer.onError(h)}if(g.done)return void(null!==a?b.onError(a):b.onCompleted());var i=g.value;ja(i)&&(i=tc(i));var j=new nb;e.setDisposable(j),j.setDisposable(i.subscribe(function(a){b.onNext(a)},f,function(){b.onCompleted()}))}});return new gb(e,f,jb(function(){c=!0}))})},Gb.prototype.catchErrorWhen=function(a){var b=this;return new Ac(function(c){var d,e,f=new Dc,g=new Dc,h=a(f),i=h.subscribe(g),j=b[xa](),k=new ob,l=vb.scheduleRecursive(function(a){if(!d){try{var b=j.next()}catch(h){return c.onError(h)}if(b.done)return void(e?c.onError(e):c.onCompleted());var i=b.value;ja(i)&&(i=tc(i));var l=new nb,m=new nb;k.setDisposable(new gb(m,l)),l.setDisposable(i.subscribe(function(a){c.onNext(a)},function(b){m.setDisposable(g.subscribe(a,function(a){c.onError(a)},function(){c.onCompleted()})),f.onNext(b)},function(){c.onCompleted()}))}});return new gb(i,k,l,jb(function(){d=!0}))})};var Hb,Ib=Gb.repeat=function(a,b){return null==b&&(b=-1),new Gb(function(){var c=b;return new Fb(function(){return 0===c?ya:(c>0&&c--,{done:!1,value:a})})})},Jb=Gb.of=function(a,b,c){if(b)var d=Ca(b,c,3);return new Gb(function(){var c=-1;return new Fb(function(){return++c<a.length?{done:!1,value:b?d(a[c],c,a):a[c]}:ya})})},Kb=ca.Observer=function(){},Lb=Kb.create=function(a,b,c){return a||(a=da),b||(b=ia),c||(c=da),new Nb(a,b,c)},Mb=ca.internals.AbstractObserver=function(a){function b(){this.isStopped=!1,a.call(this)}return cb(b,a),b.prototype.next=va,b.prototype.error=va,b.prototype.completed=va,b.prototype.onNext=function(a){this.isStopped||this.next(a)},b.prototype.onError=function(a){this.isStopped||(this.isStopped=!0,this.error(a))},b.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},b.prototype.dispose=function(){this.isStopped=!0},b.prototype.fail=function(a){return this.isStopped?!1:(this.isStopped=!0,this.error(a),!0)},b}(Kb),Nb=ca.AnonymousObserver=function(a){function b(b,c,d){a.call(this),this._onNext=b,this._onError=c,this._onCompleted=d}return cb(b,a),b.prototype.next=function(a){this._onNext(a)},b.prototype.error=function(a){this._onError(a)},b.prototype.completed=function(){this._onCompleted()},b}(Mb),Ob=ca.Observable=function(){function a(a){if(ca.config.longStackSupport&&la){try{throw new Error}catch(b){this.stack=b.stack.substring(b.stack.indexOf("\n")+1)}var d=this;this._subscribe=function(b){var e=b.onError.bind(b);return b.onError=function(a){c(a,d),e(a)},a.call(d,b)}}else this._subscribe=a}return Hb=a.prototype,Hb.subscribe=Hb.forEach=function(a,b,c){return this._subscribe("object"==typeof a?a:Lb(a,b,c))},Hb.subscribeOnNext=function(a,b){return this._subscribe(Lb("undefined"!=typeof b?function(c){a.call(b,c)}:a))},Hb.subscribeOnError=function(a,b){return this._subscribe(Lb(null,"undefined"!=typeof b?function(c){a.call(b,c)}:a))},Hb.subscribeOnCompleted=function(a,b){return this._subscribe(Lb(null,null,"undefined"!=typeof b?function(){a.call(b)}:a))},a}(),Pb=ca.internals.ScheduledObserver=function(a){function b(b,c){a.call(this),this.scheduler=b,this.observer=c,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new ob}return cb(b,a),b.prototype.next=function(a){var b=this;this.queue.push(function(){b.observer.onNext(a)})},b.prototype.error=function(a){var b=this;this.queue.push(function(){b.observer.onError(a)})},b.prototype.completed=function(){var a=this;this.queue.push(function(){a.observer.onCompleted()})},b.prototype.ensureActive=function(){var a=!1,b=this;!this.hasFaulted&&this.queue.length>0&&(a=!this.isAcquired,this.isAcquired=!0),a&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(function(a){var c;if(!(b.queue.length>0))return void(b.isAcquired=!1);c=b.queue.shift();try{c()}catch(d){throw b.queue=[],b.hasFaulted=!0,d}a()}))},b.prototype.dispose=function(){a.prototype.dispose.call(this),this.disposable.dispose()},b}(Mb),Qb=ca.ObservableBase=function(a){function b(a){return a&&ka(a.dispose)?a:ka(a)?jb(a):kb}function c(a,c){var d=c[0],e=c[1],f=o(e.subscribeCore).call(e,d);return f!==ab||d.fail(ab.e)?void d.setDisposable(b(f)):p(ab.e)}function d(a){var b=new Bc(a),d=[b,this];return wb.scheduleRequired()?wb.scheduleWithState(d,c):c(null,d),b}function e(){a.call(this,d)}return cb(e,a),e.prototype.subscribeCore=va,e}(Ob),Rb=function(a){function b(b){this.source=b,a.call(this)}return cb(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new t(a))},b}(Qb);t.prototype.onNext=function(a){this.isStopped||this.a.push(a)},t.prototype.onError=function(a){this.isStopped||(this.isStopped=!0,this.observer.onError(a))},t.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.observer.onNext(this.a),this.observer.onCompleted())},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(a){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(a),!0)},Hb.toArray=function(){return new Rb(this)},Ob.create=Ob.createWithDisposable=function(a,b){return new Ac(a,b)};var Sb=Ob.defer=function(a){return new Ac(function(b){var c;try{c=a()}catch(d){return gc(d).subscribe(b)}return ja(c)&&(c=tc(c)),c.subscribe(b)})},Tb=function(a){function b(b){this.scheduler=b,a.call(this)}function c(a,b){this.observer=a,this.parent=b}function d(a,b){b.onCompleted()}return cb(b,a),b.prototype.subscribeCore=function(a){var b=new c(a,this);return b.run()},c.prototype.run=function(){return this.parent.scheduler.scheduleWithState(this.observer,d)},b}(Qb),Ub=Ob.empty=function(a){return sb(a)||(a=vb),new Tb(a)},Vb=function(a){function b(b,c,d){this.iterable=b,this.mapper=c,this.scheduler=d,a.call(this)}return cb(b,a),b.prototype.subscribeCore=function(a){var b=new Wb(a,this);return b.run()},b}(Qb),Wb=function(){function a(a,b){this.observer=a,this.parent=b}return a.prototype.run=function(){function a(a,b){try{var f=c.next()}catch(g){return d.onError(g)}if(f.done)return d.onCompleted();var h=f.value;if(e)try{h=e(h,a)}catch(g){return d.onError(g)}d.onNext(h),b(a+1)}var b=Object(this.parent.iterable),c=z(b),d=this.observer,e=this.parent.mapper;return this.parent.scheduler.scheduleRecursiveWithState(0,a)},a}(),Xb=Math.pow(2,53)-1;u.prototype[xa]=function(){return new v(this._s)},v.prototype[xa]=function(){return this},v.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:ya},w.prototype[xa]=function(){return new x(this._a)},x.prototype[xa]=function(){return this},x.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:ya};var Yb=Ob.from=function(a,b,c,d){if(null==a)throw new Error("iterable cannot be null.");if(b&&!ka(b))throw new Error("mapFn when provided must be a function");if(b)var e=Ca(b,c,2);return sb(d)||(d=wb),new Vb(a,e,d)},Zb=function(a){function b(b,c){this.args=b,this.scheduler=c,a.call(this)}return cb(b,a),b.prototype.subscribeCore=function(a){var b=new C(a,this);return b.run()},b}(Qb);C.prototype.run=function(){function a(a,e){d>a?(b.onNext(c[a]),e(a+1)):b.onCompleted()}var b=this.observer,c=this.parent.args,d=c.length;return this.parent.scheduler.scheduleRecursiveWithState(0,a)};{var $b=Ob.fromArray=function(a,b){return sb(b)||(b=wb),new Zb(a,b)},_b=function(a){function b(){a.call(this)}return cb(b,a),b.prototype.subscribeCore=function(){return kb},b}(Qb);Ob.never=function(){return new _b}}Ob.of=function(){for(var a=arguments.length,b=new Array(a),c=0;a>c;c++)b[c]=arguments[c];return new Zb(b,wb)},Ob.ofWithScheduler=function(a){for(var b=arguments.length,c=new Array(b-1),d=1;b>d;d++)c[d-1]=arguments[d];return new Zb(c,a)};var ac=function(a){function b(b,c){this.obj=b,this.keys=Object.keys(b),this.scheduler=c,a.call(this)}return cb(b,a),b.prototype.subscribeCore=function(a){var b=new E(a,this);return b.run()},b}(Qb);E.prototype.run=function(){function a(a,f){if(e>a){var g=d[a];b.onNext([g,c[g]]),f(a+1)}else b.onCompleted()}var b=this.observer,c=this.parent.obj,d=this.parent.keys,e=d.length;return this.parent.scheduler.scheduleRecursiveWithState(0,a)},Ob.pairs=function(a,b){return b||(b=wb),new ac(a,b)};var bc=function(a){function b(b,c,d){this.start=b,this.count=c,this.scheduler=d,a.call(this)}return cb(b,a),b.prototype.subscribeCore=function(a){var b=new cc(a,this);return b.run()},b}(Qb),cc=function(){function a(a,b){this.observer=a,this.parent=b}return a.prototype.run=function(){
function a(a,e){c>a?(d.onNext(b+a),e(a+1)):d.onCompleted()}var b=this.parent.start,c=this.parent.count,d=this.observer;return this.parent.scheduler.scheduleRecursiveWithState(0,a)},a}();Ob.range=function(a,b,c){return sb(c)||(c=wb),new bc(a,b,c)};var dc=function(a){function b(b,c,d){this.value=b,this.repeatCount=null==c?-1:c,this.scheduler=d,a.call(this)}return cb(b,a),b.prototype.subscribeCore=function(a){var b=new F(a,this);return b.run()},b}(Qb);F.prototype.run=function(){function a(a,d){return(-1===a||a>0)&&(b.onNext(c),a>0&&a--),0===a?b.onCompleted():void d(a)}var b=this.observer,c=this.parent.value;return this.parent.scheduler.scheduleRecursiveWithState(this.parent.repeatCount,a)},Ob.repeat=function(a,b,c){return sb(c)||(c=wb),new dc(a,b,c)};var ec=function(a){function b(b,c){this.value=b,this.scheduler=c,a.call(this)}function c(a,b){this.observer=a,this.parent=b}function d(a,b){var c=b[0],d=b[1];d.onNext(c),d.onCompleted()}return cb(b,a),b.prototype.subscribeCore=function(a){var b=new c(a,this);return b.run()},c.prototype.run=function(){return this.parent.scheduler.scheduleWithState([this.parent.value,this.observer],d)},b}(Qb),fc=(Ob["return"]=Ob.just=Ob.returnValue=function(a,b){return sb(b)||(b=vb),new ec(a,b)},function(a){function b(b,c){this.error=b,this.scheduler=c,a.call(this)}function c(a,b){this.observer=a,this.parent=b}function d(a,b){var c=b[0],d=b[1];d.onError(c)}return cb(b,a),b.prototype.subscribeCore=function(a){var b=new c(a,this);return b.run()},c.prototype.run=function(){return this.parent.scheduler.scheduleWithState([this.parent.error,this.observer],d)},b}(Qb)),gc=Ob["throw"]=Ob.throwError=Ob.throwException=function(a,b){return sb(b)||(b=vb),new fc(a,b)};Hb["catch"]=Hb.catchError=Hb.catchException=function(a){return"function"==typeof a?G(this,a):hc([this,a])};var hc=Ob.catchError=Ob["catch"]=Ob.catchException=function(){var a=[];if(Array.isArray(arguments[0]))a=arguments[0];else for(var b=0,c=arguments.length;c>b;b++)a.push(arguments[b]);return Jb(a).catchError()};Hb.combineLatest=function(){for(var a=arguments.length,b=new Array(a),c=0;a>c;c++)b[c]=arguments[c];return Array.isArray(b[0])?b[0].unshift(this):b.unshift(this),ic.apply(this,b)};var ic=Ob.combineLatest=function(){for(var a=arguments.length,b=new Array(a),c=0;a>c;c++)b[c]=arguments[c];var d=b.pop();return Array.isArray(b[0])&&(b=b[0]),new Ac(function(a){function c(b){if(h[b]=!0,i||(i=h.every(ea))){try{var c=d.apply(null,k)}catch(e){return a.onError(e)}a.onNext(c)}else j.filter(function(a,c){return c!==b}).every(ea)&&a.onCompleted()}function e(b){j[b]=!0,j.every(ea)&&a.onCompleted()}for(var f=b.length,g=function(){return!1},h=q(f,g),i=!1,j=q(f,g),k=new Array(f),l=new Array(f),m=0;f>m;m++)!function(d){var f=b[d],g=new nb;ja(f)&&(f=tc(f)),g.setDisposable(f.subscribe(function(a){k[d]=a,c(d)},function(b){a.onError(b)},function(){e(d)})),l[d]=g}(m);return new gb(l)},this)};Hb.concat=function(){for(var a=[],b=0,c=arguments.length;c>b;b++)a.push(arguments[b]);return a.unshift(this),jc.apply(null,a)};var jc=Ob.concat=function(){var a;if(Array.isArray(arguments[0]))a=arguments[0];else{a=new Array(arguments.length);for(var b=0,c=arguments.length;c>b;b++)a[b]=arguments[b]}return Jb(a).concat()};Hb.concatAll=Hb.concatObservable=function(){return this.merge(1)};var kc=function(a){function b(b,c){this.source=b,this.maxConcurrent=c,a.call(this)}return cb(b,a),b.prototype.subscribeCore=function(a){var b=new gb;return b.add(this.source.subscribe(new lc(a,this.maxConcurrent,b))),b},b}(Qb),lc=function(){function a(a,b,c){this.o=a,this.max=b,this.g=c,this.done=!1,this.q=[],this.activeCount=0,this.isStopped=!1}function b(a,b){this.parent=a,this.sad=b,this.isStopped=!1}return a.prototype.handleSubscribe=function(a){var c=new nb;this.g.add(c),ja(a)&&(a=tc(a)),c.setDisposable(a.subscribe(new b(this,c)))},a.prototype.onNext=function(a){this.isStopped||(this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(a)):this.q.push(a))},a.prototype.onError=function(a){this.isStopped||(this.isStopped=!0,this.o.onError(a))},a.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,0===this.activeCount&&this.o.onCompleted())},a.prototype.dispose=function(){this.isStopped=!0},a.prototype.fail=function(a){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(a),!0)},b.prototype.onNext=function(a){this.isStopped||this.parent.o.onNext(a)},b.prototype.onError=function(a){this.isStopped||(this.isStopped=!0,this.parent.o.onError(a))},b.prototype.onCompleted=function(){if(!this.isStopped){this.isStopped=!0;var a=this.parent;a.g.remove(this.sad),a.q.length>0?a.handleSubscribe(a.q.shift()):(a.activeCount--,a.done&&0===a.activeCount&&a.o.onCompleted())}},b.prototype.dispose=function(){this.isStopped=!0},b.prototype.fail=function(a){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(a),!0)},a}();Hb.merge=function(a){return"number"!=typeof a?mc(this,a):new kc(this,a)};var mc=Ob.merge=function(){var a,b,c=[],d=arguments.length;if(arguments[0])if(sb(arguments[0]))for(a=arguments[0],b=1;d>b;b++)c.push(arguments[b]);else for(a=vb,b=0;d>b;b++)c.push(arguments[b]);else for(a=vb,b=1;d>b;b++)c.push(arguments[b]);return Array.isArray(c[0])&&(c=c[0]),D(a,c).mergeAll()},nc=ca.CompositeError=function(a){this.name="NotImplementedError",this.innerErrors=a,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};nc.prototype=Error.prototype,Ob.mergeDelayError=function(){var a;if(Array.isArray(arguments[0]))a=arguments[0];else{var b=arguments.length;a=new Array(b);for(var c=0;b>c;c++)a[c]=arguments[c]}var d=D(null,a);return new Ac(function(a){function b(){0===g.length?a.onCompleted():a.onError(1===g.length?g[0]:new nc(g))}var c=new gb,e=new nb,f=!1,g=[];return c.add(e),e.setDisposable(d.subscribe(function(d){var e=new nb;c.add(e),ja(d)&&(d=tc(d)),e.setDisposable(d.subscribe(function(b){a.onNext(b)},function(a){g.push(a),c.remove(e),f&&1===c.length&&b()},function(){c.remove(e),f&&1===c.length&&b()}))},function(a){g.push(a),f=!0,1===c.length&&b()},function(){f=!0,1===c.length&&b()})),c})};var oc=function(a){function b(b){this.source=b,a.call(this)}return cb(b,a),b.prototype.subscribeCore=function(a){var b=new gb,c=new nb;return b.add(c),c.setDisposable(this.source.subscribe(new pc(a,b))),b},b}(Qb),pc=function(){function a(a,b){this.o=a,this.g=b,this.isStopped=!1,this.done=!1}function b(a,b,c){this.parent=a,this.g=b,this.sad=c,this.isStopped=!1}return a.prototype.onNext=function(a){if(!this.isStopped){var c=new nb;this.g.add(c),ja(a)&&(a=tc(a)),c.setDisposable(a.subscribe(new b(this,this.g,c)))}},a.prototype.onError=function(a){this.isStopped||(this.isStopped=!0,this.o.onError(a))},a.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,1===this.g.length&&this.o.onCompleted())},a.prototype.dispose=function(){this.isStopped=!0},a.prototype.fail=function(a){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(a),!0)},b.prototype.onNext=function(a){this.isStopped||this.parent.o.onNext(a)},b.prototype.onError=function(a){this.isStopped||(this.isStopped=!0,this.parent.o.onError(a))},b.prototype.onCompleted=function(){if(!this.isStopped){var a=this.parent;this.isStopped=!0,a.g.remove(this.sad),a.done&&1===a.g.length&&a.o.onCompleted()}},b.prototype.dispose=function(){this.isStopped=!0},b.prototype.fail=function(a){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(a),!0)},a}();Hb.mergeAll=Hb.mergeObservable=function(){return new oc(this)},Hb.skipUntil=function(a){var b=this;return new Ac(function(c){var d=!1,e=new gb(b.subscribe(function(a){d&&c.onNext(a)},function(a){c.onError(a)},function(){d&&c.onCompleted()}));ja(a)&&(a=tc(a));var f=new nb;return e.add(f),f.setDisposable(a.subscribe(function(){d=!0,f.dispose()},function(a){c.onError(a)},function(){f.dispose()})),e},b)},Hb["switch"]=Hb.switchLatest=function(){var a=this;return new Ac(function(b){var c=!1,d=new ob,e=!1,f=0,g=a.subscribe(function(a){var g=new nb,h=++f;c=!0,d.setDisposable(g),ja(a)&&(a=tc(a)),g.setDisposable(a.subscribe(function(a){f===h&&b.onNext(a)},function(a){f===h&&b.onError(a)},function(){f===h&&(c=!1,e&&b.onCompleted())}))},function(a){b.onError(a)},function(){e=!0,!c&&b.onCompleted()});return new gb(g,d)},a)},Hb.takeUntil=function(a){var b=this;return new Ac(function(c){return ja(a)&&(a=tc(a)),new gb(b.subscribe(c),a.subscribe(function(){c.onCompleted()},function(a){c.onError(a)},da))},b)},Hb.withLatestFrom=function(){for(var a=arguments.length,b=new Array(a),c=0;a>c;c++)b[c]=arguments[c];var d=b.pop(),e=this;if("undefined"==typeof e)throw new Error("Source observable not found for withLatestFrom().");if("function"!=typeof d)throw new Error("withLatestFrom() expects a resultSelector function.");return Array.isArray(b[0])&&(b=b[0]),new Ac(function(a){for(var c=function(){return!1},f=b.length,g=q(f,c),h=!1,i=new Array(f),j=new Array(f+1),k=0;f>k;k++)!function(c){var d=b[c],e=new nb;ja(d)&&(d=tc(d)),e.setDisposable(d.subscribe(function(a){i[c]=a,g[c]=!0,h=g.every(ea)},a.onError.bind(a),function(){})),j[c]=e}(k);var l=new nb;return l.setDisposable(e.subscribe(function(b){var c,e=[b].concat(i);if(h){try{c=d.apply(null,e)}catch(f){return void a.onError(f)}a.onNext(c)}},a.onError.bind(a),function(){a.onCompleted()})),j[f]=l,new gb(j)},this)},Hb.zip=function(){if(Array.isArray(arguments[0]))return H.apply(this,arguments);for(var a=arguments.length,b=new Array(a),c=0;a>c;c++)b[c]=arguments[c];var d=this,e=b.pop();return b.unshift(d),new Ac(function(a){function c(b){var c,f;if(h.every(function(a){return a.length>0})){try{f=h.map(function(a){return a.shift()}),c=e.apply(d,f)}catch(g){return void a.onError(g)}a.onNext(c)}else i.filter(function(a,c){return c!==b}).every(ea)&&a.onCompleted()}function f(b){i[b]=!0,i.every(function(a){return a})&&a.onCompleted()}for(var g=b.length,h=q(g,J),i=q(g,I),j=new Array(g),k=0;g>k;k++)!function(d){var e=b[d],g=new nb;ja(e)&&(e=tc(e)),g.setDisposable(e.subscribe(function(a){h[d].push(a),c(d)},function(b){a.onError(b)},function(){f(d)})),j[d]=g}(k);return new gb(j)},d)},Ob.zip=function(){for(var a=arguments.length,b=new Array(a),c=0;a>c;c++)b[c]=arguments[c];var d=b.shift();return d.zip.apply(d,b)},Ob.zipArray=function(){var a;if(Array.isArray(arguments[0]))a=arguments[0];else{var b=arguments.length;a=new Array(b);for(var c=0;b>c;c++)a[c]=arguments[c]}return new Ac(function(b){function c(a){if(f.every(function(a){return a.length>0})){var c=f.map(function(a){return a.shift()});b.onNext(c)}else if(g.filter(function(b,c){return c!==a}).every(ea))return void b.onCompleted()}function d(a){return g[a]=!0,g.every(ea)?void b.onCompleted():void 0}for(var e=a.length,f=q(e,function(){return[]}),g=q(e,function(){return!1}),h=new Array(e),i=0;e>i;i++)!function(e){h[e]=new nb,h[e].setDisposable(a[e].subscribe(function(a){f[e].push(a),c(e)},function(a){b.onError(a)},function(){d(e)}))}(i);return new gb(h)})},Hb.asObservable=function(){var a=this;return new Ac(function(b){return a.subscribe(b)},this)},Hb.dematerialize=function(){var a=this;return new Ac(function(b){return a.subscribe(function(a){return a.accept(b)},function(a){b.onError(a)},function(){b.onCompleted()})},this)},Hb.distinctUntilChanged=function(a,b){var c=this;return b||(b=ga),new Ac(function(d){var e,f=!1;return c.subscribe(function(c){var g=c;if(a)try{g=a(c)}catch(h){return void d.onError(h)}if(f)try{var i=b(e,g)}catch(h){return void d.onError(h)}f&&i||(f=!0,e=g,d.onNext(c))},function(a){d.onError(a)},function(){d.onCompleted()})},this)},Hb["do"]=Hb.tap=Hb.doAction=function(a,b,c){var d=this;return new Ac(function(e){var f=!a||ka(a)?Lb(a||da,b||da,c||da):a;return d.subscribe(function(a){try{f.onNext(a)}catch(b){e.onError(b)}e.onNext(a)},function(a){try{f.onError(a)}catch(b){e.onError(b)}e.onError(a)},function(){try{f.onCompleted()}catch(a){e.onError(a)}e.onCompleted()})},this)},Hb.doOnNext=Hb.tapOnNext=function(a,b){return this.tap("undefined"!=typeof b?function(c){a.call(b,c)}:a)},Hb.doOnError=Hb.tapOnError=function(a,b){return this.tap(da,"undefined"!=typeof b?function(c){a.call(b,c)}:a)},Hb.doOnCompleted=Hb.tapOnCompleted=function(a,b){return this.tap(da,null,"undefined"!=typeof b?function(){a.call(b)}:a)},Hb["finally"]=Hb.ensure=function(a){var b=this;return new Ac(function(c){var d;try{d=b.subscribe(c)}catch(e){throw a(),e}return jb(function(){try{d.dispose()}catch(b){throw b}finally{a()}})},this)},Hb.finallyAction=function(a){return this.ensure(a)},Hb.ignoreElements=function(){var a=this;return new Ac(function(b){return a.subscribe(da,function(a){b.onError(a)},function(){b.onCompleted()})},a)},Hb.materialize=function(){var a=this;return new Ac(function(b){return a.subscribe(function(a){b.onNext(Cb(a))},function(a){b.onNext(Db(a)),b.onCompleted()},function(){b.onNext(Eb()),b.onCompleted()})},a)},Hb.repeat=function(a){return Ib(this,a).concat()},Hb.retry=function(a){return Ib(this,a).catchError()},Hb.retryWhen=function(a){return Ib(this).catchErrorWhen(a)},Hb.scan=function(){var a,b,c=!1,d=this;return 2===arguments.length?(c=!0,a=arguments[0],b=arguments[1]):b=arguments[0],new Ac(function(e){var f,g,h;return d.subscribe(function(d){!h&&(h=!0);try{f?g=b(g,d):(g=c?b(a,d):d,f=!0)}catch(i){return void e.onError(i)}e.onNext(g)},function(a){e.onError(a)},function(){!h&&c&&e.onNext(a),e.onCompleted()})},d)},Hb.skipLast=function(a){if(0>a)throw new sa;var b=this;return new Ac(function(c){var d=[];return b.subscribe(function(b){d.push(b),d.length>a&&c.onNext(d.shift())},function(a){c.onError(a)},function(){c.onCompleted()})},b)},Hb.startWith=function(){var a,b=0;arguments.length&&sb(arguments[0])?(a=arguments[0],b=1):a=vb;for(var c=[],d=b,e=arguments.length;e>d;d++)c.push(arguments[d]);return Jb([$b(c,a),this]).concat()},Hb.takeLast=function(a){if(0>a)throw new sa;var b=this;return new Ac(function(c){var d=[];return b.subscribe(function(b){d.push(b),d.length>a&&d.shift()},function(a){c.onError(a)},function(){for(;d.length>0;)c.onNext(d.shift());c.onCompleted()})},b)},Hb.selectConcat=Hb.concatMap=function(a,b,c){return ka(a)&&ka(b)?this.concatMap(function(c,d){var e=a(c,d);return ja(e)&&(e=tc(e)),(Aa(e)||za(e))&&(e=Yb(e)),e.map(function(a,e){return b(c,a,d,e)})}):ka(a)?K(this,a,c):K(this,function(){return a})};var qc=function(a){function b(b,c,d){this.source=b,this.selector=Ca(c,d,3),a.call(this)}return cb(b,a),b.prototype.internalMap=function(a,c){var d=this;return new b(this.source,function(b,c,e){return a.call(this,d.selector(b,c,e),c,e)},c)},b.prototype.subscribeCore=function(a){return this.source.subscribe(new L(a,this.selector,this))},b}(Qb);L.prototype.onNext=function(a){if(!this.isStopped){var b=o(this.selector).call(this,a,this.i++,this.source);return b===ab?this.observer.onError(b.e):void this.observer.onNext(b)}},L.prototype.onError=function(a){this.isStopped||(this.isStopped=!0,this.observer.onError(a))},L.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.observer.onCompleted())},L.prototype.dispose=function(){this.isStopped=!0},L.prototype.fail=function(a){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(a),!0)},Hb.map=Hb.select=function(a,b){var c="function"==typeof a?a:function(){return a};return this instanceof qc?this.internalMap(c,b):new qc(this,c,b)},Hb.pluck=function(){var b=arguments,c=arguments.length;if(0===c)throw new Error("List of properties cannot be empty.");return this.map(function(d){for(var e=d,f=0;c>f;f++){var g=e[b[f]];if("undefined"==typeof g)return a;e=g}return e})},Hb.selectMany=Hb.flatMap=function(a,b,c){return ka(a)&&ka(b)?this.flatMap(function(c,d){var e=a(c,d);return ja(e)&&(e=tc(e)),(Aa(e)||za(e))&&(e=Yb(e)),e.map(function(a,e){return b(c,a,d,e)})},c):ka(a)?M(this,a,c):M(this,function(){return a})},Hb.selectSwitch=Hb.flatMapLatest=Hb.switchMap=function(a,b){return this.select(a,b).switchLatest()},Hb.skip=function(a){if(0>a)throw new sa;var b=this;return new Ac(function(c){var d=a;return b.subscribe(function(a){0>=d?c.onNext(a):d--},function(a){c.onError(a)},function(){c.onCompleted()})},b)},Hb.skipWhile=function(a,b){var c=this,d=Ca(a,b,3);return new Ac(function(a){var b=0,e=!1;return c.subscribe(function(f){if(!e)try{e=!d(f,b++,c)}catch(g){return void a.onError(g)}e&&a.onNext(f)},function(b){a.onError(b)},function(){a.onCompleted()})},c)},Hb.take=function(a,b){if(0>a)throw new sa;if(0===a)return Ub(b);var c=this;return new Ac(function(b){var d=a;return c.subscribe(function(a){d-->0&&(b.onNext(a),0===d&&b.onCompleted())},function(a){b.onError(a)},function(){b.onCompleted()})},c)},Hb.takeWhile=function(a,b){var c=this,d=Ca(a,b,3);return new Ac(function(a){var b=0,e=!0;return c.subscribe(function(f){if(e){try{e=d(f,b++,c)}catch(g){return void a.onError(g)}e?a.onNext(f):a.onCompleted()}},function(b){a.onError(b)},function(){a.onCompleted()})},c)};var rc=function(a){function b(b,c,d){this.source=b,this.predicate=Ca(c,d,3),a.call(this)}return cb(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new N(a,this.predicate,this))},b.prototype.internalFilter=function(a,c){var d=this;return new b(this.source,function(b,c,e){return d.predicate(b,c,e)&&a.call(this,b,c,e)},c)},b}(Qb);N.prototype.onNext=function(a){if(!this.isStopped){var b=o(this.predicate).call(this,a,this.i++,this.source);return b===ab?this.observer.onError(b.e):void(b&&this.observer.onNext(a))}},N.prototype.onError=function(a){this.isStopped||(this.isStopped=!0,this.observer.onError(a))},N.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.observer.onCompleted())},N.prototype.dispose=function(){this.isStopped=!0},N.prototype.fail=function(a){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(a),!0)},Hb.filter=Hb.where=function(a,b){return this instanceof rc?this.internalFilter(a,b):new rc(this,a,b)},Ob.fromCallback=function(a,b,c){return function(){for(var d=arguments.length,e=new Array(d),f=0;d>f;f++)e[f]=arguments[f];return new Ac(function(d){function f(){for(var a=arguments.length,e=new Array(a),f=0;a>f;f++)e[f]=arguments[f];if(c){try{e=c.apply(b,e)}catch(g){return d.onError(g)}d.onNext(e)}else e.length<=1?d.onNext.apply(d,e):d.onNext(e);d.onCompleted()}e.push(f),a.apply(b,e)}).publishLast().refCount()}},Ob.fromNodeCallback=function(a,b,c){return function(){for(var d=arguments.length,e=new Array(d),f=0;d>f;f++)e[f]=arguments[f];return new Ac(function(d){function f(a){if(a)return void d.onError(a);for(var e=arguments.length,f=[],g=1;e>g;g++)f[g-1]=arguments[g];if(c){try{f=c.apply(b,f)}catch(h){return d.onError(h)}d.onNext(f)}else f.length<=1?d.onNext.apply(d,f):d.onNext(f);d.onCompleted()}e.push(f),a.apply(b,e)}).publishLast().refCount()}},ca.config.useNativeEvents=!1,Ob.fromEvent=function(a,b,c){return a.addListener?sc(function(c){a.addListener(b,c)},function(c){a.removeListener(b,c)},c):ca.config.useNativeEvents||"function"!=typeof a.on||"function"!=typeof a.off?new Ac(function(d){return P(a,b,function(a){var b=a;if(c)try{b=c(arguments)}catch(e){return d.onError(e)}d.onNext(b)})}).publish().refCount():sc(function(c){a.on(b,c)},function(c){a.off(b,c)},c)};var sc=Ob.fromEventPattern=function(a,b,c){return new Ac(function(d){function e(a){var b=a;if(c)try{b=c(arguments)}catch(e){return d.onError(e)}d.onNext(b)}var f=a(e);return jb(function(){b&&b(e,f)})}).publish().refCount()},tc=Ob.fromPromise=function(a){return Sb(function(){var b=new ca.AsyncSubject;return a.then(function(a){b.onNext(a),b.onCompleted()},b.onError.bind(b)),b})};Hb.toPromise=function(a){if(a||(a=ca.config.Promise),!a)throw new ta("Promise type not provided nor in Rx.config.Promise");var b=this;return new a(function(a,c){var d,e=!1;b.subscribe(function(a){d=a,e=!0},c,function(){e&&a(d)})})},Ob.startAsync=function(a){var b;try{b=a()}catch(c){return gc(c)}return tc(b)},Hb.multicast=function(a,b){var c=this;return"function"==typeof a?new Ac(function(d){var e=c.multicast(a());return new gb(b(e).subscribe(d),e.connect())},c):new uc(c,a)},Hb.publish=function(a){return a&&ka(a)?this.multicast(function(){return new Dc},a):this.multicast(new Dc)},Hb.share=function(){return this.publish().refCount()},Hb.publishLast=function(a){return a&&ka(a)?this.multicast(function(){return new Ec},a):this.multicast(new Ec)},Hb.publishValue=function(a,b){return 2===arguments.length?this.multicast(function(){return new Gc(b)},a):this.multicast(new Gc(a))},Hb.shareValue=function(a){return this.publishValue(a).refCount()},Hb.replay=function(a,b,c,d){return a&&ka(a)?this.multicast(function(){return new Hc(b,c,d)},a):this.multicast(new Hc(b,c,d))},Hb.shareReplay=function(a,b,c){return this.replay(null,a,b,c).refCount()};{var uc=ca.ConnectableObservable=function(a){function b(b,c){var d,e=!1,f=b.asObservable();this.connect=function(){return e||(e=!0,d=new gb(f.subscribe(c),jb(function(){e=!1}))),d},a.call(this,function(a){return c.subscribe(a)})}return cb(b,a),b.prototype.refCount=function(){var a,b=0,c=this;return new Ac(function(d){var e=1===++b,f=c.subscribe(d);return e&&(a=c.connect()),function(){f.dispose(),0===--b&&a.dispose()}})},b}(Ob),vc=Ob.interval=function(a,b){return T(a,a,sb(b)?b:Ab)};Ob.timer=function(b,c,d){var e;return sb(d)||(d=Ab),c!==a&&"number"==typeof c?e=c:sb(c)&&(d=c),b instanceof Date&&e===a?Q(b.getTime(),d):b instanceof Date&&e!==a?(e=c,R(b.getTime(),e,d)):e===a?S(b,d):T(b,e,d)}}Hb.delay=function(a,b){return sb(b)||(b=Ab),a instanceof Date?V(this,a.getTime(),b):U(this,a,b)},Hb.debounce=Hb.throttleWithTimeout=function(a,b){sb(b)||(b=Ab);var c=this;return new Ac(function(d){var e,f=new ob,g=!1,h=0,i=c.subscribe(function(c){g=!0,e=c,h++;var i=h,j=new nb;f.setDisposable(j),j.setDisposable(b.scheduleWithRelative(a,function(){g&&h===i&&d.onNext(e),g=!1}))},function(a){f.dispose(),d.onError(a),g=!1,h++},function(){f.dispose(),g&&d.onNext(e),d.onCompleted(),g=!1,h++});return new gb(i,f)},this)},Hb.throttle=function(a,b){return this.debounce(a,b)},Hb.timestamp=function(a){return sb(a)||(a=Ab),this.map(function(b){return{value:b,timestamp:a.now()}})},Hb.sample=Hb.throttleLatest=function(a,b){return sb(b)||(b=Ab),"number"==typeof a?W(this,vc(a,b)):W(this,a)},Hb.timeout=function(a,b,c){(null==b||"string"==typeof b)&&(b=gc(new Error(b||"Timeout"))),sb(c)||(c=Ab);var d=this,e=a instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new Ac(function(f){function g(){var d=h;l.setDisposable(c[e](a,function(){h===d&&(ja(b)&&(b=tc(b)),j.setDisposable(b.subscribe(f)))}))}var h=0,i=new nb,j=new ob,k=!1,l=new ob;return j.setDisposable(i),g(),i.setDisposable(d.subscribe(function(a){k||(h++,f.onNext(a),g())},function(a){k||(h++,f.onError(a))},function(){k||(h++,f.onCompleted())})),new gb(j,l)},d)},Hb.throttleFirst=function(a,b){sb(b)||(b=Ab);var c=+a||0;if(0>=c)throw new RangeError("windowDuration cannot be less or equal zero.");var d=this;return new Ac(function(a){var e=0;return d.subscribe(function(d){var f=b.now();(0===e||f-e>=c)&&(e=f,a.onNext(d))},function(b){a.onError(b)},function(){a.onCompleted()})},d)};var wc=function(a){function b(a){var b=this.source.publish(),c=b.subscribe(a),d=kb,e=this.pauser.distinctUntilChanged().subscribe(function(a){a?d=b.connect():(d.dispose(),d=kb)});return new gb(c,d,e)}function c(c,d){this.source=c,this.controller=new Dc,this.pauser=d&&d.subscribe?this.controller.merge(d):this.controller,a.call(this,b,c)}return cb(c,a),c.prototype.pause=function(){this.controller.onNext(!1)},c.prototype.resume=function(){this.controller.onNext(!0)},c}(Ob);Hb.pausable=function(a){return new wc(this,a)};var xc=function(b){function c(b){var c,d=[],e=X(this.source,this.pauser.distinctUntilChanged().startWith(!1),function(a,b){return{data:a,shouldFire:b}}).subscribe(function(e){if(c!==a&&e.shouldFire!=c){if(c=e.shouldFire,e.shouldFire)for(;d.length>0;)b.onNext(d.shift())}else c=e.shouldFire,e.shouldFire?b.onNext(e.data):d.push(e.data)},function(a){for(;d.length>0;)b.onNext(d.shift());b.onError(a)},function(){for(;d.length>0;)b.onNext(d.shift());b.onCompleted()});return e}function d(a,d){this.source=a,this.controller=new Dc,this.pauser=d&&d.subscribe?this.controller.merge(d):this.controller,b.call(this,c,a)}return cb(d,b),d.prototype.pause=function(){this.controller.onNext(!1)},d.prototype.resume=function(){this.controller.onNext(!0)},d}(Ob);Hb.pausableBuffered=function(a){return new xc(this,a)};var yc=function(a){function b(a){return this.source.subscribe(a)}function c(c,d,e){a.call(this,b,c),this.subject=new zc(d,e),this.source=c.multicast(this.subject).refCount()}return cb(c,a),c.prototype.request=function(a){return this.subject.request(null==a?-1:a)},c}(Ob),zc=function(a){function b(a){return this.subject.subscribe(a)}function c(c,d){null==c&&(c=!0),a.call(this,b),this.subject=new Dc,this.enableQueue=c,this.queue=c?[]:null,this.requestedCount=0,this.requestedDisposable=kb,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=d||wb}return cb(c,a),db(c.prototype,Kb,{onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(Bb.createOnCompleted()):this.subject.onCompleted()},onError:function(a){this.hasFailed=!0,this.error=a,this.enableQueue&&0!==this.queue.length?this.queue.push(Bb.createOnError(a)):this.subject.onError(a)},onNext:function(a){var b=!1;0===this.requestedCount?this.enableQueue&&this.queue.push(Bb.createOnNext(a)):(-1!==this.requestedCount&&0===this.requestedCount--&&this.disposeCurrentRequest(),b=!0),b&&this.subject.onNext(a)},_processRequest:function(a){if(this.enableQueue){for(;this.queue.length>=a&&a>0||this.queue.length>0&&"N"!==this.queue[0].kind;){var b=this.queue.shift();b.accept(this.subject),"N"===b.kind?a--:(this.disposeCurrentRequest(),this.queue=[])}return{numberOfItems:a,returnValue:0!==this.queue.length}}return{numberOfItems:a,returnValue:!1}},request:function(a){this.disposeCurrentRequest();var b=this;return this.requestedDisposable=this.scheduler.scheduleWithState(a,function(a,c){var d=b._processRequest(c),e=d.numberOfItems;d.returnValue||(b.requestedCount=e,b.requestedDisposable=jb(function(){b.requestedCount=0}))}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable.dispose(),this.requestedDisposable=kb}}),c}(Ob);Hb.controlled=function(a,b){return a&&sb(a)&&(b=a,a=!0),null==a&&(a=!0),new yc(this,a,b)},Hb.pipe=function(a){function b(){c.resume()}var c=this.pausableBuffered();return a.addListener("drain",b),c.subscribe(function(b){!a.write(String(b))&&c.pause()},function(b){a.emit("error",b)},function(){!a._isStdio&&a.end(),a.removeListener("drain",b)}),c.resume(),a},Hb.transduce=function(a){function b(a){return{"@@transducer/init":function(){return a},"@@transducer/step":function(a,b){return a.onNext(b)},"@@transducer/result":function(a){return a.onCompleted()}}}var c=this;return new Ac(function(d){var e=a(b(d));return c.subscribe(function(a){try{e["@@transducer/step"](d,a)}catch(b){d.onError(b)}},function(a){d.onError(a)},function(){e["@@transducer/result"](d)})},c)};var Ac=ca.AnonymousObservable=function(a){function b(a){return a&&ka(a.dispose)?a:ka(a)?jb(a):kb}function c(a,c){var d=c[0],e=c[1],f=o(e)(d);return f!==ab||d.fail(ab.e)?void d.setDisposable(b(f)):p(ab.e)}function d(b,d){function e(a){var d=new Bc(a),e=[d,b];return wb.scheduleRequired()?wb.scheduleWithState(e,c):c(null,e),d}this.source=d,a.call(this,e)}return cb(d,a),d}(Ob),Bc=function(a){function b(b){a.call(this),this.observer=b,this.m=new nb}cb(b,a);var c=b.prototype;return c.next=function(a){var b=o(this.observer.onNext).call(this.observer,a);b===ab&&(this.dispose(),p(b.e))},c.error=function(a){var b=o(this.observer.onError).call(this.observer,a);this.dispose(),b===ab&&p(b.e)},c.completed=function(){var a=o(this.observer.onCompleted).call(this.observer);this.dispose(),a===ab&&p(a.e)},c.setDisposable=function(a){this.m.setDisposable(a)},c.getDisposable=function(){return this.m.getDisposable()},c.dispose=function(){a.prototype.dispose.call(this),this.m.dispose()},b}(Mb),Cc=function(a,b){this.subject=a,this.observer=b};Cc.prototype.dispose=function(){if(!this.subject.isDisposed&&null!==this.observer){var a=this.subject.observers.indexOf(this.observer);this.subject.observers.splice(a,1),this.observer=null}};var Dc=ca.Subject=function(a){function c(a){return mb(this),this.isStopped?this.hasError?(a.onError(this.error),kb):(a.onCompleted(),kb):(this.observers.push(a),new Cc(this,a))}function d(){a.call(this,c),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return cb(d,a),db(d.prototype,Kb.prototype,{hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(mb(this),!this.isStopped){this.isStopped=!0;for(var a=0,c=b(this.observers),d=c.length;d>a;a++)c[a].onCompleted();this.observers.length=0}},onError:function(a){if(mb(this),!this.isStopped){this.isStopped=!0,this.error=a,this.hasError=!0;for(var c=0,d=b(this.observers),e=d.length;e>c;c++)d[c].onError(a);this.observers.length=0}},onNext:function(a){if(mb(this),!this.isStopped)for(var c=0,d=b(this.observers),e=d.length;e>c;c++)d[c].onNext(a)},dispose:function(){this.isDisposed=!0,this.observers=null}}),d.create=function(a,b){return new Fc(a,b)},d}(Ob),Ec=ca.AsyncSubject=function(a){function c(a){return mb(this),this.isStopped?(this.hasError?a.onError(this.error):this.hasValue?(a.onNext(this.value),a.onCompleted()):a.onCompleted(),kb):(this.observers.push(a),new Cc(this,a))}function d(){a.call(this,c),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return cb(d,a),db(d.prototype,Kb,{hasObservers:function(){return mb(this),this.observers.length>0},onCompleted:function(){var a,c;if(mb(this),!this.isStopped){this.isStopped=!0;var d=b(this.observers),c=d.length;if(this.hasValue)for(a=0;c>a;a++){var e=d[a];e.onNext(this.value),e.onCompleted()}else for(a=0;c>a;a++)d[a].onCompleted();this.observers.length=0}},onError:function(a){if(mb(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=a;for(var c=0,d=b(this.observers),e=d.length;e>c;c++)d[c].onError(a);this.observers.length=0}},onNext:function(a){mb(this),this.isStopped||(this.value=a,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.exception=null,this.value=null}}),d}(Ob),Fc=ca.AnonymousSubject=function(a){function b(a){return this.observable.subscribe(a)}function c(c,d){this.observer=c,this.observable=d,a.call(this,b)}return cb(c,a),db(c.prototype,Kb.prototype,{onCompleted:function(){this.observer.onCompleted()},onError:function(a){this.observer.onError(a)},onNext:function(a){this.observer.onNext(a)}}),c}(Ob),Gc=ca.BehaviorSubject=function(a){function c(a){return mb(this),this.isStopped?(this.hasError?a.onError(this.error):a.onCompleted(),kb):(this.observers.push(a),a.onNext(this.value),new Cc(this,a))}function d(b){a.call(this,c),this.value=b,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return cb(d,a),db(d.prototype,Kb,{getValue:function(){if(mb(this),this.hasError)throw this.error;return this.value},hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(mb(this),!this.isStopped){this.isStopped=!0;for(var a=0,c=b(this.observers),d=c.length;d>a;a++)c[a].onCompleted();this.observers.length=0}},onError:function(a){if(mb(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=a;for(var c=0,d=b(this.observers),e=d.length;e>c;c++)d[c].onError(a);this.observers.length=0}},onNext:function(a){if(mb(this),!this.isStopped){this.value=a;for(var c=0,d=b(this.observers),e=d.length;e>c;c++)d[c].onNext(a)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.exception=null}}),d}(Ob),Hc=ca.ReplaySubject=function(a){function c(a,b){return jb(function(){b.dispose(),!a.isDisposed&&a.observers.splice(a.observers.indexOf(b),1)})}function d(a){var b=new Pb(this.scheduler,a),d=c(this,b);mb(this),this._trim(this.scheduler.now()),this.observers.push(b);for(var e=0,f=this.q.length;f>e;e++)b.onNext(this.q[e].value);return this.hasError?b.onError(this.error):this.isStopped&&b.onCompleted(),
b.ensureActive(),d}function e(b,c,e){this.bufferSize=null==b?f:b,this.windowSize=null==c?f:c,this.scheduler=e||wb,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,a.call(this,d)}var f=Math.pow(2,53)-1;return cb(e,a),db(e.prototype,Kb.prototype,{hasObservers:function(){return this.observers.length>0},_trim:function(a){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&a-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(a){if(mb(this),!this.isStopped){var c=this.scheduler.now();this.q.push({interval:c,value:a}),this._trim(c);for(var d=0,e=b(this.observers),f=e.length;f>d;d++){var g=e[d];g.onNext(a),g.ensureActive()}}},onError:function(a){if(mb(this),!this.isStopped){this.isStopped=!0,this.error=a,this.hasError=!0;var c=this.scheduler.now();this._trim(c);for(var d=0,e=b(this.observers),f=e.length;f>d;d++){var g=e[d];g.onError(a),g.ensureActive()}this.observers.length=0}},onCompleted:function(){if(mb(this),!this.isStopped){this.isStopped=!0;var a=this.scheduler.now();this._trim(a);for(var c=0,d=b(this.observers),e=d.length;e>c;c++){var f=d[c];f.onCompleted(),f.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),e}(Ob);ca.Pauser=function(a){function b(){a.call(this)}return cb(b,a),b.prototype.pause=function(){this.onNext(!1)},b.prototype.resume=function(){this.onNext(!0)},b}(Dc),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Z.Rx=ca,define(function(){return ca})):$&&_?aa?(_.exports=ca).Rx=ca:$.Rx=ca:Z.Rx=ca;var Ic=g()}).call(this);
//# sourceMappingURL=rx.lite.map
// Copyright (c) Microsoft Open Technologies, Inc. All rights reserved. See License.txt in the project root for license information.
(function (root, factory) {
    var freeExports = typeof exports == 'object' && exports &&
    (typeof root == 'object' && root && root == root.global && (window = root), exports);

    // Because of build optimizers
    if (typeof define === 'function' && define.amd) {
        define(['rx', 'jquery', 'exports'], function (Rx, jQuery, exports) {
            root.Rx = factory(root, exports, Rx, jQuery);
            return root.Rx;
        });
    } else if (typeof module == 'object' && module && module.exports == freeExports) {
        module.exports = factory(root, module.exports, require('rx'), require('jquery'));
    } else {
        root.Rx = factory(root, {}, root.Rx, jQuery);
    }
}(this, function (global, exp, Rx, $, undefined) {
        // Headers
    var observable = Rx.Observable,
        observableProto = observable.prototype,
        AsyncSubject = Rx.AsyncSubject,
        observableCreate = observable.create,
        observableCreateWithDisposable = observable.createWithDisposable,
        disposableEmpty = Rx.Disposable.empty,
        slice = Array.prototype.slice,
        proto = $.fn;

    function observableCreateRefCount(subscribe) {
    	return observableCreate(subscribe).publish().refCount();
    }
        // Check for deferred as of jQuery 1.5
    if ($.Deferred) {
        /**
         * Converts the jQuery Deferred to an Observable sequence
         * @returns {Observable} An Observable sequence created from a jQuery Deferred object.
         */    
        $.Deferred.toObservable = function (deferred) {
            var subject = new AsyncSubject();
            deferred.done(function () {
                subject.onNext(slice.call(arguments));
                subject.onCompleted();
            }).fail(function () {
                subject.onError(slice.call(arguments));
            });
            return subject;
        };

        /**
         * Converts an existing Observable sequence to a jQuery Deferred object.
         * @returns {Deferred} A jQuery Deferred object wrapping the Observable sequence.
         */
        observableProto.toDeferred = function () {
            var deferred = $.Deferred();
            this.subscribe(function (value) {
                deferred.resolve(value);
            }, function (e) { 
                deferred.reject(e);
            });
            return deferred;  
        };        
    }
        //in order to support jQuery 1.6.*
    if ($.Callbacks) {

        /**
         * Converts an existing Callbacks object to an Observable sequence
         * @returns {Observable} An Observable sequence created from a jQuery Callbacks object.
         */
        $.Callbacks.prototype.toObservable = function () {
            var parent = this;
            return observableCreate(function (observer) {

                function handler(values) {
                    observer.onNext(values);
                }

                parent.add(handler);

                return function () {
                    parent.remove(handler);
                };
            });
        };
    }  if (!!proto.on) {
    /**
     * Attach an event handler function for one or more events to the selected elements as an Observable sequence.
     *
     * @param {String} events One or more space-separated event types and optional namespaces, such as "click" or "keydown.myPlugin".
     * @param {String} [selector] A selector string to filter the descendants of the selected elements that trigger the event. If the selector is null or omitted, the event is always triggered when it reaches the selected element.
     * @param {Any} [data] Data to be passed to the handler in event.data when an event is triggered.
     * @returns {Observable} An Observable sequence which wraps the jQuery on method.
     */
    proto.onAsObservable = function () {
        var parent = this, oargs = slice.call(arguments, 0), args;
        return observableCreateRefCount(function(observer) {
          function handler(eventObject) {
            eventObject.additionalArguments = slice.call(arguments, 1);
            observer.onNext(eventObject);
          }

          args = oargs.slice();
          args.push(handler);

          parent.on.apply(parent, args);

          return function() {
            parent.off.apply(parent, args);
          };
        });         
    };
  }

  /** 
   * Attach a handler to an event for the elements as an Observable sequence.
   *
   * @param {String} eventType A string containing one or more DOM event types, such as "click" or "submit," or custom event names.
   * @param {Object} eventData An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery bind method.
   */
  proto.bindAsObservable = function(eventType, eventData) {
    var parent = this;
    return observableCreateRefCount(function(observer) {

      function handler(eventObject) {
        eventObject.additionalArguments = slice.call(arguments, 1);
        observer.onNext(eventObject);
      }

      parent.bind(eventType, eventData, handler);

      return function() {
        parent.unbind(eventType, eventData, handler);
      };
    });
  };

  /**
   * Attach a handler to one or more events for all elements that match the selector, now or in the future, based on a specific set of root elements as an Observable sequence
   *
   * @param {String} selector A selector to filter the elements that trigger the event.
   * @param {String} eventType A string containing one or more space-separated JavaScript event types, such as "click" or "keydown," or custom event names.
   * @param {Object} eventData An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery delegate method
   */
  proto.delegateAsObservable = function(selector, eventType, eventData) {
    var parent = this;
    return observableCreateRefCount(function(observer) {
      function handler(eventObject) {
        eventObject.additionalArguments = slice.call(arguments, 1);
        observer.onNext(eventObject);
      }

      parent.delegate(selector, eventType, eventData, handler);

      return function() {
        parent.undelegate(selector, eventType, handler);
      };
    });
  };

  // Removed as of 1.9
  if (!!proto.live) {
    /**
     * Attach an event handler for all elements which match the current selector, now and in the future as an Observable sequence
     *
     * @param {String} eventType A string containing a JavaScript event type, such as "click" or "keydown." As of jQuery 1.4 the string can contain multiple, space-separated event types or custom event names.
     * @param {Object} data An object containing data that will be passed to the event handler.
     * @returns {Observable} An Observable sequence which wraps the jQuery live method
     */
    proto.liveAsObservable = function(eventType, data) {
      var parent = this;
      return observableCreateRefCount(function(observer) {
        function handler(eventObject) {
          eventObject.additionalArguments = slice.call(arguments, 1);
          observer.onNext(eventObject);
        }

        parent.live(eventType, data, handler);
        
        return function() {
          parent.die(eventType, data, handler);
        };
      });
    };
  }

  /**
   * Bind an event handler to the “change” JavaScript event, or trigger that event on an element as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “change” event.
   */
  proto.changeAsObservable = function (eventData) {
    return this.bindAsObservable('change', eventData);
  };

  /**
   * Bind an event handler to the “click” JavaScript event, or trigger that event on an element as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “click” event.
   */
  proto.clickAsObservable = function (eventData) {
    return this.bindAsObservable('click', eventData);
  };

  /**
   * Bind an event handler to the “dblclick” JavaScript event, or trigger that event on an element as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery "“dblclick”" event.
   */
  proto.dblclickAsObservable = function (eventData) {
    return this.bindAsObservable('dblclick', eventData);
  };    

  /**
   * Bind an event handler to the “focus” JavaScript event, or trigger that event on an element as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery "“focus”" event.
   */
  proto.focusAsObservable = function(eventData) {
    return this.bindAsObservable('focus', eventData);
  };

  /**
   * Bind an event handler to the “focusin” event as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “focusin” event.
   */
  proto.focusinAsObservable = function(eventData) {
    return this.bindAsObservable('focusin', eventData);
  };

  /**
   * Bind an event handler to the “focusin” event as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “focusin” event.
   */
  proto.focusoutAsObservable = function(eventData) {
    return this.bindAsObservable('focusout', eventData);
  };

  /**
   * Bind an event handler to the "keypress" JavaScript event, or trigger that event on an element as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “keypress” event.
   */
  proto.keypressAsObservable = function(eventData) {
    return this.bindAsObservable('keypress', eventData);
  };


  /**
   * Bind an event handler to the “keydown” JavaScript event, or trigger that event on an element as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “keydown” event.
   */
  proto.keydownAsObservable = function(eventData) {
    return this.bindAsObservable('keydown', eventData);
  };

  /**
   * Bind an event handler to the “keyup” JavaScript event, or trigger that event on an element as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “keyup” event.
   */
  proto.keyupAsObservable = function(eventData) {
    return this.bindAsObservable('keyup', eventData);
  };

  /**
   * Bind an event handler to the “load” JavaScript event as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “load” event.
   */
  proto.loadAsObservable = function(eventData) {
    return this.bindAsObservable('load', eventData);
  };

  /**
   * Bind an event handler to the “mousedown” JavaScript event, or trigger that event on an element as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “mousedown” event.
   */
  proto.mousedownAsObservable = function(eventData) {
    return this.bindAsObservable('mousedown', eventData);
  };

  /**
   * Bind an event handler to be fired when the mouse enters an element, or trigger that handler on an element as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “mouseenter” event.
   */
  proto.mouseenterAsObservable = function(eventData) {
    return this.bindAsObservable('mouseenter', eventData);
  };

  /**
   * Bind an event handler to be fired when the mouse leaves an element, or trigger that handler on an element as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “mouseleave” event.
   */
  proto.mouseleaveAsObservable = function(eventData) {
    return this.bindAsObservable('mouseleave', eventData);
  };

  /**
   * Bind an event handler to the “mousemove” JavaScript event, or trigger that event on an element as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “mousemove” event.
   */
  proto.mousemoveAsObservable = function(eventData) {
    return this.bindAsObservable('mousemove', eventData);
  };

  /**
   * Bind an event handler to the “mouseout” JavaScript event, or trigger that event on an element as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “mouseout” event.
   */
  proto.mouseoutAsObservable = function(eventData) {
    return this.bindAsObservable('mouseout', eventData);  
  };

  /**
   * Bind an event handler to the “mouseover” JavaScript event, or trigger that event on an element as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “mouseover” event.
   */
  proto.mouseoverAsObservable = function(eventData) {
    return this.bindAsObservable('mouseover', eventData);
  };

  /**
   * Bind an event handler to the “mouseup” JavaScript event, or trigger that event on an element as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “mouseup” event.
   */
  proto.mouseupAsObservable = function(eventData) {
    return this.bindAsObservable('mouseup', eventData);
  };

  /**
   * Bind an event handler to the “resize” JavaScript event, or trigger that event on an element as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “resize” event.
   */
  proto.resizeAsObservable = function(eventData) {
    return this.bindAsObservable('resize', eventData);
  };

  /**
   * Bind an event handler to the “scroll” JavaScript event, or trigger that event on an element as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “scroll” event.
   */
  proto.scrollAsObservable = function(eventData) {
    return this.bindAsObservable('scroll', eventData);
  };

  /**
   * Bind an event handler to the “select” JavaScript event, or trigger that event on an element as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “select” event.
   */
  proto.selectAsObservable = function(eventData) {
    return this.bindAsObservable('select', eventData);
  };

  /**
   * Bind an event handler to the “select” JavaScript event, or trigger that event on an element as an Observable sequence.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “select” event.
   */
  proto.submitAsObservable = function(eventData) {
    return this.bindAsObservable('submit', eventData);
  };

  /**
   * Bind an event handler to the “unload” JavaScript event as an Observable sequence.  This is deprecated as of jQuery 1.8.
   *
   * @param {Object} [eventData] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery “unload” event.
   */
  proto.unloadAsObservable = function(eventData) {
    return this.bindAsObservable('unload', eventData);
  };

  /**
   * Attach a handler to an event for the elements as an Observable sequence. The handler is executed at most once per element.
   *
   * @param {String} events A string containing one or more JavaScript event types, such as "click" or "submit," or custom event names.
   * @param {String} [selector] A selector string to filter the descendants of the selected elements that trigger the event. If the selector is null or omitted, the event is always triggered when it reaches the selected element.
   * @param {Object} [data] An object containing data that will be passed to the event handler.
   * @returns {Observable} An Observable sequence which wraps the jQuery one method.
   */
  proto.oneAsObservable = function(events) {
    var parent = this, oargs = slice.call(arguments, 0), args;
    return observableCreateRefCount(function(observer) {
      function handler (eventObject) {
        eventObject.additionalArguments = slice.call(arguments, 1);
        observer.onNext(eventObject);	
      }

      args = oargs.slice();
      args.push(handler);
      
      parent.one.apply(parent, args);
    });
  };

  /**
   * Specify a function to execute when the DOM is fully loaded as an Observable sequence.
   *
   * @returns {Observable} An Observable sequence which wraps the jQuery ready method.
   */
  proto.readyAsObservable = function() {
    var parent = this;
    return observableCreateRefCount(function(observer) {

      function handler(eventObject) {
        observer.onNext(eventObject);
      }

      parent.ready(handler);
    });
  };
    function handleAnimation(jQueryProto, method, args) {
        var options = args[0];

        // Check for duration
        if (typeof options === 'number' || typeof options === 'string') {
            options = { duration: options };
        } else if (!options) {
            options = {};
        }

        // Check for easing
        if (args.length === 2) {
            options.easing = args[1];
        }    

        var subject = new AsyncSubject();

        options.complete = function() {
            subject.onNext(jQueryProto);
            subject.onCompleted();
        };

        jQueryProto[method](options);

        return subject.asObservable();
    }

    /**
     * Hide the matched elements as an Observable sequence.
     *
     * @param {String|Number} [duration] A string or number determining how long the animation will run.  If not specified, defaults to 400.
     * @param {String} [easing] A string indicating which easing function to use for the transition.        
     * @param {Object} [options] A map of additional options to pass to the method.
     * @param {String|Number} [options.duration] A string or number determining how long the animation will run.
     * @param {String} [options.easing] A string indicating which easing function to use for the transition.
     * @param {String|Boolean} [options.queue] A Boolean indicating whether to place the animation in the effects queue. If false, the animation will begin immediately. As of jQuery 1.7, the queue option can also accept a string, in which case the animation is added to the queue represented by that string. When a custom queue name is used the animation does not automatically start; you must call .dequeue("queuename") to start it.
     * @param {Object} [options.specialEasing] A map of one or more of the CSS properties defined by the properties argument and their corresponding easing functions.
     * @param {Number} [options.step] A function to be called for each animated property of each animated element. This function provides an opportunity to modify the Tween object to change the value of the property before it is set.
     * @returns {Observable} An Observable sequence which wraps the jQuery hide method.     
     */
    proto.hideAsObservable = function (options) {
        return handleAnimation(this, 'hide', arguments);
    };

    /**
     * Display the matched elements as an Observable sequence.
     *
     * @param {String|Number} [duration] A string or number determining how long the animation will run.  If not specified, defaults to 400.
     * @param {String} [easing] A string indicating which easing function to use for the transition.     
     * @param {Object} [options] A map of additional options to pass to the method.
     * @param {String|Number} [options.duration] A string or number determining how long the animation will run.
     * @param {String} [options.easing] A string indicating which easing function to use for the transition.
     * @param {String|Boolean} [options.queue] A Boolean indicating whether to place the animation in the effects queue. If false, the animation will begin immediately. As of jQuery 1.7, the queue option can also accept a string, in which case the animation is added to the queue represented by that string. When a custom queue name is used the animation does not automatically start; you must call .dequeue("queuename") to start it.
     * @param {Object} [options.specialEasing] A map of one or more of the CSS properties defined by the properties argument and their corresponding easing functions.
     * @param {Number} [options.step] A function to be called for each animated property of each animated element. This function provides an opportunity to modify the Tween object to change the value of the property before it is set.
     * @returns {Observable} An Observable sequence which wraps the jQuery show method.     
     */
    proto.showAsObservable = function(options) {
        return handleAnimation(this, 'show', arguments);
    };

    /**
     * Display the matched elements as an Observable sequence.
     *
     * @param {Object} properties An object of CSS properties and values that the animation will move toward.
     * @param {String|Number} [duration] A string or number determining how long the animation will run.  If not specified, defaults to 400.
     * @param {String} [easing] A string indicating which easing function to use for the transition.     
     * @param {Object} [options] A map of additional options to pass to the method.
     * @param {String|Number} [options.duration] A string or number determining how long the animation will run.
     * @param {String} [options.easing] A string indicating which easing function to use for the transition.
     * @param {String|Boolean} [options.queue] A Boolean indicating whether to place the animation in the effects queue. If false, the animation will begin immediately. As of jQuery 1.7, the queue option can also accept a string, in which case the animation is added to the queue represented by that string. When a custom queue name is used the animation does not automatically start; you must call .dequeue("queuename") to start it.
     * @param {Object} [options.specialEasing] A map of one or more of the CSS properties defined by the properties argument and their corresponding easing functions.
     * @param {Number} [options.step] A function to be called for each animated property of each animated element. This function provides an opportunity to modify the Tween object to change the value of the property before it is set.
     * @returns {Observable} An Observable sequence which wraps the jQuery show method.     
     */
    proto.animateAsObservable = function(properties, options) {
        // Check for duration
        if (typeof options === 'number' || typeof options === 'string') {
            options = { duration: options };
        } else if (!options) {
            options = {};
        }

        // Check for easing
        if (arguments.length === 3) {
            options.easing = arguments[2];
        }  

        var subject = new AsyncSubject();

        options.complete = function() {
            subject.onNext(this);
            subject.onCompleted();
        };        

        this.animate(properties, options);

        return subject.asObservable();
    };

    /**
     * Display the matched elements as an Observable sequence.
     *
     * @param {String|Number} [duration] A string or number determining how long the animation will run.  If not specified, defaults to 400.
     * @param {String} [easing] A string indicating which easing function to use for the transition.     
     * @param {Object} [options] A map of additional options to pass to the method.
     * @param {String|Number} [options.duration] A string or number determining how long the animation will run.
     * @param {String} [options.easing] A string indicating which easing function to use for the transition.
     * @param {String|Boolean} [options.queue] A Boolean indicating whether to place the animation in the effects queue. If false, the animation will begin immediately. As of jQuery 1.7, the queue option can also accept a string, in which case the animation is added to the queue represented by that string. When a custom queue name is used the animation does not automatically start; you must call .dequeue("queuename") to start it.
     * @param {Object} [options.specialEasing] A map of one or more of the CSS properties defined by the properties argument and their corresponding easing functions.
     * @param {Number} [options.step] A function to be called for each animated property of each animated element. This function provides an opportunity to modify the Tween object to change the value of the property before it is set.
     * @returns {Observable} An Observable sequence which wraps the jQuery fadeIn method.     
     */
    proto.fadeInAsObservable = function(options) {
        return handleAnimation(this, 'fadeIn', arguments);
    };

    /**
     * Adjust the opacity of the matched elements as an Observable sequence
     *
     * @param {String|Number} duration A string or number determining how long the animation will run.
     * @param {Number} opacity A number between 0 and 1 denoting the target opacity.
     * @param {String} [easing] A string indicating which easing function to use for the transition.
     * @returns {Observable} An Observable sequence which wraps the jQuery fadeTo method.   
     */
    proto.fadeToAsObservable = function(duration, opacity, easing) {
        var subject = new AsyncSubject();

        this.fadeTo(duration, opacity, easing, function() {
            subject.onNext(proto);
            subject.onCompleted();
        });

        return subject.asObservable();
    };

    /**
     * Hide the matched elements by fading them to transparent as an Observable sequence.
     *
     * @param {String|Number} [duration] A string or number determining how long the animation will run.  If not specified, defaults to 400.
     * @param {String} [easing] A string indicating which easing function to use for the transition.     
     * @param {Object} [options] A map of additional options to pass to the method.
     * @param {String|Number} [options.duration] A string or number determining how long the animation will run.
     * @param {String} [options.easing] A string indicating which easing function to use for the transition.
     * @param {String|Boolean} [options.queue] A Boolean indicating whether to place the animation in the effects queue. If false, the animation will begin immediately. As of jQuery 1.7, the queue option can also accept a string, in which case the animation is added to the queue represented by that string. When a custom queue name is used the animation does not automatically start; you must call .dequeue("queuename") to start it.
     * @param {Object} [options.specialEasing] A map of one or more of the CSS properties defined by the properties argument and their corresponding easing functions.
     * @param {Number} [options.step] A function to be called for each animated property of each animated element. This function provides an opportunity to modify the Tween object to change the value of the property before it is set.
     * @returns {Observable} An Observable sequence which wraps the jQuery fadeOut method.     
     */
    proto.fadeOutAsObservable = function(options) {
        return handleAnimation(this, 'fadeOut', arguments);
    };

    /**
     * Display or hide the matched elements by animating their opacity as an Observable sequence.
     *
     * @param {String|Number} [duration] A string or number determining how long the animation will run.  If not specified, defaults to 400.
     * @param {String} [easing] A string indicating which easing function to use for the transition.     
     * @param {Object} [options] A map of additional options to pass to the method.
     * @param {String|Number} [options.duration] A string or number determining how long the animation will run.
     * @param {String} [options.easing] A string indicating which easing function to use for the transition.
     * @param {String|Boolean} [options.queue] A Boolean indicating whether to place the animation in the effects queue. If false, the animation will begin immediately. As of jQuery 1.7, the queue option can also accept a string, in which case the animation is added to the queue represented by that string. When a custom queue name is used the animation does not automatically start; you must call .dequeue("queuename") to start it.
     * @param {Object} [options.specialEasing] A map of one or more of the CSS properties defined by the properties argument and their corresponding easing functions.
     * @param {Number} [options.step] A function to be called for each animated property of each animated element. This function provides an opportunity to modify the Tween object to change the value of the property before it is set.
     * @returns {Observable} An Observable sequence which wraps the jQuery fadeToggle method.     
     */
    proto.fadeToggleAsObservable = function(options) {
        return handleAnimation(this, 'fadeToggle', arguments);
    };

    /**
     * Display the matched elements with a sliding motion as an Observable sequence.
     *
     * @param {String|Number} [duration] A string or number determining how long the animation will run.  If not specified, defaults to 400.
     * @param {String} [easing] A string indicating which easing function to use for the transition.     
     * @param {Object} [options] A map of additional options to pass to the method.
     * @param {String|Number} [options.duration] A string or number determining how long the animation will run.
     * @param {String} [options.easing] A string indicating which easing function to use for the transition.
     * @param {String|Boolean} [options.queue] A Boolean indicating whether to place the animation in the effects queue. If false, the animation will begin immediately. As of jQuery 1.7, the queue option can also accept a string, in which case the animation is added to the queue represented by that string. When a custom queue name is used the animation does not automatically start; you must call .dequeue("queuename") to start it.
     * @param {Object} [options.specialEasing] A map of one or more of the CSS properties defined by the properties argument and their corresponding easing functions.
     * @param {Number} [options.step] A function to be called for each animated property of each animated element. This function provides an opportunity to modify the Tween object to change the value of the property before it is set.
     * @returns {Observable} An Observable sequence which wraps the jQuery slideDown method.     
     */
    proto.slideDownAsObservable = function(options) {
        return handleAnimation(this, 'slideDown', arguments);
    };

    /**
     * Hide the matched elements with a sliding motion as an Observable sequence.
     *
     * @param {String|Number} [duration] A string or number determining how long the animation will run.  If not specified, defaults to 400.
     * @param {String} [easing] A string indicating which easing function to use for the transition.     
     * @param {Object} [options] A map of additional options to pass to the method.
     * @param {String|Number} [options.duration] A string or number determining how long the animation will run.
     * @param {String} [options.easing] A string indicating which easing function to use for the transition.
     * @param {String|Boolean} [options.queue] A Boolean indicating whether to place the animation in the effects queue. If false, the animation will begin immediately. As of jQuery 1.7, the queue option can also accept a string, in which case the animation is added to the queue represented by that string. When a custom queue name is used the animation does not automatically start; you must call .dequeue("queuename") to start it.
     * @param {Object} [options.specialEasing] A map of one or more of the CSS properties defined by the properties argument and their corresponding easing functions.
     * @param {Number} [options.step] A function to be called for each animated property of each animated element. This function provides an opportunity to modify the Tween object to change the value of the property before it is set.
     * @returns {Observable} An Observable sequence which wraps the jQuery slideUp method.     
     */
    proto.slideUpAsObservable = function(options) {
        return handleAnimation(this, 'slideUp', arguments);
    };

    /**
     * Hide the matched elements with a sliding motion as an Observable sequence.
     *
     * @param {String|Number} [duration] A string or number determining how long the animation will run.  If not specified, defaults to 400.
     * @param {String} [easing] A string indicating which easing function to use for the transition.     
     * @param {Object} [options] A map of additional options to pass to the method.
     * @param {String|Number} [options.duration] A string or number determining how long the animation will run.
     * @param {String} [options.easing] A string indicating which easing function to use for the transition.
     * @param {String|Boolean} [options.queue] A Boolean indicating whether to place the animation in the effects queue. If false, the animation will begin immediately. As of jQuery 1.7, the queue option can also accept a string, in which case the animation is added to the queue represented by that string. When a custom queue name is used the animation does not automatically start; you must call .dequeue("queuename") to start it.
     * @param {Object} [options.specialEasing] A map of one or more of the CSS properties defined by the properties argument and their corresponding easing functions.
     * @param {Number} [options.step] A function to be called for each animated property of each animated element. This function provides an opportunity to modify the Tween object to change the value of the property before it is set.
     * @returns {Observable} An Observable sequence which wraps the jQuery slideToggle method.     
     */
    proto.slideToggleAsObservable = function(options) {
        return handleAnimation(this, 'slideToggle', arguments);
    };

    /**
     * Display or hide the matched elements as an Observable sequence.
     *
     * @param {String|Number} [duration] A string or number determining how long the animation will run.  If not specified, defaults to 400.
     * @param {String} [easing] A string indicating which easing function to use for the transition.     
     * @param {Object} [options] A map of additional options to pass to the method.
     * @param {String|Number} [options.duration] A string or number determining how long the animation will run.
     * @param {String} [options.easing] A string indicating which easing function to use for the transition.
     * @param {String|Boolean} [options.queue] A Boolean indicating whether to place the animation in the effects queue. If false, the animation will begin immediately. As of jQuery 1.7, the queue option can also accept a string, in which case the animation is added to the queue represented by that string. When a custom queue name is used the animation does not automatically start; you must call .dequeue("queuename") to start it.
     * @param {Object} [options.specialEasing] A map of one or more of the CSS properties defined by the properties argument and their corresponding easing functions.
     * @param {Number} [options.step] A function to be called for each animated property of each animated element. This function provides an opportunity to modify the Tween object to change the value of the property before it is set.
     * @returns {Observable} An Observable sequence which wraps the jQuery slideToggle method.     
     */
    proto.toggleAsObservable = function(duration, easing) {
        return handleAnimation(this, 'toggle', arguments);
    };
    var ajaxAsObservable = $.ajaxAsObservable = function(settings) {      
        var subject = new AsyncSubject();

        var internalSettings = {
            success: function(data, textStatus, jqXHR) {
                subject.onNext({ data: data, textStatus: textStatus, jqXHR: jqXHR });
                subject.onCompleted();
            },
            error: function(jqXHR, textStatus, errorThrown) {
                subject.onError({ jqXHR: jqXHR, textStatus: textStatus, errorThrown: errorThrown });
            }
        };
        
        $.extend(true, internalSettings, settings);

        $.ajax(internalSettings);

        return subject;
    };

    /**
     * Load data from the server using a HTTP GET request as an Observable sequence.
     *
     * @param {String} url A string containing the URL to which the request is sent.
     * @param {Object} [data] A plain object or string that is sent to the server with the request.
     * @param {String} [dataType] The type of data expected from the server. Default: Intelligent Guess (xml, json, script, or html).
     * @returns {Observable} An Observable sequence which wraps the jQuery get method.       
     */
    $.getAsObservable = function(url, data, dataType) {
        return ajaxAsObservable({ url: url, dataType: dataType, data: data });
    };

    /**
     * Load JSON-encoded data from the server using a GET HTTP request as an Observable sequence.
     *
     * @param {String} url A string containing the URL to which the request is sent.
     * @param {Object} [data] A plain object or string that is sent to the server with the request.
     * @returns {Observable} An Observable sequence which wraps the jQuery getJSON method.       
     */
    $.getJSONAsObservable = function(url, data) {
        return ajaxAsObservable({ url: url, dataType: 'json', data: data });
    };

    /**
     * Load a JavaScript file from the server using a GET HTTP request, then execute it as an Observable sequence.
     *
     * @param {String} url A string containing the URL to which the request is sent.
     * @returns {Observable} An Observable sequence which wraps the jQuery getJSON method.       
     */
    $.getScriptAsObservable = function(url) {
        return ajaxAsObservable({ url: url, dataType: 'script'});
    };

    /**
     * Load data from the server using a HTTP POST request as an Observable sequence.
     *
     * @param {String} url A string containing the URL to which the request is sent.
     * @param {Object} [data] A plain object or string that is sent to the server with the request.
     * @param {String} [dataType] The type of data expected from the server. Default: Intelligent Guess (xml, json, script, or html).
     * @returns {Observable} An Observable sequence which wraps the jQuery get method.       
     */
    $.postAsObservable = function(url, data, dataType) {
        return ajaxAsObservable({ url: url, dataType: dataType, data: data, type: 'POST'});	
    };
    return Rx;
}));
/*!
 * Bootstrap v3.3.2 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.2",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.2",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.2",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&"show"==b&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a(this.options.trigger).filter('[href="#'+b.id+'"], [data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.2",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":a.extend({},e.data(),{trigger:this});c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=c(d),f={relatedTarget:this};e.hasClass("open")&&(e.trigger(b=a.Event("hide.bs.dropdown",f)),b.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.2",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g&&27!=b.which||g&&27==b.which)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.divider):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(i.length){var j=i.index(b.target);38==b.which&&j>0&&j--,40==b.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.2",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.options.backdrop&&d.adjustBackdrop(),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in").attr("aria-hidden",!1),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$element.find(".modal-dialog").one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a('<div class="modal-backdrop '+e+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},c.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.3.2",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c&&c.$tip&&c.$tip.is(":visible")?void(c.hoverState="in"):(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.options.container?a(this.options.container):this.$element.parent(),p=this.getPosition(o);h="bottom"==h&&k.bottom+m>p.bottom?"top":"top"==h&&k.top-m<p.top?"bottom":"right"==h&&k.right+l>p.width?"left":"left"==h&&k.left-l<p.left?"right":h,f.removeClass(n).addClass(h)}var q=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(q,h);var r=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",r).emulateTransitionEnd(c.TRANSITION_DURATION):r()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=this.tip(),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type)})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.2",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},c.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){var e=a.proxy(this.process,this);this.$body=a("body"),this.$scrollElement=a(a(c).is("body")?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.2",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b="offset",c=0;a.isWindow(this.$scrollElement[0])||(b="position",c=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+c,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]),d.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.2",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()
}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.2",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=a("body").height();"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);
/** smooth-scroll v5.3.3, by Chris Ferdinandi | http://github.com/cferdinandi/smooth-scroll | Licensed under MIT: http://gomakethings.com/mit/ */
!function(e,t){"function"==typeof define&&define.amd?define("smoothScroll",t(e)):"object"==typeof exports?module.exports=t(e):e.smoothScroll=t(e)}(window||this,function(e){"use strict";var t,n,o,r={},a=!!document.querySelector&&!!e.addEventListener,c={speed:500,easing:"easeInOutCubic",offset:0,updateURL:!0,callbackBefore:function(){},callbackAfter:function(){}},u=function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(n,e[o],o,e);else for(var r=0,a=e.length;a>r;r++)t.call(n,e[r],r,e)},i=function(e,t){var n={};return u(e,function(t,o){n[o]=e[o]}),u(t,function(e,o){n[o]=t[o]}),n},l=function(e,t){for(var n=t.charAt(0);e&&e!==document;e=e.parentNode)if("."===n){if(e.classList.contains(t.substr(1)))return e}else if("#"===n){if(e.id===t.substr(1))return e}else if("["===n&&e.hasAttribute(t.substr(1,t.length-2)))return e;return!1},s=function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},f=function(e){for(var t,n=String(e),o=n.length,r=-1,a="",c=n.charCodeAt(0);++r<o;){if(t=n.charCodeAt(r),0===t)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");a+=t>=1&&31>=t||127==t||0===r&&t>=48&&57>=t||1===r&&t>=48&&57>=t&&45===c?"\\"+t.toString(16)+" ":t>=128||45===t||95===t||t>=48&&57>=t||t>=65&&90>=t||t>=97&&122>=t?n.charAt(r):"\\"+n.charAt(r)}return a},d=function(e,t){var n;return"easeInQuad"===e&&(n=t*t),"easeOutQuad"===e&&(n=t*(2-t)),"easeInOutQuad"===e&&(n=.5>t?2*t*t:-1+(4-2*t)*t),"easeInCubic"===e&&(n=t*t*t),"easeOutCubic"===e&&(n=--t*t*t+1),"easeInOutCubic"===e&&(n=.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),"easeInQuart"===e&&(n=t*t*t*t),"easeOutQuart"===e&&(n=1- --t*t*t*t),"easeInOutQuart"===e&&(n=.5>t?8*t*t*t*t:1-8*--t*t*t*t),"easeInQuint"===e&&(n=t*t*t*t*t),"easeOutQuint"===e&&(n=1+--t*t*t*t*t),"easeInOutQuint"===e&&(n=.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t),n||t},h=function(e,t,n){var o=0;if(e.offsetParent)do o+=e.offsetTop,e=e.offsetParent;while(e);return o=o-t-n,o>=0?o:0},m=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},p=function(e){return e&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(e):{}},v=function(t,n){history.pushState&&(n||"true"===n)&&history.pushState(null,null,[e.location.protocol,"//",e.location.host,e.location.pathname,e.location.search,t].join(""))};r.animateScroll=function(t,n,r){var a=i(a||c,r||{}),u=p(t?t.getAttribute("data-options"):null);a=i(a,u),n="#"+f(n.substr(1));var l="#"===n?document.documentElement:document.querySelector(n),g=e.pageYOffset;o||(o=document.querySelector("[data-scroll-header]"));var b,O,y,S=null===o?0:s(o)+o.offsetTop,I=h(l,S,parseInt(a.offset,10)),H=I-g,E=m(),A=0;v(n,a.updateURL);var L=function(o,r,c){var u=e.pageYOffset;(o==r||u==r||e.innerHeight+u>=E)&&(clearInterval(c),l.focus(),a.callbackAfter(t,n))},Q=function(){A+=16,O=A/parseInt(a.speed,10),O=O>1?1:O,y=g+H*d(a.easing,O),e.scrollTo(0,Math.floor(y)),L(y,I,b)},C=function(){a.callbackBefore(t,n),b=setInterval(Q,16)};0===e.pageYOffset&&e.scrollTo(0,0),C()};var g=function(e){var n=l(e.target,"[data-scroll]");n&&"a"===n.tagName.toLowerCase()&&(e.preventDefault(),r.animateScroll(n,n.hash,t))},b=function(){n||(n=setTimeout(function(){n=null,headerHeight=null===o?0:s(o)+o.offsetTop},66))};return r.destroy=function(){t&&(document.removeEventListener("click",g,!1),e.removeEventListener("resize",b,!1),t=null,n=null,o=null)},r.init=function(n){a&&(r.destroy(),t=i(c,n||{}),o=document.querySelector("[data-scroll-header]"),document.addEventListener("click",g,!1),o&&e.addEventListener("resize",b,!1))},r});
/*!
 * Contact Form and AntiSpam Javascript Plugin
 * Author: Marcz Hermo
 * Email: marcz@lab1521.com
 * Copyright 2015 Lab1521 Limited
 *
 * Codes here can be used in production.
 * Although I have done some testing on the ff:
 *     1. $.Deferred() implementation
 *     2. Rx-JS with jQuery implementation
 */
smoothScroll.init({speed:1e3,easing:"easeInOutCubic",offset:0,updateURL:!0,callbackBefore:function(){},callbackAfter:function(){}}),function(t){"use strict";var e=function(e,s,n,o){this.$inputAnswer=e,this.$inputToken=s,this.$inputRefresh=n,this.$inputQuestion=o,this.answer="",this.token="",this.url="contact.php",this.deferred=t.Deferred(),this.init()};e.prototype.init=function(){this.reload(),this.$inputRefresh.on("click",this.reload.bind(this))},e.prototype.reload=function(){this.deferred=t.ajax({url:this.url,dataType:"json"}).promise(),this.deferred.always(this.update.bind(this)),this.deferred.always(this.sample.call(this)),this.deferred.always(function(t){console.log("func"),console.log(t)})},e.prototype.sample=function(){this.deferred.always(function(t){console.log("sample"),console.log(t)})},e.prototype.update=function(t){console.log("update"),console.log(t),this.$inputToken.val(t.client),this.$inputQuestion.text(t.question),this.$inputAnswer.val("")};var s=function(t,e){this.antiSpam=e,this.$form=t,this.url="contact.php",this.search=this.searchObservable()};s.prototype.searchWikipedia=function(e){return t.ajaxAsObservable({url:"http://en.wikipedia.org/w/api.php",data:{action:"opensearch",search:e,format:"json"},dataType:"jsonp"})},s.prototype.searchObservable=function(){{var e=this,s=this.$form.find("#results"),n=this.$form.find("#search").keyupAsObservable().map(function(e){return t(e.target).val()}).filter(function(t){return t.length>2}).throttle(500).distinctUntilChanged(),o=n.flatMapLatest(function(t){return e.searchWikipedia(t)});o.subscribe(function(e){s.empty(),t.each(e.data[1],function(e,n){console.log(e),console.log(n),t("<li>"+n+"</li>").appendTo(s)})},function(e){s.empty(),console.log(e),t("<li>Error: HTTP:"+e.jqXHR.status+" - "+e.textStatus+"</li>").appendTo(s)})}},s.prototype.post=function(e){t.when(t.ajax({url:this.url,data:e,dataType:"json",type:"POST"})).done(this.update.bind(this))},s.prototype.update=function(t){t.success===!0&&this.success(),this.warnings.call(this,t)},s.prototype.success=function(){var e=this.$form,s=e.find(".form-alert").show(),n=t(".alert",s).removeClass("alert-danger").addClass("alert-success");n.html("<strong>Success!</strong> We will contact you as soon as possible.");var o=e.find(".glyphicon");o.removeClass("glyphicon-remove glyphicon-ok").addClass("glyphicon-asterisk"),e.find("input").val(""),e.find("textarea").val("")},s.prototype.warnings=function(e){var s=e.notices,n=this;this.antiSpam.reload();for(var o=0;o<s.length;o++){var i=s[o];t.each(i,function(t,e){n.warn.call(n,t,e)})}},s.prototype.warn=function(t,e){var s=this.$form,n=s.find("[name="+t+"] ~ .glyphicon");n.length?n.removeClass("glyphicon-asterisk glyphicon-ok").addClass("glyphicon-remove"):"antiSpamAnswer"!=t&&"antiSpamToken"!=t&&this.showError.call(this,e)},s.prototype.showError=function(e){var s=this.$form,n=s.find(".form-alert").show(),o=t(".alert",n).removeClass("alert-success").addClass("alert-danger");o.html("<strong>Error!</strong> "+e)},s.prototype.hideAlert=function(){var e=this.$form,s=e.find(".form-alert").hide();t(".alert",s).removeClass("alert-success alert-danger").html("")},s.prototype.submit=function(t){var e=this.$form;this.hideAlert();for(var s=0;s<t.length;s++){var n=t[s],o=e.find("[name="+n.name+"] ~ .glyphicon");if(""==n.value)return o.removeClass("glyphicon-asterisk glyphicon-ok").addClass("glyphicon-remove"),void e.find("[name="+n.name+"]").focus();o.removeClass("glyphicon-asterisk glyphicon-remove").addClass("glyphicon-ok")}this.post.call(this,t)},t(function(){var n=new e(t("#antiSpamAnswer"),t("#antiSpamToken"),t("#antiSpamRefresh"),t("#antiSpamQuestion")),o=new s(t("#contactForm"),n);t("#contactForm").on("submit",function(e){o.submit.call(o,t(this).serializeArray()),e.preventDefault()})})}(jQuery);
/*!
 * IE10 viewport hack for Surface/desktop Windows 8 bug
 * Copyright 2014 Twitter, Inc.
 * Licensed under the Creative Commons Attribution 3.0 Unported License. For
 * details, see http://creativecommons.org/licenses/by/3.0/.
 */

// See the Getting Started docs for more information:
// http://getbootstrap.com/getting-started/#support-ie10-width

(function () {
  'use strict';
  if (navigator.userAgent.match(/IEMobile\/10\.0/)) {
    var msViewportStyle = document.createElement('style')
    msViewportStyle.appendChild(
      document.createTextNode(
        '@-ms-viewport{width:auto!important}'
      )
    )
    document.querySelector('head').appendChild(msViewportStyle)
  }
})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5taW4uanMiLCJyeC5saXRlLm1pbi5qcyIsInJ4LmpxdWVyeS5qcyIsImJvb3RzdHJhcC5taW4uanMiLCJzbW9vdGgtc2Nyb2xsLm1pbi5qcyIsImFwcC5qcyIsImllMTAtdmlld3BvcnQtYnVnLXdvcmthcm91bmQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDNXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ05BO0FBQ0E7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgalF1ZXJ5IHYyLjEuMyB8IChjKSAyMDA1LCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uLCBJbmMuIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovXG4hZnVuY3Rpb24oYSxiKXtcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YS5kb2N1bWVudD9iKGEsITApOmZ1bmN0aW9uKGEpe2lmKCFhLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcihcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIik7cmV0dXJuIGIoYSl9OmIoYSl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPWMuc2xpY2UsZT1jLmNvbmNhdCxmPWMucHVzaCxnPWMuaW5kZXhPZixoPXt9LGk9aC50b1N0cmluZyxqPWguaGFzT3duUHJvcGVydHksaz17fSxsPWEuZG9jdW1lbnQsbT1cIjIuMS4zXCIsbj1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgbi5mbi5pbml0KGEsYil9LG89L15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLHA9L14tbXMtLyxxPS8tKFtcXGRhLXpdKS9naSxyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX07bi5mbj1uLnByb3RvdHlwZT17anF1ZXJ5Om0sY29uc3RydWN0b3I6bixzZWxlY3RvcjpcIlwiLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gZC5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/MD5hP3RoaXNbYSt0aGlzLmxlbmd0aF06dGhpc1thXTpkLmNhbGwodGhpcyl9LHB1c2hTdGFjazpmdW5jdGlvbihhKXt2YXIgYj1uLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxhKTtyZXR1cm4gYi5wcmV2T2JqZWN0PXRoaXMsYi5jb250ZXh0PXRoaXMuY29udGV4dCxifSxlYWNoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uZWFjaCh0aGlzLGEsYil9LG1hcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobi5tYXAodGhpcyxmdW5jdGlvbihiLGMpe3JldHVybiBhLmNhbGwoYixjLGIpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhkLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGVxOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubGVuZ3RoLGM9K2ErKDA+YT9iOjApO3JldHVybiB0aGlzLnB1c2hTdGFjayhjPj0wJiZiPmM/W3RoaXNbY11dOltdKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcihudWxsKX0scHVzaDpmLHNvcnQ6Yy5zb3J0LHNwbGljZTpjLnNwbGljZX0sbi5leHRlbmQ9bi5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZz1hcmd1bWVudHNbMF18fHt9LGg9MSxpPWFyZ3VtZW50cy5sZW5ndGgsaj0hMTtmb3IoXCJib29sZWFuXCI9PXR5cGVvZiBnJiYoaj1nLGc9YXJndW1lbnRzW2hdfHx7fSxoKyspLFwib2JqZWN0XCI9PXR5cGVvZiBnfHxuLmlzRnVuY3Rpb24oZyl8fChnPXt9KSxoPT09aSYmKGc9dGhpcyxoLS0pO2k+aDtoKyspaWYobnVsbCE9KGE9YXJndW1lbnRzW2hdKSlmb3IoYiBpbiBhKWM9Z1tiXSxkPWFbYl0sZyE9PWQmJihqJiZkJiYobi5pc1BsYWluT2JqZWN0KGQpfHwoZT1uLmlzQXJyYXkoZCkpKT8oZT8oZT0hMSxmPWMmJm4uaXNBcnJheShjKT9jOltdKTpmPWMmJm4uaXNQbGFpbk9iamVjdChjKT9jOnt9LGdbYl09bi5leHRlbmQoaixmLGQpKTp2b2lkIDAhPT1kJiYoZ1tiXT1kKSk7cmV0dXJuIGd9LG4uZXh0ZW5kKHtleHBhbmRvOlwialF1ZXJ5XCIrKG0rTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXFxEL2csXCJcIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuXCJmdW5jdGlvblwiPT09bi50eXBlKGEpfSxpc0FycmF5OkFycmF5LmlzQXJyYXksaXNXaW5kb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJmE9PT1hLndpbmRvd30saXNOdW1lcmljOmZ1bmN0aW9uKGEpe3JldHVybiFuLmlzQXJyYXkoYSkmJmEtcGFyc2VGbG9hdChhKSsxPj0wfSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVyblwib2JqZWN0XCIhPT1uLnR5cGUoYSl8fGEubm9kZVR5cGV8fG4uaXNXaW5kb3coYSk/ITE6YS5jb25zdHJ1Y3RvciYmIWouY2FsbChhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSxcImlzUHJvdG90eXBlT2ZcIik/ITE6ITB9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9hK1wiXCI6XCJvYmplY3RcIj09dHlwZW9mIGF8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGE/aFtpLmNhbGwoYSldfHxcIm9iamVjdFwiOnR5cGVvZiBhfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGM9ZXZhbDthPW4udHJpbShhKSxhJiYoMT09PWEuaW5kZXhPZihcInVzZSBzdHJpY3RcIik/KGI9bC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpLGIudGV4dD1hLGwuaGVhZC5hcHBlbmRDaGlsZChiKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpKTpjKGEpKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UocCxcIm1zLVwiKS5yZXBsYWNlKHEscil9LG5vZGVOYW1lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWIudG9Mb3dlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT0wLGY9YS5sZW5ndGgsZz1zKGEpO2lmKGMpe2lmKGcpe2Zvcig7Zj5lO2UrKylpZihkPWIuYXBwbHkoYVtlXSxjKSxkPT09ITEpYnJlYWt9ZWxzZSBmb3IoZSBpbiBhKWlmKGQ9Yi5hcHBseShhW2VdLGMpLGQ9PT0hMSlicmVha31lbHNlIGlmKGcpe2Zvcig7Zj5lO2UrKylpZihkPWIuY2FsbChhW2VdLGUsYVtlXSksZD09PSExKWJyZWFrfWVsc2UgZm9yKGUgaW4gYSlpZihkPWIuY2FsbChhW2VdLGUsYVtlXSksZD09PSExKWJyZWFrO3JldHVybiBhfSx0cmltOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP1wiXCI6KGErXCJcIikucmVwbGFjZShvLFwiXCIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHxbXTtyZXR1cm4gbnVsbCE9YSYmKHMoT2JqZWN0KGEpKT9uLm1lcmdlKGMsXCJzdHJpbmdcIj09dHlwZW9mIGE/W2FdOmEpOmYuY2FsbChjLGEpKSxjfSxpbkFycmF5OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbnVsbD09Yj8tMTpnLmNhbGwoYixhLGMpfSxtZXJnZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0rYi5sZW5ndGgsZD0wLGU9YS5sZW5ndGg7Yz5kO2QrKylhW2UrK109YltkXTtyZXR1cm4gYS5sZW5ndGg9ZSxhfSxncmVwOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQsZT1bXSxmPTAsZz1hLmxlbmd0aCxoPSFjO2c+ZjtmKyspZD0hYihhW2ZdLGYpLGQhPT1oJiZlLnB1c2goYVtmXSk7cmV0dXJuIGV9LG1hcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZj0wLGc9YS5sZW5ndGgsaD1zKGEpLGk9W107aWYoaClmb3IoO2c+ZjtmKyspZD1iKGFbZl0sZixjKSxudWxsIT1kJiZpLnB1c2goZCk7ZWxzZSBmb3IoZiBpbiBhKWQ9YihhW2ZdLGYsYyksbnVsbCE9ZCYmaS5wdXNoKGQpO3JldHVybiBlLmFwcGx5KFtdLGkpfSxndWlkOjEscHJveHk6ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGY7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGImJihjPWFbYl0sYj1hLGE9Yyksbi5pc0Z1bmN0aW9uKGEpPyhlPWQuY2FsbChhcmd1bWVudHMsMiksZj1mdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGJ8fHRoaXMsZS5jb25jYXQoZC5jYWxsKGFyZ3VtZW50cykpKX0sZi5ndWlkPWEuZ3VpZD1hLmd1aWR8fG4uZ3VpZCsrLGYpOnZvaWQgMH0sbm93OkRhdGUubm93LHN1cHBvcnQ6a30pLG4uZWFjaChcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3JcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSxiKXtoW1wiW29iamVjdCBcIitiK1wiXVwiXT1iLnRvTG93ZXJDYXNlKCl9KTtmdW5jdGlvbiBzKGEpe3ZhciBiPWEubGVuZ3RoLGM9bi50eXBlKGEpO3JldHVyblwiZnVuY3Rpb25cIj09PWN8fG4uaXNXaW5kb3coYSk/ITE6MT09PWEubm9kZVR5cGUmJmI/ITA6XCJhcnJheVwiPT09Y3x8MD09PWJ8fFwibnVtYmVyXCI9PXR5cGVvZiBiJiZiPjAmJmItMSBpbiBhfXZhciB0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHU9XCJzaXp6bGVcIisxKm5ldyBEYXRlLHY9YS5kb2N1bWVudCx3PTAseD0wLHk9aGIoKSx6PWhiKCksQT1oYigpLEI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPTE8PDMxLEQ9e30uaGFzT3duUHJvcGVydHksRT1bXSxGPUUucG9wLEc9RS5wdXNoLEg9RS5wdXNoLEk9RS5zbGljZSxKPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybi0xfSxLPVwiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWRcIixMPVwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixNPVwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFxcXHgwMC1cXFxceGEwXSkrXCIsTj1NLnJlcGxhY2UoXCJ3XCIsXCJ3I1wiKSxPPVwiXFxcXFtcIitMK1wiKihcIitNK1wiKSg/OlwiK0wrXCIqKFsqXiR8IX5dPz0pXCIrTCtcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiK04rXCIpKXwpXCIrTCtcIipcXFxcXVwiLFA9XCI6KFwiK00rXCIpKD86XFxcXCgoKCcoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcIil8KCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiK08rXCIpKil8LiopXFxcXCl8KVwiLFE9bmV3IFJlZ0V4cChMK1wiK1wiLFwiZ1wiKSxSPW5ldyBSZWdFeHAoXCJeXCIrTCtcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIrTCtcIiskXCIsXCJnXCIpLFM9bmV3IFJlZ0V4cChcIl5cIitMK1wiKixcIitMK1wiKlwiKSxUPW5ldyBSZWdFeHAoXCJeXCIrTCtcIiooWz4rfl18XCIrTCtcIilcIitMK1wiKlwiKSxVPW5ldyBSZWdFeHAoXCI9XCIrTCtcIiooW15cXFxcXSdcXFwiXSo/KVwiK0wrXCIqXFxcXF1cIixcImdcIiksVj1uZXcgUmVnRXhwKFApLFc9bmV3IFJlZ0V4cChcIl5cIitOK1wiJFwiKSxYPXtJRDpuZXcgUmVnRXhwKFwiXiMoXCIrTStcIilcIiksQ0xBU1M6bmV3IFJlZ0V4cChcIl5cXFxcLihcIitNK1wiKVwiKSxUQUc6bmV3IFJlZ0V4cChcIl4oXCIrTS5yZXBsYWNlKFwid1wiLFwidypcIikrXCIpXCIpLEFUVFI6bmV3IFJlZ0V4cChcIl5cIitPKSxQU0VVRE86bmV3IFJlZ0V4cChcIl5cIitQKSxDSElMRDpuZXcgUmVnRXhwKFwiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFxcXChcIitMK1wiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIrTCtcIiooPzooWystXXwpXCIrTCtcIiooXFxcXGQrKXwpKVwiK0wrXCIqXFxcXCl8KVwiLFwiaVwiKSxib29sOm5ldyBSZWdFeHAoXCJeKD86XCIrSytcIikkXCIsXCJpXCIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKFwiXlwiK0wrXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiK0wrXCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiK0wrXCIqXFxcXCl8KSg/PVteLV18JClcIixcImlcIil9LFk9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxaPS9eaFxcZCQvaSwkPS9eW157XStcXHtcXHMqXFxbbmF0aXZlIFxcdy8sXz0vXig/OiMoW1xcdy1dKyl8KFxcdyspfFxcLihbXFx3LV0rKSkkLyxhYj0vWyt+XS8sYmI9Lyd8XFxcXC9nLGNiPW5ldyBSZWdFeHAoXCJcXFxcXFxcXChbXFxcXGRhLWZdezEsNn1cIitMK1wiP3woXCIrTCtcIil8LilcIixcImlnXCIpLGRiPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1cIjB4XCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9LGViPWZ1bmN0aW9uKCl7bSgpfTt0cnl7SC5hcHBseShFPUkuY2FsbCh2LmNoaWxkTm9kZXMpLHYuY2hpbGROb2RlcyksRVt2LmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChmYil7SD17YXBwbHk6RS5sZW5ndGg/ZnVuY3Rpb24oYSxiKXtHLmFwcGx5KGEsSS5jYWxsKGIpKX06ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxlbmd0aCxkPTA7d2hpbGUoYVtjKytdPWJbZCsrXSk7YS5sZW5ndGg9Yy0xfX19ZnVuY3Rpb24gZ2IoYSxiLGQsZSl7dmFyIGYsaCxqLGssbCxvLHIscyx3LHg7aWYoKGI/Yi5vd25lckRvY3VtZW50fHxiOnYpIT09biYmbShiKSxiPWJ8fG4sZD1kfHxbXSxrPWIubm9kZVR5cGUsXCJzdHJpbmdcIiE9dHlwZW9mIGF8fCFhfHwxIT09ayYmOSE9PWsmJjExIT09aylyZXR1cm4gZDtpZighZSYmcCl7aWYoMTEhPT1rJiYoZj1fLmV4ZWMoYSkpKWlmKGo9ZlsxXSl7aWYoOT09PWspe2lmKGg9Yi5nZXRFbGVtZW50QnlJZChqKSwhaHx8IWgucGFyZW50Tm9kZSlyZXR1cm4gZDtpZihoLmlkPT09ailyZXR1cm4gZC5wdXNoKGgpLGR9ZWxzZSBpZihiLm93bmVyRG9jdW1lbnQmJihoPWIub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChqKSkmJnQoYixoKSYmaC5pZD09PWopcmV0dXJuIGQucHVzaChoKSxkfWVsc2V7aWYoZlsyXSlyZXR1cm4gSC5hcHBseShkLGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSkpLGQ7aWYoKGo9ZlszXSkmJmMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gSC5hcHBseShkLGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShqKSksZH1pZihjLnFzYSYmKCFxfHwhcS50ZXN0KGEpKSl7aWYocz1yPXUsdz1iLHg9MSE9PWsmJmEsMT09PWsmJlwib2JqZWN0XCIhPT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe289ZyhhKSwocj1iLmdldEF0dHJpYnV0ZShcImlkXCIpKT9zPXIucmVwbGFjZShiYixcIlxcXFwkJlwiKTpiLnNldEF0dHJpYnV0ZShcImlkXCIscykscz1cIltpZD0nXCIrcytcIiddIFwiLGw9by5sZW5ndGg7d2hpbGUobC0tKW9bbF09cytyYihvW2xdKTt3PWFiLnRlc3QoYSkmJnBiKGIucGFyZW50Tm9kZSl8fGIseD1vLmpvaW4oXCIsXCIpfWlmKHgpdHJ5e3JldHVybiBILmFwcGx5KGQsdy5xdWVyeVNlbGVjdG9yQWxsKHgpKSxkfWNhdGNoKHkpe31maW5hbGx5e3J8fGIucmVtb3ZlQXR0cmlidXRlKFwiaWRcIil9fX1yZXR1cm4gaShhLnJlcGxhY2UoUixcIiQxXCIpLGIsZCxlKX1mdW5jdGlvbiBoYigpe3ZhciBhPVtdO2Z1bmN0aW9uIGIoYyxlKXtyZXR1cm4gYS5wdXNoKGMrXCIgXCIpPmQuY2FjaGVMZW5ndGgmJmRlbGV0ZSBiW2Euc2hpZnQoKV0sYltjK1wiIFwiXT1lfXJldHVybiBifWZ1bmN0aW9uIGliKGEpe3JldHVybiBhW3VdPSEwLGF9ZnVuY3Rpb24gamIoYSl7dmFyIGI9bi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3RyeXtyZXR1cm4hIWEoYil9Y2F0Y2goYyl7cmV0dXJuITF9ZmluYWxseXtiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKSxiPW51bGx9fWZ1bmN0aW9uIGtiKGEsYil7dmFyIGM9YS5zcGxpdChcInxcIiksZT1hLmxlbmd0aDt3aGlsZShlLS0pZC5hdHRySGFuZGxlW2NbZV1dPWJ9ZnVuY3Rpb24gbGIoYSxiKXt2YXIgYz1iJiZhLGQ9YyYmMT09PWEubm9kZVR5cGUmJjE9PT1iLm5vZGVUeXBlJiYofmIuc291cmNlSW5kZXh8fEMpLSh+YS5zb3VyY2VJbmRleHx8Qyk7aWYoZClyZXR1cm4gZDtpZihjKXdoaWxlKGM9Yy5uZXh0U2libGluZylpZihjPT09YilyZXR1cm4tMTtyZXR1cm4gYT8xOi0xfWZ1bmN0aW9uIG1iKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09YyYmYi50eXBlPT09YX19ZnVuY3Rpb24gbmIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oXCJpbnB1dFwiPT09Y3x8XCJidXR0b25cIj09PWMpJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBvYihhKXtyZXR1cm4gaWIoZnVuY3Rpb24oYil7cmV0dXJuIGI9K2IsaWIoZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEoW10sYy5sZW5ndGgsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pY1tlPWZbZ11dJiYoY1tlXT0hKGRbZV09Y1tlXSkpfSl9KX1mdW5jdGlvbiBwYihhKXtyZXR1cm4gYSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmF9Yz1nYi5zdXBwb3J0PXt9LGY9Z2IuaXNYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9YSYmKGEub3duZXJEb2N1bWVudHx8YSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiBiP1wiSFRNTFwiIT09Yi5ub2RlTmFtZTohMX0sbT1nYi5zZXREb2N1bWVudD1mdW5jdGlvbihhKXt2YXIgYixlLGc9YT9hLm93bmVyRG9jdW1lbnR8fGE6djtyZXR1cm4gZyE9PW4mJjk9PT1nLm5vZGVUeXBlJiZnLmRvY3VtZW50RWxlbWVudD8obj1nLG89Zy5kb2N1bWVudEVsZW1lbnQsZT1nLmRlZmF1bHRWaWV3LGUmJmUhPT1lLnRvcCYmKGUuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmxvYWRcIixlYiwhMSk6ZS5hdHRhY2hFdmVudCYmZS5hdHRhY2hFdmVudChcIm9udW5sb2FkXCIsZWIpKSxwPSFmKGcpLGMuYXR0cmlidXRlcz1qYihmdW5jdGlvbihhKXtyZXR1cm4gYS5jbGFzc05hbWU9XCJpXCIsIWEuZ2V0QXR0cmlidXRlKFwiY2xhc3NOYW1lXCIpfSksYy5nZXRFbGVtZW50c0J5VGFnTmFtZT1qYihmdW5jdGlvbihhKXtyZXR1cm4gYS5hcHBlbmRDaGlsZChnLmNyZWF0ZUNvbW1lbnQoXCJcIikpLCFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKS5sZW5ndGh9KSxjLmdldEVsZW1lbnRzQnlDbGFzc05hbWU9JC50ZXN0KGcuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSksYy5nZXRCeUlkPWpiKGZ1bmN0aW9uKGEpe3JldHVybiBvLmFwcGVuZENoaWxkKGEpLmlkPXUsIWcuZ2V0RWxlbWVudHNCeU5hbWV8fCFnLmdldEVsZW1lbnRzQnlOYW1lKHUpLmxlbmd0aH0pLGMuZ2V0QnlJZD8oZC5maW5kLklEPWZ1bmN0aW9uKGEsYil7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGIuZ2V0RWxlbWVudEJ5SWQmJnApe3ZhciBjPWIuZ2V0RWxlbWVudEJ5SWQoYSk7cmV0dXJuIGMmJmMucGFyZW50Tm9kZT9bY106W119fSxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoY2IsZGIpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoXCJpZFwiKT09PWJ9fSk6KGRlbGV0ZSBkLmZpbmQuSUQsZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGNiLGRiKTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0QXR0cmlidXRlTm9kZSYmYS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7cmV0dXJuIGMmJmMudmFsdWU9PT1ifX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lP2IuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk6Yy5xc2E/Yi5xdWVyeVNlbGVjdG9yQWxsKGEpOnZvaWQgMH06ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9MCxmPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk7aWYoXCIqXCI9PT1hKXt3aGlsZShjPWZbZSsrXSkxPT09Yy5ub2RlVHlwZSYmZC5wdXNoKGMpO3JldHVybiBkfXJldHVybiBmfSxkLmZpbmQuQ0xBU1M9Yy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihhLGIpe3JldHVybiBwP2IuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhKTp2b2lkIDB9LHI9W10scT1bXSwoYy5xc2E9JC50ZXN0KGcucXVlcnlTZWxlY3RvckFsbCkpJiYoamIoZnVuY3Rpb24oYSl7by5hcHBlbmRDaGlsZChhKS5pbm5lckhUTUw9XCI8YSBpZD0nXCIrdStcIic+PC9hPjxzZWxlY3QgaWQ9J1wiK3UrXCItXFxmXScgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD5cIixhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbXNhbGxvd2NhcHR1cmVePScnXVwiKS5sZW5ndGgmJnEucHVzaChcIlsqXiRdPVwiK0wrXCIqKD86Jyd8XFxcIlxcXCIpXCIpLGEucXVlcnlTZWxlY3RvckFsbChcIltzZWxlY3RlZF1cIikubGVuZ3RofHxxLnB1c2goXCJcXFxcW1wiK0wrXCIqKD86dmFsdWV8XCIrSytcIilcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiW2lkfj1cIit1K1wiLV1cIikubGVuZ3RofHxxLnB1c2goXCJ+PVwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6Y2hlY2tlZFwiKS5sZW5ndGh8fHEucHVzaChcIjpjaGVja2VkXCIpLGEucXVlcnlTZWxlY3RvckFsbChcImEjXCIrdStcIisqXCIpLmxlbmd0aHx8cS5wdXNoKFwiLiMuK1srfl1cIil9KSxqYihmdW5jdGlvbihhKXt2YXIgYj1nLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtiLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImhpZGRlblwiKSxhLmFwcGVuZENoaWxkKGIpLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIkRcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9ZF1cIikubGVuZ3RoJiZxLnB1c2goXCJuYW1lXCIrTCtcIipbKl4kfCF+XT89XCIpLGEucXVlcnlTZWxlY3RvckFsbChcIjplbmFibGVkXCIpLmxlbmd0aHx8cS5wdXNoKFwiOmVuYWJsZWRcIixcIjpkaXNhYmxlZFwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqLDp4XCIpLHEucHVzaChcIiwuKjpcIil9KSksKGMubWF0Y2hlc1NlbGVjdG9yPSQudGVzdChzPW8ubWF0Y2hlc3x8by53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fG8ubW96TWF0Y2hlc1NlbGVjdG9yfHxvLm9NYXRjaGVzU2VsZWN0b3J8fG8ubXNNYXRjaGVzU2VsZWN0b3IpKSYmamIoZnVuY3Rpb24oYSl7Yy5kaXNjb25uZWN0ZWRNYXRjaD1zLmNhbGwoYSxcImRpdlwiKSxzLmNhbGwoYSxcIltzIT0nJ106eFwiKSxyLnB1c2goXCIhPVwiLFApfSkscT1xLmxlbmd0aCYmbmV3IFJlZ0V4cChxLmpvaW4oXCJ8XCIpKSxyPXIubGVuZ3RoJiZuZXcgUmVnRXhwKHIuam9pbihcInxcIikpLGI9JC50ZXN0KG8uY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHQ9Ynx8JC50ZXN0KG8uY29udGFpbnMpP2Z1bmN0aW9uKGEsYil7dmFyIGM9OT09PWEubm9kZVR5cGU/YS5kb2N1bWVudEVsZW1lbnQ6YSxkPWImJmIucGFyZW50Tm9kZTtyZXR1cm4gYT09PWR8fCEoIWR8fDEhPT1kLm5vZGVUeXBlfHwhKGMuY29udGFpbnM/Yy5jb250YWlucyhkKTphLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGQpKSl9OmZ1bmN0aW9uKGEsYil7aWYoYil3aGlsZShiPWIucGFyZW50Tm9kZSlpZihiPT09YSlyZXR1cm4hMDtyZXR1cm4hMX0sQj1iP2Z1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAsMDt2YXIgZD0hYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gZD9kOihkPShhLm93bmVyRG9jdW1lbnR8fGEpPT09KGIub3duZXJEb2N1bWVudHx8Yik/YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKToxLDEmZHx8IWMuc29ydERldGFjaGVkJiZiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEpPT09ZD9hPT09Z3x8YS5vd25lckRvY3VtZW50PT09diYmdCh2LGEpPy0xOmI9PT1nfHxiLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYik/MTprP0ooayxhKS1KKGssYik6MDo0JmQ/LTE6MSl9OmZ1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAsMDt2YXIgYyxkPTAsZT1hLnBhcmVudE5vZGUsZj1iLnBhcmVudE5vZGUsaD1bYV0saT1bYl07aWYoIWV8fCFmKXJldHVybiBhPT09Zz8tMTpiPT09Zz8xOmU/LTE6Zj8xOms/SihrLGEpLUooayxiKTowO2lmKGU9PT1mKXJldHVybiBsYihhLGIpO2M9YTt3aGlsZShjPWMucGFyZW50Tm9kZSloLnVuc2hpZnQoYyk7Yz1iO3doaWxlKGM9Yy5wYXJlbnROb2RlKWkudW5zaGlmdChjKTt3aGlsZShoW2RdPT09aVtkXSlkKys7cmV0dXJuIGQ/bGIoaFtkXSxpW2RdKTpoW2RdPT09dj8tMTppW2RdPT09dj8xOjB9LGcpOm59LGdiLm1hdGNoZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZ2IoYSxudWxsLG51bGwsYil9LGdiLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihhLGIpe2lmKChhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSxiPWIucmVwbGFjZShVLFwiPSckMSddXCIpLCEoIWMubWF0Y2hlc1NlbGVjdG9yfHwhcHx8ciYmci50ZXN0KGIpfHxxJiZxLnRlc3QoYikpKXRyeXt2YXIgZD1zLmNhbGwoYSxiKTtpZihkfHxjLmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGR9Y2F0Y2goZSl7fXJldHVybiBnYihiLG4sbnVsbCxbYV0pLmxlbmd0aD4wfSxnYi5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybihhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSx0KGEsYil9LGdiLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSk7dmFyIGU9ZC5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0sZj1lJiZELmNhbGwoZC5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZShhLGIsIXApOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zj9mOmMuYXR0cmlidXRlc3x8IXA/YS5nZXRBdHRyaWJ1dGUoYik6KGY9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZi5zcGVjaWZpZWQ/Zi52YWx1ZTpudWxsfSxnYi5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcIithKX0sZ2IudW5pcXVlU29ydD1mdW5jdGlvbihhKXt2YXIgYixkPVtdLGU9MCxmPTA7aWYobD0hYy5kZXRlY3REdXBsaWNhdGVzLGs9IWMuc29ydFN0YWJsZSYmYS5zbGljZSgwKSxhLnNvcnQoQiksbCl7d2hpbGUoYj1hW2YrK10pYj09PWFbZl0mJihlPWQucHVzaChmKSk7d2hpbGUoZS0tKWEuc3BsaWNlKGRbZV0sMSl9cmV0dXJuIGs9bnVsbCxhfSxlPWdiLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz1cIlwiLGQ9MCxmPWEubm9kZVR5cGU7aWYoZil7aWYoMT09PWZ8fDk9PT1mfHwxMT09PWYpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhLnRleHRDb250ZW50KXJldHVybiBhLnRleHRDb250ZW50O2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyljKz1lKGEpfWVsc2UgaWYoMz09PWZ8fDQ9PT1mKXJldHVybiBhLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKGI9YVtkKytdKWMrPWUoYik7cmV0dXJuIGN9LGQ9Z2Iuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86aWIsbWF0Y2g6WCxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6e1wiPlwiOntkaXI6XCJwYXJlbnROb2RlXCIsZmlyc3Q6ITB9LFwiIFwiOntkaXI6XCJwYXJlbnROb2RlXCJ9LFwiK1wiOntkaXI6XCJwcmV2aW91c1NpYmxpbmdcIixmaXJzdDohMH0sXCJ+XCI6e2RpcjpcInByZXZpb3VzU2libGluZ1wifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0ucmVwbGFjZShjYixkYiksYVszXT0oYVszXXx8YVs0XXx8YVs1XXx8XCJcIikucmVwbGFjZShjYixkYiksXCJ+PVwiPT09YVsyXSYmKGFbM109XCIgXCIrYVszXStcIiBcIiksYS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnRvTG93ZXJDYXNlKCksXCJudGhcIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8Z2IuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooXCJldmVuXCI9PT1hWzNdfHxcIm9kZFwiPT09YVszXSkpLGFbNV09KyhhWzddK2FbOF18fFwib2RkXCI9PT1hWzNdKSk6YVszXSYmZ2IuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNl0mJmFbMl07cmV0dXJuIFguQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdP2FbMl09YVs0XXx8YVs1XXx8XCJcIjpjJiZWLnRlc3QoYykmJihiPWcoYywhMCkpJiYoYj1jLmluZGV4T2YoXCIpXCIsYy5sZW5ndGgtYiktYy5sZW5ndGgpJiYoYVswXT1hWzBdLnNsaWNlKDAsYiksYVsyXT1jLnNsaWNlKDAsYikpLGEuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoY2IsZGIpLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCIqXCI9PT1hP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifX0sQ0xBU1M6ZnVuY3Rpb24oYSl7dmFyIGI9eVthK1wiIFwiXTtyZXR1cm4gYnx8KGI9bmV3IFJlZ0V4cChcIihefFwiK0wrXCIpXCIrYStcIihcIitMK1wifCQpXCIpKSYmeShhLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRlc3QoXCJzdHJpbmdcIj09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0QXR0cmlidXRlJiZhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKX0pfSxBVFRSOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9Z2IuYXR0cihkLGEpO3JldHVybiBudWxsPT1lP1wiIT1cIj09PWI6Yj8oZSs9XCJcIixcIj1cIj09PWI/ZT09PWM6XCIhPVwiPT09Yj9lIT09YzpcIl49XCI9PT1iP2MmJjA9PT1lLmluZGV4T2YoYyk6XCIqPVwiPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6XCIkPVwiPT09Yj9jJiZlLnNsaWNlKC1jLmxlbmd0aCk9PT1jOlwifj1cIj09PWI/KFwiIFwiK2UucmVwbGFjZShRLFwiIFwiKStcIiBcIikuaW5kZXhPZihjKT4tMTpcInw9XCI9PT1iP2U9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jK1wiLVwiOiExKTohMH19LENISUxEOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9XCJudGhcIiE9PWEuc2xpY2UoMCwzKSxnPVwibGFzdFwiIT09YS5zbGljZSgtNCksaD1cIm9mLXR5cGVcIj09PWI7cmV0dXJuIDE9PT1kJiYwPT09ZT9mdW5jdGlvbihhKXtyZXR1cm4hIWEucGFyZW50Tm9kZX06ZnVuY3Rpb24oYixjLGkpe3ZhciBqLGssbCxtLG4sbyxwPWYhPT1nP1wibmV4dFNpYmxpbmdcIjpcInByZXZpb3VzU2libGluZ1wiLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHM9IWkmJiFoO2lmKHEpe2lmKGYpe3doaWxlKHApe2w9Yjt3aGlsZShsPWxbcF0paWYoaD9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1sLm5vZGVUeXBlKXJldHVybiExO289cD1cIm9ubHlcIj09PWEmJiFvJiZcIm5leHRTaWJsaW5nXCJ9cmV0dXJuITB9aWYobz1bZz9xLmZpcnN0Q2hpbGQ6cS5sYXN0Q2hpbGRdLGcmJnMpe2s9cVt1XXx8KHFbdV09e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSxtPWpbMF09PT13JiZqWzJdLGw9biYmcS5jaGlsZE5vZGVzW25dO3doaWxlKGw9KytuJiZsJiZsW3BdfHwobT1uPTApfHxvLnBvcCgpKWlmKDE9PT1sLm5vZGVUeXBlJiYrK20mJmw9PT1iKXtrW2FdPVt3LG4sbV07YnJlYWt9fWVsc2UgaWYocyYmKGo9KGJbdV18fChiW3VdPXt9KSlbYV0pJiZqWzBdPT09dyltPWpbMV07ZWxzZSB3aGlsZShsPSsrbiYmbCYmbFtwXXx8KG09bj0wKXx8by5wb3AoKSlpZigoaD9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1sLm5vZGVUeXBlKSYmKyttJiYocyYmKChsW3VdfHwobFt1XT17fSkpW2FdPVt3LG1dKSxsPT09YikpYnJlYWs7cmV0dXJuIG0tPWUsbT09PWR8fG0lZD09PTAmJm0vZD49MH19fSxQU0VVRE86ZnVuY3Rpb24oYSxiKXt2YXIgYyxlPWQucHNldWRvc1thXXx8ZC5zZXRGaWx0ZXJzW2EudG9Mb3dlckNhc2UoKV18fGdiLmVycm9yKFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIithKTtyZXR1cm4gZVt1XT9lKGIpOmUubGVuZ3RoPjE/KGM9W2EsYSxcIlwiLGJdLGQuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShhLnRvTG93ZXJDYXNlKCkpP2liKGZ1bmN0aW9uKGEsYyl7dmFyIGQsZj1lKGEsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pZD1KKGEsZltnXSksYVtkXT0hKGNbZF09ZltnXSl9KTpmdW5jdGlvbihhKXtyZXR1cm4gZShhLDAsYyl9KTplfX0scHNldWRvczp7bm90OmliKGZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9W10sZD1oKGEucmVwbGFjZShSLFwiJDFcIikpO3JldHVybiBkW3VdP2liKGZ1bmN0aW9uKGEsYixjLGUpe3ZhciBmLGc9ZChhLG51bGwsZSxbXSksaD1hLmxlbmd0aDt3aGlsZShoLS0pKGY9Z1toXSkmJihhW2hdPSEoYltoXT1mKSl9KTpmdW5jdGlvbihhLGUsZil7cmV0dXJuIGJbMF09YSxkKGIsbnVsbCxmLGMpLGJbMF09bnVsbCwhYy5wb3AoKX19KSxoYXM6aWIoZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBnYihhLGIpLmxlbmd0aD4wfX0pLGNvbnRhaW5zOmliKGZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZShjYixkYiksZnVuY3Rpb24oYil7cmV0dXJuKGIudGV4dENvbnRlbnR8fGIuaW5uZXJUZXh0fHxlKGIpKS5pbmRleE9mKGEpPi0xfX0pLGxhbmc6aWIoZnVuY3Rpb24oYSl7cmV0dXJuIFcudGVzdChhfHxcIlwiKXx8Z2IuZXJyb3IoXCJ1bnN1cHBvcnRlZCBsYW5nOiBcIithKSxhPWEucmVwbGFjZShjYixkYikudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihiKXt2YXIgYztkbyBpZihjPXA/Yi5sYW5nOmIuZ2V0QXR0cmlidXRlKFwieG1sOmxhbmdcIil8fGIuZ2V0QXR0cmlidXRlKFwibGFuZ1wiKSlyZXR1cm4gYz1jLnRvTG93ZXJDYXNlKCksYz09PWF8fDA9PT1jLmluZGV4T2YoYStcIi1cIik7d2hpbGUoKGI9Yi5wYXJlbnROb2RlKSYmMT09PWIubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbihiKXt2YXIgYz1hLmxvY2F0aW9uJiZhLmxvY2F0aW9uLmhhc2g7cmV0dXJuIGMmJmMuc2xpY2UoMSk9PT1iLmlkfSxyb290OmZ1bmN0aW9uKGEpe3JldHVybiBhPT09b30sZm9jdXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1uLmFjdGl2ZUVsZW1lbnQmJighbi5oYXNGb2N1c3x8bi5oYXNGb2N1cygpKSYmISEoYS50eXBlfHxhLmhyZWZ8fH5hLnRhYkluZGV4KX0sZW5hYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSExfSxkaXNhYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSEwfSxjaGVja2VkOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT1iJiYhIWEuY2hlY2tlZHx8XCJvcHRpb25cIj09PWImJiEhYS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsYS5zZWxlY3RlZD09PSEwfSxlbXB0eTpmdW5jdGlvbihhKXtmb3IoYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpaWYoYS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIWQucHNldWRvcy5lbXB0eShhKX0saGVhZGVyOmZ1bmN0aW9uKGEpe3JldHVybiBaLnRlc3QoYS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGEpe3JldHVybiBZLnRlc3QoYS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09YiYmXCJidXR0b25cIj09PWEudHlwZXx8XCJidXR0b25cIj09PWJ9LHRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuXCJpbnB1dFwiPT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZcInRleHRcIj09PWEudHlwZSYmKG51bGw9PShiPWEuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSl8fFwidGV4dFwiPT09Yi50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6b2IoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0Om9iKGZ1bmN0aW9uKGEsYil7cmV0dXJuW2ItMV19KSxlcTpvYihmdW5jdGlvbihhLGIsYyl7cmV0dXJuWzA+Yz9jK2I6Y119KSxldmVuOm9iKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksb2RkOm9iKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksbHQ6b2IoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7LS1kPj0wOylhLnB1c2goZCk7cmV0dXJuIGF9KSxndDpvYihmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzsrK2Q8YjspYS5wdXNoKGQpO3JldHVybiBhfSl9fSxkLnBzZXVkb3MubnRoPWQucHNldWRvcy5lcTtmb3IoYiBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSlkLnBzZXVkb3NbYl09bWIoYik7Zm9yKGIgaW57c3VibWl0OiEwLHJlc2V0OiEwfSlkLnBzZXVkb3NbYl09bmIoYik7ZnVuY3Rpb24gcWIoKXt9cWIucHJvdG90eXBlPWQuZmlsdGVycz1kLnBzZXVkb3MsZC5zZXRGaWx0ZXJzPW5ldyBxYixnPWdiLnRva2VuaXplPWZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxpLGosaz16W2ErXCIgXCJdO2lmKGspcmV0dXJuIGI/MDprLnNsaWNlKDApO2g9YSxpPVtdLGo9ZC5wcmVGaWx0ZXI7d2hpbGUoaCl7KCFjfHwoZT1TLmV4ZWMoaCkpKSYmKGUmJihoPWguc2xpY2UoZVswXS5sZW5ndGgpfHxoKSxpLnB1c2goZj1bXSkpLGM9ITEsKGU9VC5leGVjKGgpKSYmKGM9ZS5zaGlmdCgpLGYucHVzaCh7dmFsdWU6Yyx0eXBlOmVbMF0ucmVwbGFjZShSLFwiIFwiKX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2ZvcihnIGluIGQuZmlsdGVyKSEoZT1YW2ddLmV4ZWMoaCkpfHxqW2ddJiYhKGU9altnXShlKSl8fChjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTpnLG1hdGNoZXM6ZX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2lmKCFjKWJyZWFrfXJldHVybiBiP2gubGVuZ3RoOmg/Z2IuZXJyb3IoYSk6eihhLGkpLnNsaWNlKDApfTtmdW5jdGlvbiByYihhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9XCJcIjtjPmI7YisrKWQrPWFbYl0udmFsdWU7cmV0dXJuIGR9ZnVuY3Rpb24gc2IoYSxiLGMpe3ZhciBkPWIuZGlyLGU9YyYmXCJwYXJlbnROb2RlXCI9PT1kLGY9eCsrO3JldHVybiBiLmZpcnN0P2Z1bmN0aW9uKGIsYyxmKXt3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpcmV0dXJuIGEoYixjLGYpfTpmdW5jdGlvbihiLGMsZyl7dmFyIGgsaSxqPVt3LGZdO2lmKGcpe3doaWxlKGI9YltkXSlpZigoMT09PWIubm9kZVR5cGV8fGUpJiZhKGIsYyxnKSlyZXR1cm4hMH1lbHNlIHdoaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSl7aWYoaT1iW3VdfHwoYlt1XT17fSksKGg9aVtkXSkmJmhbMF09PT13JiZoWzFdPT09ZilyZXR1cm4galsyXT1oWzJdO2lmKGlbZF09aixqWzJdPWEoYixjLGcpKXJldHVybiEwfX19ZnVuY3Rpb24gdGIoYSl7cmV0dXJuIGEubGVuZ3RoPjE/ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEubGVuZ3RoO3doaWxlKGUtLSlpZighYVtlXShiLGMsZCkpcmV0dXJuITE7cmV0dXJuITB9OmFbMF19ZnVuY3Rpb24gdWIoYSxiLGMpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGg7ZT5kO2QrKylnYihhLGJbZF0sYyk7cmV0dXJuIGN9ZnVuY3Rpb24gdmIoYSxiLGMsZCxlKXtmb3IodmFyIGYsZz1bXSxoPTAsaT1hLmxlbmd0aCxqPW51bGwhPWI7aT5oO2grKykoZj1hW2hdKSYmKCFjfHxjKGYsZCxlKSkmJihnLnB1c2goZiksaiYmYi5wdXNoKGgpKTtyZXR1cm4gZ31mdW5jdGlvbiB3YihhLGIsYyxkLGUsZil7cmV0dXJuIGQmJiFkW3VdJiYoZD13YihkKSksZSYmIWVbdV0mJihlPXdiKGUsZikpLGliKGZ1bmN0aW9uKGYsZyxoLGkpe3ZhciBqLGssbCxtPVtdLG49W10sbz1nLmxlbmd0aCxwPWZ8fHViKGJ8fFwiKlwiLGgubm9kZVR5cGU/W2hdOmgsW10pLHE9IWF8fCFmJiZiP3A6dmIocCxtLGEsaCxpKSxyPWM/ZXx8KGY/YTpvfHxkKT9bXTpnOnE7aWYoYyYmYyhxLHIsaCxpKSxkKXtqPXZiKHIsbiksZChqLFtdLGgsaSksaz1qLmxlbmd0aDt3aGlsZShrLS0pKGw9altrXSkmJihyW25ba11dPSEocVtuW2tdXT1sKSl9aWYoZil7aWYoZXx8YSl7aWYoZSl7aj1bXSxrPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmai5wdXNoKHFba109bCk7ZShudWxsLHI9W10saixpKX1rPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmKGo9ZT9KKGYsbCk6bVtrXSk+LTEmJihmW2pdPSEoZ1tqXT1sKSl9fWVsc2Ugcj12YihyPT09Zz9yLnNwbGljZShvLHIubGVuZ3RoKTpyKSxlP2UobnVsbCxnLHIsaSk6SC5hcHBseShnLHIpfSl9ZnVuY3Rpb24geGIoYSl7Zm9yKHZhciBiLGMsZSxmPWEubGVuZ3RoLGc9ZC5yZWxhdGl2ZVthWzBdLnR5cGVdLGg9Z3x8ZC5yZWxhdGl2ZVtcIiBcIl0saT1nPzE6MCxrPXNiKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0saCwhMCksbD1zYihmdW5jdGlvbihhKXtyZXR1cm4gSihiLGEpPi0xfSxoLCEwKSxtPVtmdW5jdGlvbihhLGMsZCl7dmFyIGU9IWcmJihkfHxjIT09ail8fCgoYj1jKS5ub2RlVHlwZT9rKGEsYyxkKTpsKGEsYyxkKSk7cmV0dXJuIGI9bnVsbCxlfV07Zj5pO2krKylpZihjPWQucmVsYXRpdmVbYVtpXS50eXBlXSltPVtzYih0YihtKSxjKV07ZWxzZXtpZihjPWQuZmlsdGVyW2FbaV0udHlwZV0uYXBwbHkobnVsbCxhW2ldLm1hdGNoZXMpLGNbdV0pe2ZvcihlPSsraTtmPmU7ZSsrKWlmKGQucmVsYXRpdmVbYVtlXS50eXBlXSlicmVhaztyZXR1cm4gd2IoaT4xJiZ0YihtKSxpPjEmJnJiKGEuc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6XCIgXCI9PT1hW2ktMl0udHlwZT9cIipcIjpcIlwifSkpLnJlcGxhY2UoUixcIiQxXCIpLGMsZT5pJiZ4YihhLnNsaWNlKGksZSkpLGY+ZSYmeGIoYT1hLnNsaWNlKGUpKSxmPmUmJnJiKGEpKX1tLnB1c2goYyl9cmV0dXJuIHRiKG0pfWZ1bmN0aW9uIHliKGEsYil7dmFyIGM9Yi5sZW5ndGg+MCxlPWEubGVuZ3RoPjAsZj1mdW5jdGlvbihmLGcsaCxpLGspe3ZhciBsLG0sbyxwPTAscT1cIjBcIixyPWYmJltdLHM9W10sdD1qLHU9Znx8ZSYmZC5maW5kLlRBRyhcIipcIixrKSx2PXcrPW51bGw9PXQ/MTpNYXRoLnJhbmRvbSgpfHwuMSx4PXUubGVuZ3RoO2ZvcihrJiYoaj1nIT09biYmZyk7cSE9PXgmJm51bGwhPShsPXVbcV0pO3ErKyl7aWYoZSYmbCl7bT0wO3doaWxlKG89YVttKytdKWlmKG8obCxnLGgpKXtpLnB1c2gobCk7YnJlYWt9ayYmKHc9dil9YyYmKChsPSFvJiZsKSYmcC0tLGYmJnIucHVzaChsKSl9aWYocCs9cSxjJiZxIT09cCl7bT0wO3doaWxlKG89YlttKytdKW8ocixzLGcsaCk7aWYoZil7aWYocD4wKXdoaWxlKHEtLSlyW3FdfHxzW3FdfHwoc1txXT1GLmNhbGwoaSkpO3M9dmIocyl9SC5hcHBseShpLHMpLGsmJiFmJiZzLmxlbmd0aD4wJiZwK2IubGVuZ3RoPjEmJmdiLnVuaXF1ZVNvcnQoaSl9cmV0dXJuIGsmJih3PXYsaj10KSxyfTtyZXR1cm4gYz9pYihmKTpmfXJldHVybiBoPWdiLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9W10sZj1BW2ErXCIgXCJdO2lmKCFmKXtifHwoYj1nKGEpKSxjPWIubGVuZ3RoO3doaWxlKGMtLSlmPXhiKGJbY10pLGZbdV0/ZC5wdXNoKGYpOmUucHVzaChmKTtmPUEoYSx5YihlLGQpKSxmLnNlbGVjdG9yPWF9cmV0dXJuIGZ9LGk9Z2Iuc2VsZWN0PWZ1bmN0aW9uKGEsYixlLGYpe3ZhciBpLGosayxsLG0sbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiZhLG89IWYmJmcoYT1uLnNlbGVjdG9yfHxhKTtpZihlPWV8fFtdLDE9PT1vLmxlbmd0aCl7aWYoaj1vWzBdPW9bMF0uc2xpY2UoMCksai5sZW5ndGg+MiYmXCJJRFwiPT09KGs9alswXSkudHlwZSYmYy5nZXRCeUlkJiY5PT09Yi5ub2RlVHlwZSYmcCYmZC5yZWxhdGl2ZVtqWzFdLnR5cGVdKXtpZihiPShkLmZpbmQuSUQoay5tYXRjaGVzWzBdLnJlcGxhY2UoY2IsZGIpLGIpfHxbXSlbMF0sIWIpcmV0dXJuIGU7biYmKGI9Yi5wYXJlbnROb2RlKSxhPWEuc2xpY2Uoai5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1YLm5lZWRzQ29udGV4dC50ZXN0KGEpPzA6ai5sZW5ndGg7d2hpbGUoaS0tKXtpZihrPWpbaV0sZC5yZWxhdGl2ZVtsPWsudHlwZV0pYnJlYWs7aWYoKG09ZC5maW5kW2xdKSYmKGY9bShrLm1hdGNoZXNbMF0ucmVwbGFjZShjYixkYiksYWIudGVzdChqWzBdLnR5cGUpJiZwYihiLnBhcmVudE5vZGUpfHxiKSkpe2lmKGouc3BsaWNlKGksMSksYT1mLmxlbmd0aCYmcmIoaiksIWEpcmV0dXJuIEguYXBwbHkoZSxmKSxlO2JyZWFrfX19cmV0dXJuKG58fGgoYSxvKSkoZixiLCFwLGUsYWIudGVzdChhKSYmcGIoYi5wYXJlbnROb2RlKXx8YiksZX0sYy5zb3J0U3RhYmxlPXUuc3BsaXQoXCJcIikuc29ydChCKS5qb2luKFwiXCIpPT09dSxjLmRldGVjdER1cGxpY2F0ZXM9ISFsLG0oKSxjLnNvcnREZXRhY2hlZD1qYihmdW5jdGlvbihhKXtyZXR1cm4gMSZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG4uY3JlYXRlRWxlbWVudChcImRpdlwiKSl9KSxqYihmdW5jdGlvbihhKXtyZXR1cm4gYS5pbm5lckhUTUw9XCI8YSBocmVmPScjJz48L2E+XCIsXCIjXCI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKX0pfHxrYihcInR5cGV8aHJlZnxoZWlnaHR8d2lkdGhcIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmEuZ2V0QXR0cmlidXRlKGIsXCJ0eXBlXCI9PT1iLnRvTG93ZXJDYXNlKCk/MToyKX0pLGMuYXR0cmlidXRlcyYmamIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPVwiPGlucHV0Lz5cIixhLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKFwidmFsdWVcIixcIlwiKSxcIlwiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpfSl8fGtiKFwidmFsdWVcIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGN8fFwiaW5wdXRcIiE9PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT92b2lkIDA6YS5kZWZhdWx0VmFsdWV9KSxqYihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YS5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKX0pfHxrYihLLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxnYn0oYSk7bi5maW5kPXQsbi5leHByPXQuc2VsZWN0b3JzLG4uZXhwcltcIjpcIl09bi5leHByLnBzZXVkb3Msbi51bmlxdWU9dC51bmlxdWVTb3J0LG4udGV4dD10LmdldFRleHQsbi5pc1hNTERvYz10LmlzWE1MLG4uY29udGFpbnM9dC5jb250YWluczt2YXIgdT1uLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LHY9L148KFxcdyspXFxzKlxcLz8+KD86PFxcL1xcMT58KSQvLHc9L14uW146I1xcW1xcLixdKiQvO2Z1bmN0aW9uIHgoYSxiLGMpe2lmKG4uaXNGdW5jdGlvbihiKSlyZXR1cm4gbi5ncmVwKGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4hIWIuY2FsbChhLGQsYSkhPT1jfSk7aWYoYi5ub2RlVHlwZSlyZXR1cm4gbi5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iIT09Y30pO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBiKXtpZih3LnRlc3QoYikpcmV0dXJuIG4uZmlsdGVyKGIsYSxjKTtiPW4uZmlsdGVyKGIsYSl9cmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBnLmNhbGwoYixhKT49MCE9PWN9KX1uLmZpbHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YlswXTtyZXR1cm4gYyYmKGE9XCI6bm90KFwiK2ErXCIpXCIpLDE9PT1iLmxlbmd0aCYmMT09PWQubm9kZVR5cGU/bi5maW5kLm1hdGNoZXNTZWxlY3RvcihkLGEpP1tkXTpbXTpuLmZpbmQubWF0Y2hlcyhhLG4uZ3JlcChiLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZX0pKX0sbi5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLmxlbmd0aCxkPVtdLGU9dGhpcztpZihcInN0cmluZ1wiIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5wdXNoU3RhY2sobihhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2M+YjtiKyspaWYobi5jb250YWlucyhlW2JdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihiPTA7Yz5iO2IrKyluLmZpbmQoYSxlW2JdLGQpO3JldHVybiBkPXRoaXMucHVzaFN0YWNrKGM+MT9uLnVuaXF1ZShkKTpkKSxkLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcitcIiBcIithOmEsZH0sZmlsdGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayh4KHRoaXMsYXx8W10sITEpKX0sbm90OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayh4KHRoaXMsYXx8W10sITApKX0saXM6ZnVuY3Rpb24oYSl7cmV0dXJuISF4KHRoaXMsXCJzdHJpbmdcIj09dHlwZW9mIGEmJnUudGVzdChhKT9uKGEpOmF8fFtdLCExKS5sZW5ndGh9fSk7dmFyIHksej0vXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0qKSkkLyxBPW4uZm4uaW5pdD1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7aWYoIWEpcmV0dXJuIHRoaXM7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpe2lmKGM9XCI8XCI9PT1hWzBdJiZcIj5cIj09PWFbYS5sZW5ndGgtMV0mJmEubGVuZ3RoPj0zP1tudWxsLGEsbnVsbF06ei5leGVjKGEpLCFjfHwhY1sxXSYmYilyZXR1cm4hYnx8Yi5qcXVlcnk/KGJ8fHkpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihiKS5maW5kKGEpO2lmKGNbMV0pe2lmKGI9YiBpbnN0YW5jZW9mIG4/YlswXTpiLG4ubWVyZ2UodGhpcyxuLnBhcnNlSFRNTChjWzFdLGImJmIubm9kZVR5cGU/Yi5vd25lckRvY3VtZW50fHxiOmwsITApKSx2LnRlc3QoY1sxXSkmJm4uaXNQbGFpbk9iamVjdChiKSlmb3IoYyBpbiBiKW4uaXNGdW5jdGlvbih0aGlzW2NdKT90aGlzW2NdKGJbY10pOnRoaXMuYXR0cihjLGJbY10pO3JldHVybiB0aGlzfXJldHVybiBkPWwuZ2V0RWxlbWVudEJ5SWQoY1syXSksZCYmZC5wYXJlbnROb2RlJiYodGhpcy5sZW5ndGg9MSx0aGlzWzBdPWQpLHRoaXMuY29udGV4dD1sLHRoaXMuc2VsZWN0b3I9YSx0aGlzfXJldHVybiBhLm5vZGVUeXBlPyh0aGlzLmNvbnRleHQ9dGhpc1swXT1hLHRoaXMubGVuZ3RoPTEsdGhpcyk6bi5pc0Z1bmN0aW9uKGEpP1widW5kZWZpbmVkXCIhPXR5cGVvZiB5LnJlYWR5P3kucmVhZHkoYSk6YShuKToodm9pZCAwIT09YS5zZWxlY3RvciYmKHRoaXMuc2VsZWN0b3I9YS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9YS5jb250ZXh0KSxuLm1ha2VBcnJheShhLHRoaXMpKX07QS5wcm90b3R5cGU9bi5mbix5PW4obCk7dmFyIEI9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sQz17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtuLmV4dGVuZCh7ZGlyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPXZvaWQgMCE9PWM7d2hpbGUoKGE9YVtiXSkmJjkhPT1hLm5vZGVUeXBlKWlmKDE9PT1hLm5vZGVUeXBlKXtpZihlJiZuKGEpLmlzKGMpKWJyZWFrO2QucHVzaChhKX1yZXR1cm4gZH0sc2libGluZzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY319KSxuLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGEpe3ZhciBiPW4oYSx0aGlzKSxjPWIubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2M+YTthKyspaWYobi5jb250YWlucyh0aGlzLGJbYV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9dGhpcy5sZW5ndGgsZj1bXSxnPXUudGVzdChhKXx8XCJzdHJpbmdcIiE9dHlwZW9mIGE/bihhLGJ8fHRoaXMuY29udGV4dCk6MDtlPmQ7ZCsrKWZvcihjPXRoaXNbZF07YyYmYyE9PWI7Yz1jLnBhcmVudE5vZGUpaWYoYy5ub2RlVHlwZTwxMSYmKGc/Zy5pbmRleChjKT4tMToxPT09Yy5ub2RlVHlwZSYmbi5maW5kLm1hdGNoZXNTZWxlY3RvcihjLGEpKSl7Zi5wdXNoKGMpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhmLmxlbmd0aD4xP24udW5pcXVlKGYpOmYpfSxpbmRleDpmdW5jdGlvbihhKXtyZXR1cm4gYT9cInN0cmluZ1wiPT10eXBlb2YgYT9nLmNhbGwobihhKSx0aGlzWzBdKTpnLmNhbGwodGhpcyxhLmpxdWVyeT9hWzBdOmEpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4udW5pcXVlKG4ubWVyZ2UodGhpcy5nZXQoKSxuKGEsYikpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWE/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYSkpfX0pO2Z1bmN0aW9uIEQoYSxiKXt3aGlsZSgoYT1hW2JdKSYmMSE9PWEubm9kZVR5cGUpO3JldHVybiBhfW4uZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmMTEhPT1iLm5vZGVUeXBlP2I6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gbi5kaXIoYSxcInBhcmVudE5vZGVcIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZGlyKGEsXCJwYXJlbnROb2RlXCIsYyl9LG5leHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEQoYSxcIm5leHRTaWJsaW5nXCIpfSxwcmV2OmZ1bmN0aW9uKGEpe3JldHVybiBEKGEsXCJwcmV2aW91c1NpYmxpbmdcIil9LG5leHRBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZGlyKGEsXCJuZXh0U2libGluZ1wiKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4gbi5kaXIoYSxcInByZXZpb3VzU2libGluZ1wiKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5kaXIoYSxcIm5leHRTaWJsaW5nXCIsYyl9LHByZXZVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZGlyKGEsXCJwcmV2aW91c1NpYmxpbmdcIixjKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uc2libGluZygoYS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIG4uc2libGluZyhhLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50RG9jdW1lbnR8fG4ubWVyZ2UoW10sYS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihjLGQpe3ZhciBlPW4ubWFwKHRoaXMsYixjKTtyZXR1cm5cIlVudGlsXCIhPT1hLnNsaWNlKC01KSYmKGQ9YyksZCYmXCJzdHJpbmdcIj09dHlwZW9mIGQmJihlPW4uZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihDW2FdfHxuLnVuaXF1ZShlKSxCLnRlc3QoYSkmJmUucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgRT0vXFxTKy9nLEY9e307ZnVuY3Rpb24gRyhhKXt2YXIgYj1GW2FdPXt9O3JldHVybiBuLmVhY2goYS5tYXRjaChFKXx8W10sZnVuY3Rpb24oYSxjKXtiW2NdPSEwfSksYn1uLkNhbGxiYWNrcz1mdW5jdGlvbihhKXthPVwic3RyaW5nXCI9PXR5cGVvZiBhP0ZbYV18fEcoYSk6bi5leHRlbmQoe30sYSk7dmFyIGIsYyxkLGUsZixnLGg9W10saT0hYS5vbmNlJiZbXSxqPWZ1bmN0aW9uKGwpe2ZvcihiPWEubWVtb3J5JiZsLGM9ITAsZz1lfHwwLGU9MCxmPWgubGVuZ3RoLGQ9ITA7aCYmZj5nO2crKylpZihoW2ddLmFwcGx5KGxbMF0sbFsxXSk9PT0hMSYmYS5zdG9wT25GYWxzZSl7Yj0hMTticmVha31kPSExLGgmJihpP2kubGVuZ3RoJiZqKGkuc2hpZnQoKSk6Yj9oPVtdOmsuZGlzYWJsZSgpKX0saz17YWRkOmZ1bmN0aW9uKCl7aWYoaCl7dmFyIGM9aC5sZW5ndGg7IWZ1bmN0aW9uIGcoYil7bi5lYWNoKGIsZnVuY3Rpb24oYixjKXt2YXIgZD1uLnR5cGUoYyk7XCJmdW5jdGlvblwiPT09ZD9hLnVuaXF1ZSYmay5oYXMoYyl8fGgucHVzaChjKTpjJiZjLmxlbmd0aCYmXCJzdHJpbmdcIiE9PWQmJmcoYyl9KX0oYXJndW1lbnRzKSxkP2Y9aC5sZW5ndGg6YiYmKGU9YyxqKGIpKX1yZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGgmJm4uZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYSxiKXt2YXIgYzt3aGlsZSgoYz1uLmluQXJyYXkoYixoLGMpKT4tMSloLnNwbGljZShjLDEpLGQmJihmPj1jJiZmLS0sZz49YyYmZy0tKX0pLHRoaXN9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gYT9uLmluQXJyYXkoYSxoKT4tMTohKCFofHwhaC5sZW5ndGgpfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBoPVtdLGY9MCx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGg9aT1iPXZvaWQgMCx0aGlzfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFofSxsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIGk9dm9pZCAwLGJ8fGsuZGlzYWJsZSgpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiFpfSxmaXJlV2l0aDpmdW5jdGlvbihhLGIpe3JldHVybiFofHxjJiYhaXx8KGI9Ynx8W10sYj1bYSxiLnNsaWNlP2Iuc2xpY2UoKTpiXSxkP2kucHVzaChiKTpqKGIpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGsuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFjfX07cmV0dXJuIGt9LG4uZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihhKXt2YXIgYj1bW1wicmVzb2x2ZVwiLFwiZG9uZVwiLG4uQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksXCJyZXNvbHZlZFwiXSxbXCJyZWplY3RcIixcImZhaWxcIixuLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLFwicmVqZWN0ZWRcIl0sW1wibm90aWZ5XCIsXCJwcm9ncmVzc1wiLG4uQ2FsbGJhY2tzKFwibWVtb3J5XCIpXV0sYz1cInBlbmRpbmdcIixkPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBjfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gZS5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LHRoZW46ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7cmV0dXJuIG4uRGVmZXJyZWQoZnVuY3Rpb24oYyl7bi5lYWNoKGIsZnVuY3Rpb24oYixmKXt2YXIgZz1uLmlzRnVuY3Rpb24oYVtiXSkmJmFbYl07ZVtmWzFdXShmdW5jdGlvbigpe3ZhciBhPWcmJmcuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EmJm4uaXNGdW5jdGlvbihhLnByb21pc2UpP2EucHJvbWlzZSgpLmRvbmUoYy5yZXNvbHZlKS5mYWlsKGMucmVqZWN0KS5wcm9ncmVzcyhjLm5vdGlmeSk6Y1tmWzBdK1wiV2l0aFwiXSh0aGlzPT09ZD9jLnByb21pc2UoKTp0aGlzLGc/W2FdOmFyZ3VtZW50cyl9KX0pLGE9bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9uLmV4dGVuZChhLGQpOmR9fSxlPXt9O3JldHVybiBkLnBpcGU9ZC50aGVuLG4uZWFjaChiLGZ1bmN0aW9uKGEsZil7dmFyIGc9ZlsyXSxoPWZbM107ZFtmWzFdXT1nLmFkZCxoJiZnLmFkZChmdW5jdGlvbigpe2M9aH0sYlsxXmFdWzJdLmRpc2FibGUsYlsyXVsyXS5sb2NrKSxlW2ZbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIGVbZlswXStcIldpdGhcIl0odGhpcz09PWU/ZDp0aGlzLGFyZ3VtZW50cyksdGhpc30sZVtmWzBdK1wiV2l0aFwiXT1nLmZpcmVXaXRofSksZC5wcm9taXNlKGUpLGEmJmEuY2FsbChlLGUpLGV9LHdoZW46ZnVuY3Rpb24oYSl7dmFyIGI9MCxjPWQuY2FsbChhcmd1bWVudHMpLGU9Yy5sZW5ndGgsZj0xIT09ZXx8YSYmbi5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/ZTowLGc9MT09PWY/YTpuLkRlZmVycmVkKCksaD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGUpe2JbYV09dGhpcyxjW2FdPWFyZ3VtZW50cy5sZW5ndGg+MT9kLmNhbGwoYXJndW1lbnRzKTplLGM9PT1pP2cubm90aWZ5V2l0aChiLGMpOi0tZnx8Zy5yZXNvbHZlV2l0aChiLGMpfX0saSxqLGs7aWYoZT4xKWZvcihpPW5ldyBBcnJheShlKSxqPW5ldyBBcnJheShlKSxrPW5ldyBBcnJheShlKTtlPmI7YisrKWNbYl0mJm4uaXNGdW5jdGlvbihjW2JdLnByb21pc2UpP2NbYl0ucHJvbWlzZSgpLmRvbmUoaChiLGssYykpLmZhaWwoZy5yZWplY3QpLnByb2dyZXNzKGgoYixqLGkpKTotLWY7cmV0dXJuIGZ8fGcucmVzb2x2ZVdpdGgoayxjKSxnLnByb21pc2UoKX19KTt2YXIgSDtuLmZuLnJlYWR5PWZ1bmN0aW9uKGEpe3JldHVybiBuLnJlYWR5LnByb21pc2UoKS5kb25lKGEpLHRoaXN9LG4uZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLGhvbGRSZWFkeTpmdW5jdGlvbihhKXthP24ucmVhZHlXYWl0Kys6bi5yZWFkeSghMCl9LHJlYWR5OmZ1bmN0aW9uKGEpeyhhPT09ITA/LS1uLnJlYWR5V2FpdDpuLmlzUmVhZHkpfHwobi5pc1JlYWR5PSEwLGEhPT0hMCYmLS1uLnJlYWR5V2FpdD4wfHwoSC5yZXNvbHZlV2l0aChsLFtuXSksbi5mbi50cmlnZ2VySGFuZGxlciYmKG4obCkudHJpZ2dlckhhbmRsZXIoXCJyZWFkeVwiKSxuKGwpLm9mZihcInJlYWR5XCIpKSkpfX0pO2Z1bmN0aW9uIEkoKXtsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsSSwhMSksYS5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLEksITEpLG4ucmVhZHkoKX1uLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7cmV0dXJuIEh8fChIPW4uRGVmZXJyZWQoKSxcImNvbXBsZXRlXCI9PT1sLnJlYWR5U3RhdGU/c2V0VGltZW91dChuLnJlYWR5KToobC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLEksITEpLGEuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixJLCExKSkpLEgucHJvbWlzZShiKX0sbi5yZWFkeS5wcm9taXNlKCk7dmFyIEo9bi5hY2Nlc3M9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9MCxpPWEubGVuZ3RoLGo9bnVsbD09YztpZihcIm9iamVjdFwiPT09bi50eXBlKGMpKXtlPSEwO2ZvcihoIGluIGMpbi5hY2Nlc3MoYSxiLGgsY1toXSwhMCxmLGcpfWVsc2UgaWYodm9pZCAwIT09ZCYmKGU9ITAsbi5pc0Z1bmN0aW9uKGQpfHwoZz0hMCksaiYmKGc/KGIuY2FsbChhLGQpLGI9bnVsbCk6KGo9YixiPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gai5jYWxsKG4oYSksYyl9KSksYikpZm9yKDtpPmg7aCsrKWIoYVtoXSxjLGc/ZDpkLmNhbGwoYVtoXSxoLGIoYVtoXSxjKSkpO3JldHVybiBlP2E6aj9iLmNhbGwoYSk6aT9iKGFbMF0sYyk6Zn07bi5hY2NlcHREYXRhPWZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZXx8OT09PWEubm9kZVR5cGV8fCErYS5ub2RlVHlwZX07ZnVuY3Rpb24gSygpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLmNhY2hlPXt9LDAse2dldDpmdW5jdGlvbigpe3JldHVybnt9fX0pLHRoaXMuZXhwYW5kbz1uLmV4cGFuZG8rSy51aWQrK31LLnVpZD0xLEsuYWNjZXB0cz1uLmFjY2VwdERhdGEsSy5wcm90b3R5cGU9e2tleTpmdW5jdGlvbihhKXtpZighSy5hY2NlcHRzKGEpKXJldHVybiAwO3ZhciBiPXt9LGM9YVt0aGlzLmV4cGFuZG9dO2lmKCFjKXtjPUsudWlkKys7dHJ5e2JbdGhpcy5leHBhbmRvXT17dmFsdWU6Y30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYSxiKX1jYXRjaChkKXtiW3RoaXMuZXhwYW5kb109YyxuLmV4dGVuZChhLGIpfX1yZXR1cm4gdGhpcy5jYWNoZVtjXXx8KHRoaXMuY2FjaGVbY109e30pLGN9LHNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT10aGlzLmtleShhKSxmPXRoaXMuY2FjaGVbZV07aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpZltiXT1jO2Vsc2UgaWYobi5pc0VtcHR5T2JqZWN0KGYpKW4uZXh0ZW5kKHRoaXMuY2FjaGVbZV0sYik7ZWxzZSBmb3IoZCBpbiBiKWZbZF09YltkXTtyZXR1cm4gZn0sZ2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jYWNoZVt0aGlzLmtleShhKV07cmV0dXJuIHZvaWQgMD09PWI/YzpjW2JdfSxhY2Nlc3M6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiB2b2lkIDA9PT1ifHxiJiZcInN0cmluZ1wiPT10eXBlb2YgYiYmdm9pZCAwPT09Yz8oZD10aGlzLmdldChhLGIpLHZvaWQgMCE9PWQ/ZDp0aGlzLmdldChhLG4uY2FtZWxDYXNlKGIpKSk6KHRoaXMuc2V0KGEsYixjKSx2b2lkIDAhPT1jP2M6Yil9LHJlbW92ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPXRoaXMua2V5KGEpLGc9dGhpcy5jYWNoZVtmXTtpZih2b2lkIDA9PT1iKXRoaXMuY2FjaGVbZl09e307ZWxzZXtuLmlzQXJyYXkoYik/ZD1iLmNvbmNhdChiLm1hcChuLmNhbWVsQ2FzZSkpOihlPW4uY2FtZWxDYXNlKGIpLGIgaW4gZz9kPVtiLGVdOihkPWUsZD1kIGluIGc/W2RdOmQubWF0Y2goRSl8fFtdKSksYz1kLmxlbmd0aDt3aGlsZShjLS0pZGVsZXRlIGdbZFtjXV19fSxoYXNEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiFuLmlzRW1wdHlPYmplY3QodGhpcy5jYWNoZVthW3RoaXMuZXhwYW5kb11dfHx7fSl9LGRpc2NhcmQ6ZnVuY3Rpb24oYSl7YVt0aGlzLmV4cGFuZG9dJiZkZWxldGUgdGhpcy5jYWNoZVthW3RoaXMuZXhwYW5kb11dfX07dmFyIEw9bmV3IEssTT1uZXcgSyxOPS9eKD86XFx7W1xcd1xcV10qXFx9fFxcW1tcXHdcXFddKlxcXSkkLyxPPS8oW0EtWl0pL2c7ZnVuY3Rpb24gUChhLGIsYyl7dmFyIGQ7aWYodm9pZCAwPT09YyYmMT09PWEubm9kZVR5cGUpaWYoZD1cImRhdGEtXCIrYi5yZXBsYWNlKE8sXCItJDFcIikudG9Mb3dlckNhc2UoKSxjPWEuZ2V0QXR0cmlidXRlKGQpLFwic3RyaW5nXCI9PXR5cGVvZiBjKXt0cnl7Yz1cInRydWVcIj09PWM/ITA6XCJmYWxzZVwiPT09Yz8hMTpcIm51bGxcIj09PWM/bnVsbDorYytcIlwiPT09Yz8rYzpOLnRlc3QoYyk/bi5wYXJzZUpTT04oYyk6Y31jYXRjaChlKXt9TS5zZXQoYSxiLGMpfWVsc2UgYz12b2lkIDA7cmV0dXJuIGN9bi5leHRlbmQoe2hhc0RhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIE0uaGFzRGF0YShhKXx8TC5oYXNEYXRhKGEpfSxkYXRhOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gTS5hY2Nlc3MoYSxiLGMpXG59LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtNLnJlbW92ZShhLGIpfSxfZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIEwuYWNjZXNzKGEsYixjKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtMLnJlbW92ZShhLGIpfX0pLG4uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9TS5nZXQoZiksMT09PWYubm9kZVR5cGUmJiFMLmdldChmLFwiaGFzRGF0YUF0dHJzXCIpKSl7Yz1nLmxlbmd0aDt3aGlsZShjLS0pZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoXCJkYXRhLVwiKSYmKGQ9bi5jYW1lbENhc2UoZC5zbGljZSg1KSksUChmLGQsZVtkXSkpKTtMLnNldChmLFwiaGFzRGF0YUF0dHJzXCIsITApfXJldHVybiBlfXJldHVyblwib2JqZWN0XCI9PXR5cGVvZiBhP3RoaXMuZWFjaChmdW5jdGlvbigpe00uc2V0KHRoaXMsYSl9KTpKKHRoaXMsZnVuY3Rpb24oYil7dmFyIGMsZD1uLmNhbWVsQ2FzZShhKTtpZihmJiZ2b2lkIDA9PT1iKXtpZihjPU0uZ2V0KGYsYSksdm9pZCAwIT09YylyZXR1cm4gYztpZihjPU0uZ2V0KGYsZCksdm9pZCAwIT09YylyZXR1cm4gYztpZihjPVAoZixkLHZvaWQgMCksdm9pZCAwIT09YylyZXR1cm4gY31lbHNlIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPU0uZ2V0KHRoaXMsZCk7TS5zZXQodGhpcyxkLGIpLC0xIT09YS5pbmRleE9mKFwiLVwiKSYmdm9pZCAwIT09YyYmTS5zZXQodGhpcyxhLGIpfSl9LG51bGwsYixhcmd1bWVudHMubGVuZ3RoPjEsbnVsbCwhMCl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe00ucmVtb3ZlKHRoaXMsYSl9KX19KSxuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBhPyhiPShifHxcImZ4XCIpK1wicXVldWVcIixkPUwuZ2V0KGEsYiksYyYmKCFkfHxuLmlzQXJyYXkoYyk/ZD1MLmFjY2VzcyhhLGIsbi5tYWtlQXJyYXkoYykpOmQucHVzaChjKSksZHx8W10pOnZvaWQgMH0sZGVxdWV1ZTpmdW5jdGlvbihhLGIpe2I9Ynx8XCJmeFwiO3ZhciBjPW4ucXVldWUoYSxiKSxkPWMubGVuZ3RoLGU9Yy5zaGlmdCgpLGY9bi5fcXVldWVIb29rcyhhLGIpLGc9ZnVuY3Rpb24oKXtuLmRlcXVldWUoYSxiKX07XCJpbnByb2dyZXNzXCI9PT1lJiYoZT1jLnNoaWZ0KCksZC0tKSxlJiYoXCJmeFwiPT09YiYmYy51bnNoaWZ0KFwiaW5wcm9ncmVzc1wiKSxkZWxldGUgZi5zdG9wLGUuY2FsbChhLGcsZikpLCFkJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iK1wicXVldWVIb29rc1wiO3JldHVybiBMLmdldChhLGMpfHxMLmFjY2VzcyhhLGMse2VtcHR5Om4uQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIikuYWRkKGZ1bmN0aW9uKCl7TC5yZW1vdmUoYSxbYitcInF1ZXVlXCIsY10pfSl9KX19KSxuLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0yO3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYj1hLGE9XCJmeFwiLGMtLSksYXJndW1lbnRzLmxlbmd0aDxjP24ucXVldWUodGhpc1swXSxhKTp2b2lkIDA9PT1iP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9bi5xdWV1ZSh0aGlzLGEsYik7bi5fcXVldWVIb29rcyh0aGlzLGEpLFwiZnhcIj09PWEmJlwiaW5wcm9ncmVzc1wiIT09Y1swXSYmbi5kZXF1ZXVlKHRoaXMsYSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5kZXF1ZXVlKHRoaXMsYSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShhfHxcImZ4XCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0xLGU9bi5EZWZlcnJlZCgpLGY9dGhpcyxnPXRoaXMubGVuZ3RoLGg9ZnVuY3Rpb24oKXstLWR8fGUucmVzb2x2ZVdpdGgoZixbZl0pfTtcInN0cmluZ1wiIT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYT1hfHxcImZ4XCI7d2hpbGUoZy0tKWM9TC5nZXQoZltnXSxhK1wicXVldWVIb29rc1wiKSxjJiZjLmVtcHR5JiYoZCsrLGMuZW1wdHkuYWRkKGgpKTtyZXR1cm4gaCgpLGUucHJvbWlzZShiKX19KTt2YXIgUT0vWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLy5zb3VyY2UsUj1bXCJUb3BcIixcIlJpZ2h0XCIsXCJCb3R0b21cIixcIkxlZnRcIl0sUz1mdW5jdGlvbihhLGIpe3JldHVybiBhPWJ8fGEsXCJub25lXCI9PT1uLmNzcyhhLFwiZGlzcGxheVwiKXx8IW4uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpfSxUPS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pOyFmdW5jdGlvbigpe3ZhciBhPWwuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGI9YS5hcHBlbmRDaGlsZChsLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLGM9bC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7Yy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJyYWRpb1wiKSxjLnNldEF0dHJpYnV0ZShcImNoZWNrZWRcIixcImNoZWNrZWRcIiksYy5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJ0XCIpLGIuYXBwZW5kQ2hpbGQoYyksay5jaGVja0Nsb25lPWIuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGIuaW5uZXJIVE1MPVwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiLGsubm9DbG9uZUNoZWNrZWQ9ISFiLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZX0oKTt2YXIgVT1cInVuZGVmaW5lZFwiO2suZm9jdXNpbkJ1YmJsZXM9XCJvbmZvY3VzaW5cImluIGE7dmFyIFY9L15rZXkvLFc9L14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51KXxjbGljay8sWD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sWT0vXihbXi5dKikoPzpcXC4oLispfCkkLztmdW5jdGlvbiBaKCl7cmV0dXJuITB9ZnVuY3Rpb24gJCgpe3JldHVybiExfWZ1bmN0aW9uIF8oKXt0cnl7cmV0dXJuIGwuYWN0aXZlRWxlbWVudH1jYXRjaChhKXt9fW4uZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG8scCxxLHI9TC5nZXQoYSk7aWYocil7Yy5oYW5kbGVyJiYoZj1jLGM9Zi5oYW5kbGVyLGU9Zi5zZWxlY3RvciksYy5ndWlkfHwoYy5ndWlkPW4uZ3VpZCsrKSwoaT1yLmV2ZW50cyl8fChpPXIuZXZlbnRzPXt9KSwoZz1yLmhhbmRsZSl8fChnPXIuaGFuZGxlPWZ1bmN0aW9uKGIpe3JldHVybiB0eXBlb2YgbiE9PVUmJm4uZXZlbnQudHJpZ2dlcmVkIT09Yi50eXBlP24uZXZlbnQuZGlzcGF0Y2guYXBwbHkoYSxhcmd1bWVudHMpOnZvaWQgMH0pLGI9KGJ8fFwiXCIpLm1hdGNoKEUpfHxbXCJcIl0saj1iLmxlbmd0aDt3aGlsZShqLS0paD1ZLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fFwiXCIpLnNwbGl0KFwiLlwiKS5zb3J0KCksbyYmKGw9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShlP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxvLGw9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxrPW4uZXh0ZW5kKHt0eXBlOm8sb3JpZ1R5cGU6cSxkYXRhOmQsaGFuZGxlcjpjLGd1aWQ6Yy5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJm4uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6cC5qb2luKFwiLlwiKX0sZiksKG09aVtvXSl8fChtPWlbb109W10sbS5kZWxlZ2F0ZUNvdW50PTAsbC5zZXR1cCYmbC5zZXR1cC5jYWxsKGEsZCxwLGcpIT09ITF8fGEuYWRkRXZlbnRMaXN0ZW5lciYmYS5hZGRFdmVudExpc3RlbmVyKG8sZywhMSkpLGwuYWRkJiYobC5hZGQuY2FsbChhLGspLGsuaGFuZGxlci5ndWlkfHwoay5oYW5kbGVyLmd1aWQ9Yy5ndWlkKSksZT9tLnNwbGljZShtLmRlbGVnYXRlQ291bnQrKywwLGspOm0ucHVzaChrKSxuLmV2ZW50Lmdsb2JhbFtvXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG8scCxxLHI9TC5oYXNEYXRhKGEpJiZMLmdldChhKTtpZihyJiYoaT1yLmV2ZW50cykpe2I9KGJ8fFwiXCIpLm1hdGNoKEUpfHxbXCJcIl0saj1iLmxlbmd0aDt3aGlsZShqLS0paWYoaD1ZLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fFwiXCIpLnNwbGl0KFwiLlwiKS5zb3J0KCksbyl7bD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGQ/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG8sbT1pW29dfHxbXSxoPWhbMl0mJm5ldyBSZWdFeHAoXCIoXnxcXFxcLilcIitwLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKSxnPWY9bS5sZW5ndGg7d2hpbGUoZi0tKWs9bVtmXSwhZSYmcSE9PWsub3JpZ1R5cGV8fGMmJmMuZ3VpZCE9PWsuZ3VpZHx8aCYmIWgudGVzdChrLm5hbWVzcGFjZSl8fGQmJmQhPT1rLnNlbGVjdG9yJiYoXCIqKlwiIT09ZHx8IWsuc2VsZWN0b3IpfHwobS5zcGxpY2UoZiwxKSxrLnNlbGVjdG9yJiZtLmRlbGVnYXRlQ291bnQtLSxsLnJlbW92ZSYmbC5yZW1vdmUuY2FsbChhLGspKTtnJiYhbS5sZW5ndGgmJihsLnRlYXJkb3duJiZsLnRlYXJkb3duLmNhbGwoYSxwLHIuaGFuZGxlKSE9PSExfHxuLnJlbW92ZUV2ZW50KGEsbyxyLmhhbmRsZSksZGVsZXRlIGlbb10pfWVsc2UgZm9yKG8gaW4gaSluLmV2ZW50LnJlbW92ZShhLG8rYltqXSxjLGQsITApO24uaXNFbXB0eU9iamVjdChpKSYmKGRlbGV0ZSByLmhhbmRsZSxMLnJlbW92ZShhLFwiZXZlbnRzXCIpKX19LHRyaWdnZXI6ZnVuY3Rpb24oYixjLGQsZSl7dmFyIGYsZyxoLGksayxtLG8scD1bZHx8bF0scT1qLmNhbGwoYixcInR5cGVcIik/Yi50eXBlOmIscj1qLmNhbGwoYixcIm5hbWVzcGFjZVwiKT9iLm5hbWVzcGFjZS5zcGxpdChcIi5cIik6W107aWYoZz1oPWQ9ZHx8bCwzIT09ZC5ub2RlVHlwZSYmOCE9PWQubm9kZVR5cGUmJiFYLnRlc3QocStuLmV2ZW50LnRyaWdnZXJlZCkmJihxLmluZGV4T2YoXCIuXCIpPj0wJiYocj1xLnNwbGl0KFwiLlwiKSxxPXIuc2hpZnQoKSxyLnNvcnQoKSksaz1xLmluZGV4T2YoXCI6XCIpPDAmJlwib25cIitxLGI9YltuLmV4cGFuZG9dP2I6bmV3IG4uRXZlbnQocSxcIm9iamVjdFwiPT10eXBlb2YgYiYmYiksYi5pc1RyaWdnZXI9ZT8yOjMsYi5uYW1lc3BhY2U9ci5qb2luKFwiLlwiKSxiLm5hbWVzcGFjZV9yZT1iLm5hbWVzcGFjZT9uZXcgUmVnRXhwKFwiKF58XFxcXC4pXCIrci5qb2luKFwiXFxcXC4oPzouKlxcXFwufClcIikrXCIoXFxcXC58JClcIik6bnVsbCxiLnJlc3VsdD12b2lkIDAsYi50YXJnZXR8fChiLnRhcmdldD1kKSxjPW51bGw9PWM/W2JdOm4ubWFrZUFycmF5KGMsW2JdKSxvPW4uZXZlbnQuc3BlY2lhbFtxXXx8e30sZXx8IW8udHJpZ2dlcnx8by50cmlnZ2VyLmFwcGx5KGQsYykhPT0hMSkpe2lmKCFlJiYhby5ub0J1YmJsZSYmIW4uaXNXaW5kb3coZCkpe2ZvcihpPW8uZGVsZWdhdGVUeXBlfHxxLFgudGVzdChpK3EpfHwoZz1nLnBhcmVudE5vZGUpO2c7Zz1nLnBhcmVudE5vZGUpcC5wdXNoKGcpLGg9ZztoPT09KGQub3duZXJEb2N1bWVudHx8bCkmJnAucHVzaChoLmRlZmF1bHRWaWV3fHxoLnBhcmVudFdpbmRvd3x8YSl9Zj0wO3doaWxlKChnPXBbZisrXSkmJiFiLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpYi50eXBlPWY+MT9pOm8uYmluZFR5cGV8fHEsbT0oTC5nZXQoZyxcImV2ZW50c1wiKXx8e30pW2IudHlwZV0mJkwuZ2V0KGcsXCJoYW5kbGVcIiksbSYmbS5hcHBseShnLGMpLG09ayYmZ1trXSxtJiZtLmFwcGx5JiZuLmFjY2VwdERhdGEoZykmJihiLnJlc3VsdD1tLmFwcGx5KGcsYyksYi5yZXN1bHQ9PT0hMSYmYi5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gYi50eXBlPXEsZXx8Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8by5fZGVmYXVsdCYmby5fZGVmYXVsdC5hcHBseShwLnBvcCgpLGMpIT09ITF8fCFuLmFjY2VwdERhdGEoZCl8fGsmJm4uaXNGdW5jdGlvbihkW3FdKSYmIW4uaXNXaW5kb3coZCkmJihoPWRba10saCYmKGRba109bnVsbCksbi5ldmVudC50cmlnZ2VyZWQ9cSxkW3FdKCksbi5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGgmJihkW2tdPWgpKSxiLnJlc3VsdH19LGRpc3BhdGNoOmZ1bmN0aW9uKGEpe2E9bi5ldmVudC5maXgoYSk7dmFyIGIsYyxlLGYsZyxoPVtdLGk9ZC5jYWxsKGFyZ3VtZW50cyksaj0oTC5nZXQodGhpcyxcImV2ZW50c1wiKXx8e30pW2EudHlwZV18fFtdLGs9bi5ldmVudC5zcGVjaWFsW2EudHlwZV18fHt9O2lmKGlbMF09YSxhLmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWsucHJlRGlzcGF0Y2h8fGsucHJlRGlzcGF0Y2guY2FsbCh0aGlzLGEpIT09ITEpe2g9bi5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsYSxqKSxiPTA7d2hpbGUoKGY9aFtiKytdKSYmIWEuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7YS5jdXJyZW50VGFyZ2V0PWYuZWxlbSxjPTA7d2hpbGUoKGc9Zi5oYW5kbGVyc1tjKytdKSYmIWEuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkoIWEubmFtZXNwYWNlX3JlfHxhLm5hbWVzcGFjZV9yZS50ZXN0KGcubmFtZXNwYWNlKSkmJihhLmhhbmRsZU9iaj1nLGEuZGF0YT1nLmRhdGEsZT0oKG4uZXZlbnQuc3BlY2lhbFtnLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8Zy5oYW5kbGVyKS5hcHBseShmLmVsZW0saSksdm9pZCAwIT09ZSYmKGEucmVzdWx0PWUpPT09ITEmJihhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBrLnBvc3REaXNwYXRjaCYmay5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLGEpLGEucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnPVtdLGg9Yi5kZWxlZ2F0ZUNvdW50LGk9YS50YXJnZXQ7aWYoaCYmaS5ub2RlVHlwZSYmKCFhLmJ1dHRvbnx8XCJjbGlja1wiIT09YS50eXBlKSlmb3IoO2khPT10aGlzO2k9aS5wYXJlbnROb2RlfHx0aGlzKWlmKGkuZGlzYWJsZWQhPT0hMHx8XCJjbGlja1wiIT09YS50eXBlKXtmb3IoZD1bXSxjPTA7aD5jO2MrKylmPWJbY10sZT1mLnNlbGVjdG9yK1wiIFwiLHZvaWQgMD09PWRbZV0mJihkW2VdPWYubmVlZHNDb250ZXh0P24oZSx0aGlzKS5pbmRleChpKT49MDpuLmZpbmQoZSx0aGlzLG51bGwsW2ldKS5sZW5ndGgpLGRbZV0mJmQucHVzaChmKTtkLmxlbmd0aCYmZy5wdXNoKHtlbGVtOmksaGFuZGxlcnM6ZH0pfXJldHVybiBoPGIubGVuZ3RoJiZnLnB1c2goe2VsZW06dGhpcyxoYW5kbGVyczpiLnNsaWNlKGgpfSksZ30scHJvcHM6XCJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2hcIi5zcGxpdChcIiBcIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOlwiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZVwiLnNwbGl0KFwiIFwiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YS53aGljaCYmKGEud2hpY2g9bnVsbCE9Yi5jaGFyQ29kZT9iLmNoYXJDb2RlOmIua2V5Q29kZSksYX19LG1vdXNlSG9va3M6e3Byb3BzOlwiYnV0dG9uIGJ1dHRvbnMgY2xpZW50WCBjbGllbnRZIG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkgdG9FbGVtZW50XCIuc3BsaXQoXCIgXCIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPWIuYnV0dG9uO3JldHVybiBudWxsPT1hLnBhZ2VYJiZudWxsIT1iLmNsaWVudFgmJihjPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fGwsZD1jLmRvY3VtZW50RWxlbWVudCxlPWMuYm9keSxhLnBhZ2VYPWIuY2xpZW50WCsoZCYmZC5zY3JvbGxMZWZ0fHxlJiZlLnNjcm9sbExlZnR8fDApLShkJiZkLmNsaWVudExlZnR8fGUmJmUuY2xpZW50TGVmdHx8MCksYS5wYWdlWT1iLmNsaWVudFkrKGQmJmQuc2Nyb2xsVG9wfHxlJiZlLnNjcm9sbFRvcHx8MCktKGQmJmQuY2xpZW50VG9wfHxlJiZlLmNsaWVudFRvcHx8MCkpLGEud2hpY2h8fHZvaWQgMD09PWZ8fChhLndoaWNoPTEmZj8xOjImZj8zOjQmZj8yOjApLGF9fSxmaXg6ZnVuY3Rpb24oYSl7aWYoYVtuLmV4cGFuZG9dKXJldHVybiBhO3ZhciBiLGMsZCxlPWEudHlwZSxmPWEsZz10aGlzLmZpeEhvb2tzW2VdO2d8fCh0aGlzLmZpeEhvb2tzW2VdPWc9Vy50ZXN0KGUpP3RoaXMubW91c2VIb29rczpWLnRlc3QoZSk/dGhpcy5rZXlIb29rczp7fSksZD1nLnByb3BzP3RoaXMucHJvcHMuY29uY2F0KGcucHJvcHMpOnRoaXMucHJvcHMsYT1uZXcgbi5FdmVudChmKSxiPWQubGVuZ3RoO3doaWxlKGItLSljPWRbYl0sYVtjXT1mW2NdO3JldHVybiBhLnRhcmdldHx8KGEudGFyZ2V0PWwpLDM9PT1hLnRhcmdldC5ub2RlVHlwZSYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLGcuZmlsdGVyP2cuZmlsdGVyKGEsZik6YX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMhPT1fKCkmJnRoaXMuZm9jdXM/KHRoaXMuZm9jdXMoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6XCJmb2N1c2luXCJ9LGJsdXI6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcz09PV8oKSYmdGhpcy5ibHVyPyh0aGlzLmJsdXIoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6XCJmb2N1c291dFwifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVyblwiY2hlY2tib3hcIj09PXRoaXMudHlwZSYmdGhpcy5jbGljayYmbi5ub2RlTmFtZSh0aGlzLFwiaW5wdXRcIik/KHRoaXMuY2xpY2soKSwhMSk6dm9pZCAwfSxfZGVmYXVsdDpmdW5jdGlvbihhKXtyZXR1cm4gbi5ub2RlTmFtZShhLnRhcmdldCxcImFcIil9fSxiZWZvcmV1bmxvYWQ6e3Bvc3REaXNwYXRjaDpmdW5jdGlvbihhKXt2b2lkIDAhPT1hLnJlc3VsdCYmYS5vcmlnaW5hbEV2ZW50JiYoYS5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlPWEucmVzdWx0KX19fSxzaW11bGF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1uLmV4dGVuZChuZXcgbi5FdmVudCxjLHt0eXBlOmEsaXNTaW11bGF0ZWQ6ITAsb3JpZ2luYWxFdmVudDp7fX0pO2Q/bi5ldmVudC50cmlnZ2VyKGUsbnVsbCxiKTpuLmV2ZW50LmRpc3BhdGNoLmNhbGwoYixlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZjLnByZXZlbnREZWZhdWx0KCl9fSxuLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGEsYixjKXthLnJlbW92ZUV2ZW50TGlzdGVuZXImJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMsITEpfSxuLkV2ZW50PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBuLkV2ZW50PyhhJiZhLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1hLHRoaXMudHlwZT1hLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9YS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1hLmRlZmF1bHRQcmV2ZW50ZWQmJmEucmV0dXJuVmFsdWU9PT0hMT9aOiQpOnRoaXMudHlwZT1hLGImJm4uZXh0ZW5kKHRoaXMsYiksdGhpcy50aW1lU3RhbXA9YSYmYS50aW1lU3RhbXB8fG4ubm93KCksdm9pZCh0aGlzW24uZXhwYW5kb109ITApKTpuZXcgbi5FdmVudChhLGIpfSxuLkV2ZW50LnByb3RvdHlwZT17aXNEZWZhdWx0UHJldmVudGVkOiQsaXNQcm9wYWdhdGlvblN0b3BwZWQ6JCxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDokLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPVosYSYmYS5wcmV2ZW50RGVmYXVsdCYmYS5wcmV2ZW50RGVmYXVsdCgpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1aLGEmJmEuc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1aLGEmJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uJiZhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHRoaXMuc3RvcFByb3BhZ2F0aW9uKCl9fSxuLmVhY2goe21vdXNlZW50ZXI6XCJtb3VzZW92ZXJcIixtb3VzZWxlYXZlOlwibW91c2VvdXRcIixwb2ludGVyZW50ZXI6XCJwb2ludGVyb3ZlclwiLHBvaW50ZXJsZWF2ZTpcInBvaW50ZXJvdXRcIn0sZnVuY3Rpb24oYSxiKXtuLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdldCxmPWEuaGFuZGxlT2JqO3JldHVybighZXx8ZSE9PWQmJiFuLmNvbnRhaW5zKGQsZSkpJiYoYS50eXBlPWYub3JpZ1R5cGUsYz1mLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEudHlwZT1iKSxjfX19KSxrLmZvY3VzaW5CdWJibGVzfHxuLmVhY2goe2ZvY3VzOlwiZm9jdXNpblwiLGJsdXI6XCJmb2N1c291dFwifSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe24uZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxuLmV2ZW50LmZpeChhKSwhMCl9O24uZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1MLmFjY2VzcyhkLGIpO2V8fGQuYWRkRXZlbnRMaXN0ZW5lcihhLGMsITApLEwuYWNjZXNzKGQsYiwoZXx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGU9TC5hY2Nlc3MoZCxiKS0xO2U/TC5hY2Nlc3MoZCxiLGUpOihkLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxjLCEwKSxMLnJlbW92ZShkLGIpKX19fSksbi5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZztpZihcIm9iamVjdFwiPT10eXBlb2YgYSl7XCJzdHJpbmdcIiE9dHlwZW9mIGImJihjPWN8fGIsYj12b2lkIDApO2ZvcihnIGluIGEpdGhpcy5vbihnLGIsYyxhW2ddLGUpO3JldHVybiB0aGlzfWlmKG51bGw9PWMmJm51bGw9PWQ/KGQ9YixjPWI9dm9pZCAwKTpudWxsPT1kJiYoXCJzdHJpbmdcIj09dHlwZW9mIGI/KGQ9YyxjPXZvaWQgMCk6KGQ9YyxjPWIsYj12b2lkIDApKSxkPT09ITEpZD0kO2Vsc2UgaWYoIWQpcmV0dXJuIHRoaXM7cmV0dXJuIDE9PT1lJiYoZj1kLGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG4oKS5vZmYoYSksZi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGQuZ3VpZD1mLmd1aWR8fChmLmd1aWQ9bi5ndWlkKyspKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmV2ZW50LmFkZCh0aGlzLGEsZCxjLGIpfSl9LG9uZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihhLGIsYyxkLDEpfSxvZmY6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU7aWYoYSYmYS5wcmV2ZW50RGVmYXVsdCYmYS5oYW5kbGVPYmopcmV0dXJuIGQ9YS5oYW5kbGVPYmosbihhLmRlbGVnYXRlVGFyZ2V0KS5vZmYoZC5uYW1lc3BhY2U/ZC5vcmlnVHlwZStcIi5cIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhKXtmb3IoZSBpbiBhKXRoaXMub2ZmKGUsYixhW2VdKTtyZXR1cm4gdGhpc31yZXR1cm4oYj09PSExfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBiKSYmKGM9YixiPXZvaWQgMCksYz09PSExJiYoYz0kKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmV2ZW50LnJlbW92ZSh0aGlzLGEsYyxiKX0pfSx0cmlnZ2VyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQudHJpZ2dlcihhLGIsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzWzBdO3JldHVybiBjP24uZXZlbnQudHJpZ2dlcihhLGIsYywhMCk6dm9pZCAwfX0pO3ZhciBhYj0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Ol0rKVtePl0qKVxcLz4vZ2ksYmI9LzwoW1xcdzpdKykvLGNiPS88fCYjP1xcdys7LyxkYj0vPCg/OnNjcmlwdHxzdHlsZXxsaW5rKS9pLGViPS9jaGVja2VkXFxzKig/OltePV18PVxccyouY2hlY2tlZC4pL2ksZmI9L14kfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSxnYj0vXnRydWVcXC8oLiopLyxoYj0vXlxccyo8ISg/OlxcW0NEQVRBXFxbfC0tKXwoPzpcXF1cXF18LS0pPlxccyokL2csaWI9e29wdGlvbjpbMSxcIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz5cIixcIjwvc2VsZWN0PlwiXSx0aGVhZDpbMSxcIjx0YWJsZT5cIixcIjwvdGFibGU+XCJdLGNvbDpbMixcIjx0YWJsZT48Y29sZ3JvdXA+XCIsXCI8L2NvbGdyb3VwPjwvdGFibGU+XCJdLHRyOlsyLFwiPHRhYmxlPjx0Ym9keT5cIixcIjwvdGJvZHk+PC90YWJsZT5cIl0sdGQ6WzMsXCI8dGFibGU+PHRib2R5Pjx0cj5cIixcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiXSxfZGVmYXVsdDpbMCxcIlwiLFwiXCJdfTtpYi5vcHRncm91cD1pYi5vcHRpb24saWIudGJvZHk9aWIudGZvb3Q9aWIuY29sZ3JvdXA9aWIuY2FwdGlvbj1pYi50aGVhZCxpYi50aD1pYi50ZDtmdW5jdGlvbiBqYihhLGIpe3JldHVybiBuLm5vZGVOYW1lKGEsXCJ0YWJsZVwiKSYmbi5ub2RlTmFtZSgxMSE9PWIubm9kZVR5cGU/YjpiLmZpcnN0Q2hpbGQsXCJ0clwiKT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGJvZHlcIilbMF18fGEuYXBwZW5kQ2hpbGQoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKSk6YX1mdW5jdGlvbiBrYihhKXtyZXR1cm4gYS50eXBlPShudWxsIT09YS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKStcIi9cIithLnR5cGUsYX1mdW5jdGlvbiBsYihhKXt2YXIgYj1nYi5leGVjKGEudHlwZSk7cmV0dXJuIGI/YS50eXBlPWJbMV06YS5yZW1vdmVBdHRyaWJ1dGUoXCJ0eXBlXCIpLGF9ZnVuY3Rpb24gbWIoYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2Q+YztjKyspTC5zZXQoYVtjXSxcImdsb2JhbEV2YWxcIiwhYnx8TC5nZXQoYltjXSxcImdsb2JhbEV2YWxcIikpfWZ1bmN0aW9uIG5iKGEsYil7dmFyIGMsZCxlLGYsZyxoLGksajtpZigxPT09Yi5ub2RlVHlwZSl7aWYoTC5oYXNEYXRhKGEpJiYoZj1MLmFjY2VzcyhhKSxnPUwuc2V0KGIsZiksaj1mLmV2ZW50cykpe2RlbGV0ZSBnLmhhbmRsZSxnLmV2ZW50cz17fTtmb3IoZSBpbiBqKWZvcihjPTAsZD1qW2VdLmxlbmd0aDtkPmM7YysrKW4uZXZlbnQuYWRkKGIsZSxqW2VdW2NdKX1NLmhhc0RhdGEoYSkmJihoPU0uYWNjZXNzKGEpLGk9bi5leHRlbmQoe30saCksTS5zZXQoYixpKSl9fWZ1bmN0aW9uIG9iKGEsYil7dmFyIGM9YS5nZXRFbGVtZW50c0J5VGFnTmFtZT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKGJ8fFwiKlwiKTphLnF1ZXJ5U2VsZWN0b3JBbGw/YS5xdWVyeVNlbGVjdG9yQWxsKGJ8fFwiKlwiKTpbXTtyZXR1cm4gdm9pZCAwPT09Ynx8YiYmbi5ub2RlTmFtZShhLGIpP24ubWVyZ2UoW2FdLGMpOmN9ZnVuY3Rpb24gcGIoYSxiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XCJpbnB1dFwiPT09YyYmVC50ZXN0KGEudHlwZSk/Yi5jaGVja2VkPWEuY2hlY2tlZDooXCJpbnB1dFwiPT09Y3x8XCJ0ZXh0YXJlYVwiPT09YykmJihiLmRlZmF1bHRWYWx1ZT1hLmRlZmF1bHRWYWx1ZSl9bi5leHRlbmQoe2Nsb25lOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuY2xvbmVOb2RlKCEwKSxpPW4uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpO2lmKCEoay5ub0Nsb25lQ2hlY2tlZHx8MSE9PWEubm9kZVR5cGUmJjExIT09YS5ub2RlVHlwZXx8bi5pc1hNTERvYyhhKSkpZm9yKGc9b2IoaCksZj1vYihhKSxkPTAsZT1mLmxlbmd0aDtlPmQ7ZCsrKXBiKGZbZF0sZ1tkXSk7aWYoYilpZihjKWZvcihmPWZ8fG9iKGEpLGc9Z3x8b2IoaCksZD0wLGU9Zi5sZW5ndGg7ZT5kO2QrKyluYihmW2RdLGdbZF0pO2Vsc2UgbmIoYSxoKTtyZXR1cm4gZz1vYihoLFwic2NyaXB0XCIpLGcubGVuZ3RoPjAmJm1iKGcsIWkmJm9iKGEsXCJzY3JpcHRcIikpLGh9LGJ1aWxkRnJhZ21lbnQ6ZnVuY3Rpb24oYSxiLGMsZCl7Zm9yKHZhciBlLGYsZyxoLGksaixrPWIuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGw9W10sbT0wLG89YS5sZW5ndGg7bz5tO20rKylpZihlPWFbbV0sZXx8MD09PWUpaWYoXCJvYmplY3RcIj09PW4udHlwZShlKSluLm1lcmdlKGwsZS5ub2RlVHlwZT9bZV06ZSk7ZWxzZSBpZihjYi50ZXN0KGUpKXtmPWZ8fGsuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxnPShiYi5leGVjKGUpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKSxoPWliW2ddfHxpYi5fZGVmYXVsdCxmLmlubmVySFRNTD1oWzFdK2UucmVwbGFjZShhYixcIjwkMT48LyQyPlwiKStoWzJdLGo9aFswXTt3aGlsZShqLS0pZj1mLmxhc3RDaGlsZDtuLm1lcmdlKGwsZi5jaGlsZE5vZGVzKSxmPWsuZmlyc3RDaGlsZCxmLnRleHRDb250ZW50PVwiXCJ9ZWxzZSBsLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShlKSk7ay50ZXh0Q29udGVudD1cIlwiLG09MDt3aGlsZShlPWxbbSsrXSlpZigoIWR8fC0xPT09bi5pbkFycmF5KGUsZCkpJiYoaT1uLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKSxmPW9iKGsuYXBwZW5kQ2hpbGQoZSksXCJzY3JpcHRcIiksaSYmbWIoZiksYykpe2o9MDt3aGlsZShlPWZbaisrXSlmYi50ZXN0KGUudHlwZXx8XCJcIikmJmMucHVzaChlKX1yZXR1cm4ga30sY2xlYW5EYXRhOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjLGQsZSxmPW4uZXZlbnQuc3BlY2lhbCxnPTA7dm9pZCAwIT09KGM9YVtnXSk7ZysrKXtpZihuLmFjY2VwdERhdGEoYykmJihlPWNbTC5leHBhbmRvXSxlJiYoYj1MLmNhY2hlW2VdKSkpe2lmKGIuZXZlbnRzKWZvcihkIGluIGIuZXZlbnRzKWZbZF0/bi5ldmVudC5yZW1vdmUoYyxkKTpuLnJlbW92ZUV2ZW50KGMsZCxiLmhhbmRsZSk7TC5jYWNoZVtlXSYmZGVsZXRlIEwuY2FjaGVbZV19ZGVsZXRlIE0uY2FjaGVbY1tNLmV4cGFuZG9dXX19fSksbi5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9uLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpJiYodGhpcy50ZXh0Q29udGVudD1hKX0pfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9amIodGhpcyxhKTtiLmFwcGVuZENoaWxkKGEpfX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1qYih0aGlzLGEpO2IuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMubmV4dFNpYmxpbmcpfSl9LHJlbW92ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPWE/bi5maWx0ZXIoYSx0aGlzKTp0aGlzLGU9MDtudWxsIT0oYz1kW2VdKTtlKyspYnx8MSE9PWMubm9kZVR5cGV8fG4uY2xlYW5EYXRhKG9iKGMpKSxjLnBhcmVudE5vZGUmJihiJiZuLmNvbnRhaW5zKGMub3duZXJEb2N1bWVudCxjKSYmbWIob2IoYyxcInNjcmlwdFwiKSksYy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpKTtyZXR1cm4gdGhpc30sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wO251bGwhPShhPXRoaXNbYl0pO2IrKykxPT09YS5ub2RlVHlwZSYmKG4uY2xlYW5EYXRhKG9iKGEsITEpKSxhLnRleHRDb250ZW50PVwiXCIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihhLGIpe3JldHVybiBhPW51bGw9PWE/ITE6YSxiPW51bGw9PWI/YTpiLHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIG4uY2xvbmUodGhpcyxhLGIpfSl9LGh0bWw6ZnVuY3Rpb24oYSl7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihhKXt2YXIgYj10aGlzWzBdfHx7fSxjPTAsZD10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1hJiYxPT09Yi5ub2RlVHlwZSlyZXR1cm4gYi5pbm5lckhUTUw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEmJiFkYi50ZXN0KGEpJiYhaWJbKGJiLmV4ZWMoYSl8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7YT1hLnJlcGxhY2UoYWIsXCI8JDE+PC8kMj5cIik7dHJ5e2Zvcig7ZD5jO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYobi5jbGVhbkRhdGEob2IoYiwhMSkpLGIuaW5uZXJIVE1MPWEpO2I9MH1jYXRjaChlKXt9fWImJnRoaXMuZW1wdHkoKS5hcHBlbmQoYSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGIpe2E9dGhpcy5wYXJlbnROb2RlLG4uY2xlYW5EYXRhKG9iKHRoaXMpKSxhJiZhLnJlcGxhY2VDaGlsZChiLHRoaXMpfSksYSYmKGEubGVuZ3RofHxhLm5vZGVUeXBlKT90aGlzOnRoaXMucmVtb3ZlKCl9LGRldGFjaDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZW1vdmUoYSwhMCl9LGRvbU1hbmlwOmZ1bmN0aW9uKGEsYil7YT1lLmFwcGx5KFtdLGEpO3ZhciBjLGQsZixnLGgsaSxqPTAsbD10aGlzLmxlbmd0aCxtPXRoaXMsbz1sLTEscD1hWzBdLHE9bi5pc0Z1bmN0aW9uKHApO2lmKHF8fGw+MSYmXCJzdHJpbmdcIj09dHlwZW9mIHAmJiFrLmNoZWNrQ2xvbmUmJmViLnRlc3QocCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZD1tLmVxKGMpO3EmJihhWzBdPXAuY2FsbCh0aGlzLGMsZC5odG1sKCkpKSxkLmRvbU1hbmlwKGEsYil9KTtpZihsJiYoYz1uLmJ1aWxkRnJhZ21lbnQoYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQsITEsdGhpcyksZD1jLmZpcnN0Q2hpbGQsMT09PWMuY2hpbGROb2Rlcy5sZW5ndGgmJihjPWQpLGQpKXtmb3IoZj1uLm1hcChvYihjLFwic2NyaXB0XCIpLGtiKSxnPWYubGVuZ3RoO2w+ajtqKyspaD1jLGohPT1vJiYoaD1uLmNsb25lKGgsITAsITApLGcmJm4ubWVyZ2UoZixvYihoLFwic2NyaXB0XCIpKSksYi5jYWxsKHRoaXNbal0saCxqKTtpZihnKWZvcihpPWZbZi5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxuLm1hcChmLGxiKSxqPTA7Zz5qO2orKyloPWZbal0sZmIudGVzdChoLnR5cGV8fFwiXCIpJiYhTC5hY2Nlc3MoaCxcImdsb2JhbEV2YWxcIikmJm4uY29udGFpbnMoaSxoKSYmKGguc3JjP24uX2V2YWxVcmwmJm4uX2V2YWxVcmwoaC5zcmMpOm4uZ2xvYmFsRXZhbChoLnRleHRDb250ZW50LnJlcGxhY2UoaGIsXCJcIikpKX1yZXR1cm4gdGhpc319KSxuLmVhY2goe2FwcGVuZFRvOlwiYXBwZW5kXCIscHJlcGVuZFRvOlwicHJlcGVuZFwiLGluc2VydEJlZm9yZTpcImJlZm9yZVwiLGluc2VydEFmdGVyOlwiYWZ0ZXJcIixyZXBsYWNlQWxsOlwicmVwbGFjZVdpdGhcIn0sZnVuY3Rpb24oYSxiKXtuLmZuW2FdPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkPVtdLGU9bihhKSxnPWUubGVuZ3RoLTEsaD0wO2c+PWg7aCsrKWM9aD09PWc/dGhpczp0aGlzLmNsb25lKCEwKSxuKGVbaF0pW2JdKGMpLGYuYXBwbHkoZCxjLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZCl9fSk7dmFyIHFiLHJiPXt9O2Z1bmN0aW9uIHNiKGIsYyl7dmFyIGQsZT1uKGMuY3JlYXRlRWxlbWVudChiKSkuYXBwZW5kVG8oYy5ib2R5KSxmPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUmJihkPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUoZVswXSkpP2QuZGlzcGxheTpuLmNzcyhlWzBdLFwiZGlzcGxheVwiKTtyZXR1cm4gZS5kZXRhY2goKSxmfWZ1bmN0aW9uIHRiKGEpe3ZhciBiPWwsYz1yYlthXTtyZXR1cm4gY3x8KGM9c2IoYSxiKSxcIm5vbmVcIiE9PWMmJmN8fChxYj0ocWJ8fG4oXCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+XCIpKS5hcHBlbmRUbyhiLmRvY3VtZW50RWxlbWVudCksYj1xYlswXS5jb250ZW50RG9jdW1lbnQsYi53cml0ZSgpLGIuY2xvc2UoKSxjPXNiKGEsYikscWIuZGV0YWNoKCkpLHJiW2FdPWMpLGN9dmFyIHViPS9ebWFyZ2luLyx2Yj1uZXcgUmVnRXhwKFwiXihcIitRK1wiKSg/IXB4KVthLXolXSskXCIsXCJpXCIpLHdiPWZ1bmN0aW9uKGIpe3JldHVybiBiLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcub3BlbmVyP2Iub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCk6YS5nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCl9O2Z1bmN0aW9uIHhiKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8d2IoYSksYyYmKGc9Yy5nZXRQcm9wZXJ0eVZhbHVlKGIpfHxjW2JdKSxjJiYoXCJcIiE9PWd8fG4uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpfHwoZz1uLnN0eWxlKGEsYikpLHZiLnRlc3QoZykmJnViLnRlc3QoYikmJihkPWgud2lkdGgsZT1oLm1pbldpZHRoLGY9aC5tYXhXaWR0aCxoLm1pbldpZHRoPWgubWF4V2lkdGg9aC53aWR0aD1nLGc9Yy53aWR0aCxoLndpZHRoPWQsaC5taW5XaWR0aD1lLGgubWF4V2lkdGg9ZikpLHZvaWQgMCE9PWc/ZytcIlwiOmd9ZnVuY3Rpb24geWIoYSxiKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEoKT92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19IWZ1bmN0aW9uKCl7dmFyIGIsYyxkPWwuZG9jdW1lbnRFbGVtZW50LGU9bC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGY9bC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2lmKGYuc3R5bGUpe2Yuc3R5bGUuYmFja2dyb3VuZENsaXA9XCJjb250ZW50LWJveFwiLGYuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD1cIlwiLGsuY2xlYXJDbG9uZVN0eWxlPVwiY29udGVudC1ib3hcIj09PWYuc3R5bGUuYmFja2dyb3VuZENsaXAsZS5zdHlsZS5jc3NUZXh0PVwiYm9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHg7bWFyZ2luLXRvcDoxcHg7cG9zaXRpb246YWJzb2x1dGVcIixlLmFwcGVuZENoaWxkKGYpO2Z1bmN0aW9uIGcoKXtmLnN0eWxlLmNzc1RleHQ9XCItd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDstbW96LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7ZGlzcGxheTpibG9jazttYXJnaW4tdG9wOjElO3RvcDoxJTtib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3dpZHRoOjRweDtwb3NpdGlvbjphYnNvbHV0ZVwiLGYuaW5uZXJIVE1MPVwiXCIsZC5hcHBlbmRDaGlsZChlKTt2YXIgZz1hLmdldENvbXB1dGVkU3R5bGUoZixudWxsKTtiPVwiMSVcIiE9PWcudG9wLGM9XCI0cHhcIj09PWcud2lkdGgsZC5yZW1vdmVDaGlsZChlKX1hLmdldENvbXB1dGVkU3R5bGUmJm4uZXh0ZW5kKGsse3BpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZygpLGJ9LGJveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWMmJmcoKSxjfSxyZWxpYWJsZU1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7dmFyIGIsYz1mLmFwcGVuZENoaWxkKGwuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7cmV0dXJuIGMuc3R5bGUuY3NzVGV4dD1mLnN0eWxlLmNzc1RleHQ9XCItd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7LW1vei1ib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JveC1zaXppbmc6Y29udGVudC1ib3g7ZGlzcGxheTpibG9jazttYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjBcIixjLnN0eWxlLm1hcmdpblJpZ2h0PWMuc3R5bGUud2lkdGg9XCIwXCIsZi5zdHlsZS53aWR0aD1cIjFweFwiLGQuYXBwZW5kQ2hpbGQoZSksYj0hcGFyc2VGbG9hdChhLmdldENvbXB1dGVkU3R5bGUoYyxudWxsKS5tYXJnaW5SaWdodCksZC5yZW1vdmVDaGlsZChlKSxmLnJlbW92ZUNoaWxkKGMpLGJ9fSl9fSgpLG4uc3dhcD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9e307Zm9yKGYgaW4gYilnW2ZdPWEuc3R5bGVbZl0sYS5zdHlsZVtmXT1iW2ZdO2U9Yy5hcHBseShhLGR8fFtdKTtmb3IoZiBpbiBiKWEuc3R5bGVbZl09Z1tmXTtyZXR1cm4gZX07dmFyIHpiPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxBYj1uZXcgUmVnRXhwKFwiXihcIitRK1wiKSguKikkXCIsXCJpXCIpLEJiPW5ldyBSZWdFeHAoXCJeKFsrLV0pPShcIitRK1wiKVwiLFwiaVwiKSxDYj17cG9zaXRpb246XCJhYnNvbHV0ZVwiLHZpc2liaWxpdHk6XCJoaWRkZW5cIixkaXNwbGF5OlwiYmxvY2tcIn0sRGI9e2xldHRlclNwYWNpbmc6XCIwXCIsZm9udFdlaWdodDpcIjQwMFwifSxFYj1bXCJXZWJraXRcIixcIk9cIixcIk1velwiLFwibXNcIl07ZnVuY3Rpb24gRmIoYSxiKXtpZihiIGluIGEpcmV0dXJuIGI7dmFyIGM9YlswXS50b1VwcGVyQ2FzZSgpK2Iuc2xpY2UoMSksZD1iLGU9RWIubGVuZ3RoO3doaWxlKGUtLSlpZihiPUViW2VdK2MsYiBpbiBhKXJldHVybiBiO3JldHVybiBkfWZ1bmN0aW9uIEdiKGEsYixjKXt2YXIgZD1BYi5leGVjKGIpO3JldHVybiBkP01hdGgubWF4KDAsZFsxXS0oY3x8MCkpKyhkWzJdfHxcInB4XCIpOmJ9ZnVuY3Rpb24gSGIoYSxiLGMsZCxlKXtmb3IodmFyIGY9Yz09PShkP1wiYm9yZGVyXCI6XCJjb250ZW50XCIpPzQ6XCJ3aWR0aFwiPT09Yj8xOjAsZz0wOzQ+ZjtmKz0yKVwibWFyZ2luXCI9PT1jJiYoZys9bi5jc3MoYSxjK1JbZl0sITAsZSkpLGQ/KFwiY29udGVudFwiPT09YyYmKGctPW4uY3NzKGEsXCJwYWRkaW5nXCIrUltmXSwhMCxlKSksXCJtYXJnaW5cIiE9PWMmJihnLT1uLmNzcyhhLFwiYm9yZGVyXCIrUltmXStcIldpZHRoXCIsITAsZSkpKTooZys9bi5jc3MoYSxcInBhZGRpbmdcIitSW2ZdLCEwLGUpLFwicGFkZGluZ1wiIT09YyYmKGcrPW4uY3NzKGEsXCJib3JkZXJcIitSW2ZdK1wiV2lkdGhcIiwhMCxlKSkpO3JldHVybiBnfWZ1bmN0aW9uIEliKGEsYixjKXt2YXIgZD0hMCxlPVwid2lkdGhcIj09PWI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodCxmPXdiKGEpLGc9XCJib3JkZXItYm94XCI9PT1uLmNzcyhhLFwiYm94U2l6aW5nXCIsITEsZik7aWYoMD49ZXx8bnVsbD09ZSl7aWYoZT14YihhLGIsZiksKDA+ZXx8bnVsbD09ZSkmJihlPWEuc3R5bGVbYl0pLHZiLnRlc3QoZSkpcmV0dXJuIGU7ZD1nJiYoay5ib3hTaXppbmdSZWxpYWJsZSgpfHxlPT09YS5zdHlsZVtiXSksZT1wYXJzZUZsb2F0KGUpfHwwfXJldHVybiBlK0hiKGEsYixjfHwoZz9cImJvcmRlclwiOlwiY29udGVudFwiKSxkLGYpK1wicHhcIn1mdW5jdGlvbiBKYihhLGIpe2Zvcih2YXIgYyxkLGUsZj1bXSxnPTAsaD1hLmxlbmd0aDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoZltnXT1MLmdldChkLFwib2xkZGlzcGxheVwiKSxjPWQuc3R5bGUuZGlzcGxheSxiPyhmW2ddfHxcIm5vbmVcIiE9PWN8fChkLnN0eWxlLmRpc3BsYXk9XCJcIiksXCJcIj09PWQuc3R5bGUuZGlzcGxheSYmUyhkKSYmKGZbZ109TC5hY2Nlc3MoZCxcIm9sZGRpc3BsYXlcIix0YihkLm5vZGVOYW1lKSkpKTooZT1TKGQpLFwibm9uZVwiPT09YyYmZXx8TC5zZXQoZCxcIm9sZGRpc3BsYXlcIixlP2M6bi5jc3MoZCxcImRpc3BsYXlcIikpKSk7Zm9yKGc9MDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoYiYmXCJub25lXCIhPT1kLnN0eWxlLmRpc3BsYXkmJlwiXCIhPT1kLnN0eWxlLmRpc3BsYXl8fChkLnN0eWxlLmRpc3BsYXk9Yj9mW2ddfHxcIlwiOlwibm9uZVwiKSk7cmV0dXJuIGF9bi5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oYSxiKXtpZihiKXt2YXIgYz14YihhLFwib3BhY2l0eVwiKTtyZXR1cm5cIlwiPT09Yz9cIjFcIjpjfX19fSxjc3NOdW1iZXI6e2NvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOntcImZsb2F0XCI6XCJjc3NGbG9hdFwifSxzdHlsZTpmdW5jdGlvbihhLGIsYyxkKXtpZihhJiYzIT09YS5ub2RlVHlwZSYmOCE9PWEubm9kZVR5cGUmJmEuc3R5bGUpe3ZhciBlLGYsZyxoPW4uY2FtZWxDYXNlKGIpLGk9YS5zdHlsZTtyZXR1cm4gYj1uLmNzc1Byb3BzW2hdfHwobi5jc3NQcm9wc1toXT1GYihpLGgpKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sdm9pZCAwPT09Yz9nJiZcImdldFwiaW4gZyYmdm9pZCAwIT09KGU9Zy5nZXQoYSwhMSxkKSk/ZTppW2JdOihmPXR5cGVvZiBjLFwic3RyaW5nXCI9PT1mJiYoZT1CYi5leGVjKGMpKSYmKGM9KGVbMV0rMSkqZVsyXStwYXJzZUZsb2F0KG4uY3NzKGEsYikpLGY9XCJudW1iZXJcIiksbnVsbCE9YyYmYz09PWMmJihcIm51bWJlclwiIT09Znx8bi5jc3NOdW1iZXJbaF18fChjKz1cInB4XCIpLGsuY2xlYXJDbG9uZVN0eWxlfHxcIlwiIT09Y3x8MCE9PWIuaW5kZXhPZihcImJhY2tncm91bmRcIil8fChpW2JdPVwiaW5oZXJpdFwiKSxnJiZcInNldFwiaW4gZyYmdm9pZCAwPT09KGM9Zy5zZXQoYSxjLGQpKXx8KGlbYl09YykpLHZvaWQgMCl9fSxjc3M6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGg9bi5jYW1lbENhc2UoYik7cmV0dXJuIGI9bi5jc3NQcm9wc1toXXx8KG4uY3NzUHJvcHNbaF09RmIoYS5zdHlsZSxoKSksZz1uLmNzc0hvb2tzW2JdfHxuLmNzc0hvb2tzW2hdLGcmJlwiZ2V0XCJpbiBnJiYoZT1nLmdldChhLCEwLGMpKSx2b2lkIDA9PT1lJiYoZT14YihhLGIsZCkpLFwibm9ybWFsXCI9PT1lJiZiIGluIERiJiYoZT1EYltiXSksXCJcIj09PWN8fGM/KGY9cGFyc2VGbG9hdChlKSxjPT09ITB8fG4uaXNOdW1lcmljKGYpP2Z8fDA6ZSk6ZX19KSxuLmVhY2goW1wiaGVpZ2h0XCIsXCJ3aWR0aFwiXSxmdW5jdGlvbihhLGIpe24uY3NzSG9va3NbYl09e2dldDpmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGM/emIudGVzdChuLmNzcyhhLFwiZGlzcGxheVwiKSkmJjA9PT1hLm9mZnNldFdpZHRoP24uc3dhcChhLENiLGZ1bmN0aW9uKCl7cmV0dXJuIEliKGEsYixkKX0pOkliKGEsYixkKTp2b2lkIDB9LHNldDpmdW5jdGlvbihhLGMsZCl7dmFyIGU9ZCYmd2IoYSk7cmV0dXJuIEdiKGEsYyxkP0hiKGEsYixkLFwiYm9yZGVyLWJveFwiPT09bi5jc3MoYSxcImJveFNpemluZ1wiLCExLGUpLGUpOjApfX19KSxuLmNzc0hvb2tzLm1hcmdpblJpZ2h0PXliKGsucmVsaWFibGVNYXJnaW5SaWdodCxmdW5jdGlvbihhLGIpe3JldHVybiBiP24uc3dhcChhLHtkaXNwbGF5OlwiaW5saW5lLWJsb2NrXCJ9LHhiLFthLFwibWFyZ2luUmlnaHRcIl0pOnZvaWQgMH0pLG4uZWFjaCh7bWFyZ2luOlwiXCIscGFkZGluZzpcIlwiLGJvcmRlcjpcIldpZHRoXCJ9LGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1thK2JdPXtleHBhbmQ6ZnVuY3Rpb24oYyl7Zm9yKHZhciBkPTAsZT17fSxmPVwic3RyaW5nXCI9PXR5cGVvZiBjP2Muc3BsaXQoXCIgXCIpOltjXTs0PmQ7ZCsrKWVbYStSW2RdK2JdPWZbZF18fGZbZC0yXXx8ZlswXTtyZXR1cm4gZX19LHViLnRlc3QoYSl8fChuLmNzc0hvb2tzW2ErYl0uc2V0PUdiKX0pLG4uZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSih0aGlzLGZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9e30sZz0wO2lmKG4uaXNBcnJheShiKSl7Zm9yKGQ9d2IoYSksZT1iLmxlbmd0aDtlPmc7ZysrKWZbYltnXV09bi5jc3MoYSxiW2ddLCExLGQpO3JldHVybiBmfXJldHVybiB2b2lkIDAhPT1jP24uc3R5bGUoYSxiLGMpOm4uY3NzKGEsYil9LGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIEpiKHRoaXMsITApfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIEpiKHRoaXMpfSx0b2dnbGU6ZnVuY3Rpb24oYSl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBhP2E/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7Uyh0aGlzKT9uKHRoaXMpLnNob3coKTpuKHRoaXMpLmhpZGUoKX0pfX0pO2Z1bmN0aW9uIEtiKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBLYi5wcm90b3R5cGUuaW5pdChhLGIsYyxkLGUpfW4uVHdlZW49S2IsS2IucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpLYixpbml0OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmVsZW09YSx0aGlzLnByb3A9Yyx0aGlzLmVhc2luZz1lfHxcInN3aW5nXCIsdGhpcy5vcHRpb25zPWIsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPWQsdGhpcy51bml0PWZ8fChuLmNzc051bWJlcltjXT9cIlwiOlwicHhcIil9LGN1cjpmdW5jdGlvbigpe3ZhciBhPUtiLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBhJiZhLmdldD9hLmdldCh0aGlzKTpLYi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz1LYi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5wb3M9Yj10aGlzLm9wdGlvbnMuZHVyYXRpb24/bi5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6YSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqYit0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxjJiZjLnNldD9jLnNldCh0aGlzKTpLYi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSxLYi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9S2IucHJvdG90eXBlLEtiLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gbnVsbD09YS5lbGVtW2EucHJvcF18fGEuZWxlbS5zdHlsZSYmbnVsbCE9YS5lbGVtLnN0eWxlW2EucHJvcF0/KGI9bi5jc3MoYS5lbGVtLGEucHJvcCxcIlwiKSxiJiZcImF1dG9cIiE9PWI/YjowKTphLmVsZW1bYS5wcm9wXX0sc2V0OmZ1bmN0aW9uKGEpe24uZnguc3RlcFthLnByb3BdP24uZnguc3RlcFthLnByb3BdKGEpOmEuZWxlbS5zdHlsZSYmKG51bGwhPWEuZWxlbS5zdHlsZVtuLmNzc1Byb3BzW2EucHJvcF1dfHxuLmNzc0hvb2tzW2EucHJvcF0pP24uc3R5bGUoYS5lbGVtLGEucHJvcCxhLm5vdythLnVuaXQpOmEuZWxlbVthLnByb3BdPWEubm93fX19LEtiLnByb3BIb29rcy5zY3JvbGxUb3A9S2IucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihhKXthLmVsZW0ubm9kZVR5cGUmJmEuZWxlbS5wYXJlbnROb2RlJiYoYS5lbGVtW2EucHJvcF09YS5ub3cpfX0sbi5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihhKXtyZXR1cm4gYX0sc3dpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuLjUtTWF0aC5jb3MoYSpNYXRoLlBJKS8yfX0sbi5meD1LYi5wcm90b3R5cGUuaW5pdCxuLmZ4LnN0ZXA9e307dmFyIExiLE1iLE5iPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxPYj1uZXcgUmVnRXhwKFwiXig/OihbKy1dKT18KShcIitRK1wiKShbYS16JV0qKSRcIixcImlcIiksUGI9L3F1ZXVlSG9va3MkLyxRYj1bVmJdLFJiPXtcIipcIjpbZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZVR3ZWVuKGEsYiksZD1jLmN1cigpLGU9T2IuZXhlYyhiKSxmPWUmJmVbM118fChuLmNzc051bWJlclthXT9cIlwiOlwicHhcIiksZz0obi5jc3NOdW1iZXJbYV18fFwicHhcIiE9PWYmJitkKSYmT2IuZXhlYyhuLmNzcyhjLmVsZW0sYSkpLGg9MSxpPTIwO2lmKGcmJmdbM10hPT1mKXtmPWZ8fGdbM10sZT1lfHxbXSxnPStkfHwxO2RvIGg9aHx8XCIuNVwiLGcvPWgsbi5zdHlsZShjLmVsZW0sYSxnK2YpO3doaWxlKGghPT0oaD1jLmN1cigpL2QpJiYxIT09aCYmLS1pKX1yZXR1cm4gZSYmKGc9Yy5zdGFydD0rZ3x8K2R8fDAsYy51bml0PWYsYy5lbmQ9ZVsxXT9nKyhlWzFdKzEpKmVbMl06K2VbMl0pLGN9XX07ZnVuY3Rpb24gU2IoKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe0xiPXZvaWQgMH0pLExiPW4ubm93KCl9ZnVuY3Rpb24gVGIoYSxiKXt2YXIgYyxkPTAsZT17aGVpZ2h0OmF9O2ZvcihiPWI/MTowOzQ+ZDtkKz0yLWIpYz1SW2RdLGVbXCJtYXJnaW5cIitjXT1lW1wicGFkZGluZ1wiK2NdPWE7cmV0dXJuIGImJihlLm9wYWNpdHk9ZS53aWR0aD1hKSxlfWZ1bmN0aW9uIFViKGEsYixjKXtmb3IodmFyIGQsZT0oUmJbYl18fFtdKS5jb25jYXQoUmJbXCIqXCJdKSxmPTAsZz1lLmxlbmd0aDtnPmY7ZisrKWlmKGQ9ZVtmXS5jYWxsKGMsYixhKSlyZXR1cm4gZH1mdW5jdGlvbiBWYihhLGIsYyl7dmFyIGQsZSxmLGcsaCxpLGosayxsPXRoaXMsbT17fSxvPWEuc3R5bGUscD1hLm5vZGVUeXBlJiZTKGEpLHE9TC5nZXQoYSxcImZ4c2hvd1wiKTtjLnF1ZXVlfHwoaD1uLl9xdWV1ZUhvb2tzKGEsXCJmeFwiKSxudWxsPT1oLnVucXVldWVkJiYoaC51bnF1ZXVlZD0wLGk9aC5lbXB0eS5maXJlLGguZW1wdHkuZmlyZT1mdW5jdGlvbigpe2gudW5xdWV1ZWR8fGkoKX0pLGgudW5xdWV1ZWQrKyxsLmFsd2F5cyhmdW5jdGlvbigpe2wuYWx3YXlzKGZ1bmN0aW9uKCl7aC51bnF1ZXVlZC0tLG4ucXVldWUoYSxcImZ4XCIpLmxlbmd0aHx8aC5lbXB0eS5maXJlKCl9KX0pKSwxPT09YS5ub2RlVHlwZSYmKFwiaGVpZ2h0XCJpbiBifHxcIndpZHRoXCJpbiBiKSYmKGMub3ZlcmZsb3c9W28ub3ZlcmZsb3csby5vdmVyZmxvd1gsby5vdmVyZmxvd1ldLGo9bi5jc3MoYSxcImRpc3BsYXlcIiksaz1cIm5vbmVcIj09PWo/TC5nZXQoYSxcIm9sZGRpc3BsYXlcIil8fHRiKGEubm9kZU5hbWUpOmosXCJpbmxpbmVcIj09PWsmJlwibm9uZVwiPT09bi5jc3MoYSxcImZsb2F0XCIpJiYoby5kaXNwbGF5PVwiaW5saW5lLWJsb2NrXCIpKSxjLm92ZXJmbG93JiYoby5vdmVyZmxvdz1cImhpZGRlblwiLGwuYWx3YXlzKGZ1bmN0aW9uKCl7by5vdmVyZmxvdz1jLm92ZXJmbG93WzBdLG8ub3ZlcmZsb3dYPWMub3ZlcmZsb3dbMV0sby5vdmVyZmxvd1k9Yy5vdmVyZmxvd1syXX0pKTtmb3IoZCBpbiBiKWlmKGU9YltkXSxOYi5leGVjKGUpKXtpZihkZWxldGUgYltkXSxmPWZ8fFwidG9nZ2xlXCI9PT1lLGU9PT0ocD9cImhpZGVcIjpcInNob3dcIikpe2lmKFwic2hvd1wiIT09ZXx8IXF8fHZvaWQgMD09PXFbZF0pY29udGludWU7cD0hMH1tW2RdPXEmJnFbZF18fG4uc3R5bGUoYSxkKX1lbHNlIGo9dm9pZCAwO2lmKG4uaXNFbXB0eU9iamVjdChtKSlcImlubGluZVwiPT09KFwibm9uZVwiPT09aj90YihhLm5vZGVOYW1lKTpqKSYmKG8uZGlzcGxheT1qKTtlbHNle3E/XCJoaWRkZW5cImluIHEmJihwPXEuaGlkZGVuKTpxPUwuYWNjZXNzKGEsXCJmeHNob3dcIix7fSksZiYmKHEuaGlkZGVuPSFwKSxwP24oYSkuc2hvdygpOmwuZG9uZShmdW5jdGlvbigpe24oYSkuaGlkZSgpfSksbC5kb25lKGZ1bmN0aW9uKCl7dmFyIGI7TC5yZW1vdmUoYSxcImZ4c2hvd1wiKTtmb3IoYiBpbiBtKW4uc3R5bGUoYSxiLG1bYl0pfSk7Zm9yKGQgaW4gbSlnPVViKHA/cVtkXTowLGQsbCksZCBpbiBxfHwocVtkXT1nLnN0YXJ0LHAmJihnLmVuZD1nLnN0YXJ0LGcuc3RhcnQ9XCJ3aWR0aFwiPT09ZHx8XCJoZWlnaHRcIj09PWQ/MTowKSl9fWZ1bmN0aW9uIFdiKGEsYil7dmFyIGMsZCxlLGYsZztmb3IoYyBpbiBhKWlmKGQ9bi5jYW1lbENhc2UoYyksZT1iW2RdLGY9YVtjXSxuLmlzQXJyYXkoZikmJihlPWZbMV0sZj1hW2NdPWZbMF0pLGMhPT1kJiYoYVtkXT1mLGRlbGV0ZSBhW2NdKSxnPW4uY3NzSG9va3NbZF0sZyYmXCJleHBhbmRcImluIGcpe2Y9Zy5leHBhbmQoZiksZGVsZXRlIGFbZF07Zm9yKGMgaW4gZiljIGluIGF8fChhW2NdPWZbY10sYltjXT1lKX1lbHNlIGJbZF09ZX1mdW5jdGlvbiBYYihhLGIsYyl7dmFyIGQsZSxmPTAsZz1RYi5sZW5ndGgsaD1uLkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIGkuZWxlbX0pLGk9ZnVuY3Rpb24oKXtpZihlKXJldHVybiExO2Zvcih2YXIgYj1MYnx8U2IoKSxjPU1hdGgubWF4KDAsai5zdGFydFRpbWUrai5kdXJhdGlvbi1iKSxkPWMvai5kdXJhdGlvbnx8MCxmPTEtZCxnPTAsaT1qLnR3ZWVucy5sZW5ndGg7aT5nO2crKylqLnR3ZWVuc1tnXS5ydW4oZik7cmV0dXJuIGgubm90aWZ5V2l0aChhLFtqLGYsY10pLDE+ZiYmaT9jOihoLnJlc29sdmVXaXRoKGEsW2pdKSwhMSl9LGo9aC5wcm9taXNlKHtlbGVtOmEscHJvcHM6bi5leHRlbmQoe30sYiksb3B0czpuLmV4dGVuZCghMCx7c3BlY2lhbEVhc2luZzp7fX0sYyksb3JpZ2luYWxQcm9wZXJ0aWVzOmIsb3JpZ2luYWxPcHRpb25zOmMsc3RhcnRUaW1lOkxifHxTYigpLGR1cmF0aW9uOmMuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9bi5Ud2VlbihhLGoub3B0cyxiLGMsai5vcHRzLnNwZWNpYWxFYXNpbmdbYl18fGoub3B0cy5lYXNpbmcpO3JldHVybiBqLnR3ZWVucy5wdXNoKGQpLGR9LHN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9MCxkPWI/ai50d2VlbnMubGVuZ3RoOjA7aWYoZSlyZXR1cm4gdGhpcztmb3IoZT0hMDtkPmM7YysrKWoudHdlZW5zW2NdLnJ1bigxKTtyZXR1cm4gYj9oLnJlc29sdmVXaXRoKGEsW2osYl0pOmgucmVqZWN0V2l0aChhLFtqLGJdKSx0aGlzfX0pLGs9ai5wcm9wcztmb3IoV2IoayxqLm9wdHMuc3BlY2lhbEVhc2luZyk7Zz5mO2YrKylpZihkPVFiW2ZdLmNhbGwoaixhLGssai5vcHRzKSlyZXR1cm4gZDtyZXR1cm4gbi5tYXAoayxVYixqKSxuLmlzRnVuY3Rpb24oai5vcHRzLnN0YXJ0KSYmai5vcHRzLnN0YXJ0LmNhbGwoYSxqKSxuLmZ4LnRpbWVyKG4uZXh0ZW5kKGkse2VsZW06YSxhbmltOmoscXVldWU6ai5vcHRzLnF1ZXVlfSkpLGoucHJvZ3Jlc3Moai5vcHRzLnByb2dyZXNzKS5kb25lKGoub3B0cy5kb25lLGoub3B0cy5jb21wbGV0ZSkuZmFpbChqLm9wdHMuZmFpbCkuYWx3YXlzKGoub3B0cy5hbHdheXMpfW4uQW5pbWF0aW9uPW4uZXh0ZW5kKFhiLHt0d2VlbmVyOmZ1bmN0aW9uKGEsYil7bi5pc0Z1bmN0aW9uKGEpPyhiPWEsYT1bXCIqXCJdKTphPWEuc3BsaXQoXCIgXCIpO2Zvcih2YXIgYyxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWM9YVtkXSxSYltjXT1SYltjXXx8W10sUmJbY10udW5zaGlmdChiKX0scHJlZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj9RYi51bnNoaWZ0KGEpOlFiLnB1c2goYSl9fSksbi5zcGVlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSYmXCJvYmplY3RcIj09dHlwZW9mIGE/bi5leHRlbmQoe30sYSk6e2NvbXBsZXRlOmN8fCFjJiZifHxuLmlzRnVuY3Rpb24oYSkmJmEsZHVyYXRpb246YSxlYXNpbmc6YyYmYnx8YiYmIW4uaXNGdW5jdGlvbihiKSYmYn07cmV0dXJuIGQuZHVyYXRpb249bi5meC5vZmY/MDpcIm51bWJlclwiPT10eXBlb2YgZC5kdXJhdGlvbj9kLmR1cmF0aW9uOmQuZHVyYXRpb24gaW4gbi5meC5zcGVlZHM/bi5meC5zcGVlZHNbZC5kdXJhdGlvbl06bi5meC5zcGVlZHMuX2RlZmF1bHQsKG51bGw9PWQucXVldWV8fGQucXVldWU9PT0hMCkmJihkLnF1ZXVlPVwiZnhcIiksZC5vbGQ9ZC5jb21wbGV0ZSxkLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bi5pc0Z1bmN0aW9uKGQub2xkKSYmZC5vbGQuY2FsbCh0aGlzKSxkLnF1ZXVlJiZuLmRlcXVldWUodGhpcyxkLnF1ZXVlKX0sZH0sbi5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5maWx0ZXIoUykuY3NzKFwib3BhY2l0eVwiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsYyxkKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1uLmlzRW1wdHlPYmplY3QoYSksZj1uLnNwZWVkKGIsYyxkKSxnPWZ1bmN0aW9uKCl7dmFyIGI9WGIodGhpcyxuLmV4dGVuZCh7fSxhKSxmKTsoZXx8TC5nZXQodGhpcyxcImZpbmlzaFwiKSkmJmIuc3RvcCghMCl9O3JldHVybiBnLmZpbmlzaD1nLGV8fGYucXVldWU9PT0hMT90aGlzLmVhY2goZyk6dGhpcy5xdWV1ZShmLnF1ZXVlLGcpfSxzdG9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihhKXt2YXIgYj1hLnN0b3A7ZGVsZXRlIGEuc3RvcCxiKGMpfTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgYSYmKGM9YixiPWEsYT12b2lkIDApLGImJmEhPT0hMSYmdGhpcy5xdWV1ZShhfHxcImZ4XCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPSEwLGU9bnVsbCE9YSYmYStcInF1ZXVlSG9va3NcIixmPW4udGltZXJzLGc9TC5nZXQodGhpcyk7aWYoZSlnW2VdJiZnW2VdLnN0b3AmJmQoZ1tlXSk7ZWxzZSBmb3IoZSBpbiBnKWdbZV0mJmdbZV0uc3RvcCYmUGIudGVzdChlKSYmZChnW2VdKTtmb3IoZT1mLmxlbmd0aDtlLS07KWZbZV0uZWxlbSE9PXRoaXN8fG51bGwhPWEmJmZbZV0ucXVldWUhPT1hfHwoZltlXS5hbmltLnN0b3AoYyksYj0hMSxmLnNwbGljZShlLDEpKTsoYnx8IWMpJiZuLmRlcXVldWUodGhpcyxhKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMSYmKGE9YXx8XCJmeFwiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixjPUwuZ2V0KHRoaXMpLGQ9Y1thK1wicXVldWVcIl0sZT1jW2ErXCJxdWV1ZUhvb2tzXCJdLGY9bi50aW1lcnMsZz1kP2QubGVuZ3RoOjA7Zm9yKGMuZmluaXNoPSEwLG4ucXVldWUodGhpcyxhLFtdKSxlJiZlLnN0b3AmJmUuc3RvcC5jYWxsKHRoaXMsITApLGI9Zi5sZW5ndGg7Yi0tOylmW2JdLmVsZW09PT10aGlzJiZmW2JdLnF1ZXVlPT09YSYmKGZbYl0uYW5pbS5zdG9wKCEwKSxmLnNwbGljZShiLDEpKTtmb3IoYj0wO2c+YjtiKyspZFtiXSYmZFtiXS5maW5pc2gmJmRbYl0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIGMuZmluaXNofSl9fSksbi5lYWNoKFtcInRvZ2dsZVwiLFwic2hvd1wiLFwiaGlkZVwiXSxmdW5jdGlvbihhLGIpe3ZhciBjPW4uZm5bYl07bi5mbltiXT1mdW5jdGlvbihhLGQsZSl7cmV0dXJuIG51bGw9PWF8fFwiYm9vbGVhblwiPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoVGIoYiwhMCksYSxkLGUpfX0pLG4uZWFjaCh7c2xpZGVEb3duOlRiKFwic2hvd1wiKSxzbGlkZVVwOlRiKFwiaGlkZVwiKSxzbGlkZVRvZ2dsZTpUYihcInRvZ2dsZVwiKSxmYWRlSW46e29wYWNpdHk6XCJzaG93XCJ9LGZhZGVPdXQ6e29wYWNpdHk6XCJoaWRlXCJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6XCJ0b2dnbGVcIn19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxuLnRpbWVycz1bXSxuLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPTAsYz1uLnRpbWVycztmb3IoTGI9bi5ub3coKTtiPGMubGVuZ3RoO2IrKylhPWNbYl0sYSgpfHxjW2JdIT09YXx8Yy5zcGxpY2UoYi0tLDEpO2MubGVuZ3RofHxuLmZ4LnN0b3AoKSxMYj12b2lkIDB9LG4uZngudGltZXI9ZnVuY3Rpb24oYSl7bi50aW1lcnMucHVzaChhKSxhKCk/bi5meC5zdGFydCgpOm4udGltZXJzLnBvcCgpfSxuLmZ4LmludGVydmFsPTEzLG4uZnguc3RhcnQ9ZnVuY3Rpb24oKXtNYnx8KE1iPXNldEludGVydmFsKG4uZngudGljayxuLmZ4LmludGVydmFsKSl9LG4uZnguc3RvcD1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoTWIpLE1iPW51bGx9LG4uZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LG4uZm4uZGVsYXk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1uLmZ4P24uZnguc3BlZWRzW2FdfHxhOmEsYj1ifHxcImZ4XCIsdGhpcy5xdWV1ZShiLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9c2V0VGltZW91dChiLGEpO2Muc3RvcD1mdW5jdGlvbigpe2NsZWFyVGltZW91dChkKX19KX0sZnVuY3Rpb24oKXt2YXIgYT1sLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxiPWwuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKSxjPWIuYXBwZW5kQ2hpbGQobC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpKTthLnR5cGU9XCJjaGVja2JveFwiLGsuY2hlY2tPbj1cIlwiIT09YS52YWx1ZSxrLm9wdFNlbGVjdGVkPWMuc2VsZWN0ZWQsYi5kaXNhYmxlZD0hMCxrLm9wdERpc2FibGVkPSFjLmRpc2FibGVkLGE9bC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksYS52YWx1ZT1cInRcIixhLnR5cGU9XCJyYWRpb1wiLGsucmFkaW9WYWx1ZT1cInRcIj09PWEudmFsdWV9KCk7dmFyIFliLFpiLCRiPW4uZXhwci5hdHRySGFuZGxlO24uZm4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEoodGhpcyxuLmF0dHIsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24ucmVtb3ZlQXR0cih0aGlzLGEpfSl9fSksbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1hLm5vZGVUeXBlO2lmKGEmJjMhPT1mJiY4IT09ZiYmMiE9PWYpcmV0dXJuIHR5cGVvZiBhLmdldEF0dHJpYnV0ZT09PVU/bi5wcm9wKGEsYixjKTooMT09PWYmJm4uaXNYTUxEb2MoYSl8fChiPWIudG9Mb3dlckNhc2UoKSxkPW4uYXR0ckhvb2tzW2JdfHwobi5leHByLm1hdGNoLmJvb2wudGVzdChiKT9aYjpZYikpLHZvaWQgMD09PWM/ZCYmXCJnZXRcImluIGQmJm51bGwhPT0oZT1kLmdldChhLGIpKT9lOihlPW4uZmluZC5hdHRyKGEsYiksbnVsbD09ZT92b2lkIDA6ZSk6bnVsbCE9PWM/ZCYmXCJzZXRcImluIGQmJnZvaWQgMCE9PShlPWQuc2V0KGEsYyxiKSk/ZTooYS5zZXRBdHRyaWJ1dGUoYixjK1wiXCIpLGMpOnZvaWQgbi5yZW1vdmVBdHRyKGEsYikpXG59LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9MCxmPWImJmIubWF0Y2goRSk7aWYoZiYmMT09PWEubm9kZVR5cGUpd2hpbGUoYz1mW2UrK10pZD1uLnByb3BGaXhbY118fGMsbi5leHByLm1hdGNoLmJvb2wudGVzdChjKSYmKGFbZF09ITEpLGEucmVtb3ZlQXR0cmlidXRlKGMpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihhLGIpe2lmKCFrLnJhZGlvVmFsdWUmJlwicmFkaW9cIj09PWImJm4ubm9kZU5hbWUoYSxcImlucHV0XCIpKXt2YXIgYz1hLnZhbHVlO3JldHVybiBhLnNldEF0dHJpYnV0ZShcInR5cGVcIixiKSxjJiYoYS52YWx1ZT1jKSxifX19fX0pLFpiPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPT09ITE/bi5yZW1vdmVBdHRyKGEsYyk6YS5zZXRBdHRyaWJ1dGUoYyxjKSxjfX0sbi5lYWNoKG4uZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXFx3Ky9nKSxmdW5jdGlvbihhLGIpe3ZhciBjPSRiW2JdfHxuLmZpbmQuYXR0cjskYltiXT1mdW5jdGlvbihhLGIsZCl7dmFyIGUsZjtyZXR1cm4gZHx8KGY9JGJbYl0sJGJbYl09ZSxlPW51bGwhPWMoYSxiLGQpP2IudG9Mb3dlckNhc2UoKTpudWxsLCRiW2JdPWYpLGV9fSk7dmFyIF9iPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2k7bi5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSih0aGlzLG4ucHJvcCxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbbi5wcm9wRml4W2FdfHxhXX0pfX0pLG4uZXh0ZW5kKHtwcm9wRml4OntcImZvclwiOlwiaHRtbEZvclwiLFwiY2xhc3NcIjpcImNsYXNzTmFtZVwifSxwcm9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZz1hLm5vZGVUeXBlO2lmKGEmJjMhPT1nJiY4IT09ZyYmMiE9PWcpcmV0dXJuIGY9MSE9PWd8fCFuLmlzWE1MRG9jKGEpLGYmJihiPW4ucHJvcEZpeFtiXXx8YixlPW4ucHJvcEhvb2tzW2JdKSx2b2lkIDAhPT1jP2UmJlwic2V0XCJpbiBlJiZ2b2lkIDAhPT0oZD1lLnNldChhLGMsYikpP2Q6YVtiXT1jOmUmJlwiZ2V0XCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDphW2JdfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaGFzQXR0cmlidXRlKFwidGFiaW5kZXhcIil8fF9iLnRlc3QoYS5ub2RlTmFtZSl8fGEuaHJlZj9hLnRhYkluZGV4Oi0xfX19fSksay5vcHRTZWxlY3RlZHx8KG4ucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiZiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9fSksbi5lYWNoKFtcInRhYkluZGV4XCIsXCJyZWFkT25seVwiLFwibWF4TGVuZ3RoXCIsXCJjZWxsU3BhY2luZ1wiLFwiY2VsbFBhZGRpbmdcIixcInJvd1NwYW5cIixcImNvbFNwYW5cIixcInVzZU1hcFwiLFwiZnJhbWVCb3JkZXJcIixcImNvbnRlbnRFZGl0YWJsZVwiXSxmdW5jdGlvbigpe24ucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KTt2YXIgYWM9L1tcXHRcXHJcXG5cXGZdL2c7bi5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoPVwic3RyaW5nXCI9PXR5cGVvZiBhJiZhLGk9MCxqPXRoaXMubGVuZ3RoO2lmKG4uaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykuYWRkQ2xhc3MoYS5jYWxsKHRoaXMsYix0aGlzLmNsYXNzTmFtZSkpfSk7aWYoaClmb3IoYj0oYXx8XCJcIikubWF0Y2goRSl8fFtdO2o+aTtpKyspaWYoYz10aGlzW2ldLGQ9MT09PWMubm9kZVR5cGUmJihjLmNsYXNzTmFtZT8oXCIgXCIrYy5jbGFzc05hbWUrXCIgXCIpLnJlcGxhY2UoYWMsXCIgXCIpOlwiIFwiKSl7Zj0wO3doaWxlKGU9YltmKytdKWQuaW5kZXhPZihcIiBcIitlK1wiIFwiKTwwJiYoZCs9ZStcIiBcIik7Zz1uLnRyaW0oZCksYy5jbGFzc05hbWUhPT1nJiYoYy5jbGFzc05hbWU9Zyl9cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoPTA9PT1hcmd1bWVudHMubGVuZ3RofHxcInN0cmluZ1wiPT10eXBlb2YgYSYmYSxpPTAsaj10aGlzLmxlbmd0aDtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGgpZm9yKGI9KGF8fFwiXCIpLm1hdGNoKEUpfHxbXTtqPmk7aSsrKWlmKGM9dGhpc1tpXSxkPTE9PT1jLm5vZGVUeXBlJiYoYy5jbGFzc05hbWU/KFwiIFwiK2MuY2xhc3NOYW1lK1wiIFwiKS5yZXBsYWNlKGFjLFwiIFwiKTpcIlwiKSl7Zj0wO3doaWxlKGU9YltmKytdKXdoaWxlKGQuaW5kZXhPZihcIiBcIitlK1wiIFwiKT49MClkPWQucmVwbGFjZShcIiBcIitlK1wiIFwiLFwiIFwiKTtnPWE/bi50cmltKGQpOlwiXCIsYy5jbGFzc05hbWUhPT1nJiYoYy5jbGFzc05hbWU9Zyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGE7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBiJiZcInN0cmluZ1wiPT09Yz9iP3RoaXMuYWRkQ2xhc3MoYSk6dGhpcy5yZW1vdmVDbGFzcyhhKTp0aGlzLmVhY2gobi5pc0Z1bmN0aW9uKGEpP2Z1bmN0aW9uKGMpe24odGhpcykudG9nZ2xlQ2xhc3MoYS5jYWxsKHRoaXMsYyx0aGlzLmNsYXNzTmFtZSxiKSxiKX06ZnVuY3Rpb24oKXtpZihcInN0cmluZ1wiPT09Yyl7dmFyIGIsZD0wLGU9bih0aGlzKSxmPWEubWF0Y2goRSl8fFtdO3doaWxlKGI9ZltkKytdKWUuaGFzQ2xhc3MoYik/ZS5yZW1vdmVDbGFzcyhiKTplLmFkZENsYXNzKGIpfWVsc2UoYz09PVV8fFwiYm9vbGVhblwiPT09YykmJih0aGlzLmNsYXNzTmFtZSYmTC5zZXQodGhpcyxcIl9fY2xhc3NOYW1lX19cIix0aGlzLmNsYXNzTmFtZSksdGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fGE9PT0hMT9cIlwiOkwuZ2V0KHRoaXMsXCJfX2NsYXNzTmFtZV9fXCIpfHxcIlwiKX0pfSxoYXNDbGFzczpmdW5jdGlvbihhKXtmb3IodmFyIGI9XCIgXCIrYStcIiBcIixjPTAsZD10aGlzLmxlbmd0aDtkPmM7YysrKWlmKDE9PT10aGlzW2NdLm5vZGVUeXBlJiYoXCIgXCIrdGhpc1tjXS5jbGFzc05hbWUrXCIgXCIpLnJlcGxhY2UoYWMsXCIgXCIpLmluZGV4T2YoYik+PTApcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIGJjPS9cXHIvZztuLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPXRoaXNbMF07e2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGQ9bi5pc0Z1bmN0aW9uKGEpLHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZTsxPT09dGhpcy5ub2RlVHlwZSYmKGU9ZD9hLmNhbGwodGhpcyxjLG4odGhpcykudmFsKCkpOmEsbnVsbD09ZT9lPVwiXCI6XCJudW1iZXJcIj09dHlwZW9mIGU/ZSs9XCJcIjpuLmlzQXJyYXkoZSkmJihlPW4ubWFwKGUsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/XCJcIjphK1wiXCJ9KSksYj1uLnZhbEhvb2tzW3RoaXMudHlwZV18fG4udmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiZcInNldFwiaW4gYiYmdm9pZCAwIT09Yi5zZXQodGhpcyxlLFwidmFsdWVcIil8fCh0aGlzLnZhbHVlPWUpKX0pO2lmKGUpcmV0dXJuIGI9bi52YWxIb29rc1tlLnR5cGVdfHxuLnZhbEhvb2tzW2Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sYiYmXCJnZXRcImluIGImJnZvaWQgMCE9PShjPWIuZ2V0KGUsXCJ2YWx1ZVwiKSk/YzooYz1lLnZhbHVlLFwic3RyaW5nXCI9PXR5cGVvZiBjP2MucmVwbGFjZShiYyxcIlwiKTpudWxsPT1jP1wiXCI6Yyl9fX0pLG4uZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bi5maW5kLmF0dHIoYSxcInZhbHVlXCIpO3JldHVybiBudWxsIT1iP2I6bi50cmltKG4udGV4dChhKSl9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkPWEub3B0aW9ucyxlPWEuc2VsZWN0ZWRJbmRleCxmPVwic2VsZWN0LW9uZVwiPT09YS50eXBlfHwwPmUsZz1mP251bGw6W10saD1mP2UrMTpkLmxlbmd0aCxpPTA+ZT9oOmY/ZTowO2g+aTtpKyspaWYoYz1kW2ldLCEoIWMuc2VsZWN0ZWQmJmkhPT1lfHwoay5vcHREaXNhYmxlZD9jLmRpc2FibGVkOm51bGwhPT1jLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpKXx8Yy5wYXJlbnROb2RlLmRpc2FibGVkJiZuLm5vZGVOYW1lKGMucGFyZW50Tm9kZSxcIm9wdGdyb3VwXCIpKSl7aWYoYj1uKGMpLnZhbCgpLGYpcmV0dXJuIGI7Zy5wdXNoKGIpfXJldHVybiBnfSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9YS5vcHRpb25zLGY9bi5tYWtlQXJyYXkoYiksZz1lLmxlbmd0aDt3aGlsZShnLS0pZD1lW2ddLChkLnNlbGVjdGVkPW4uaW5BcnJheShkLnZhbHVlLGYpPj0wKSYmKGM9ITApO3JldHVybiBjfHwoYS5zZWxlY3RlZEluZGV4PS0xKSxmfX19fSksbi5lYWNoKFtcInJhZGlvXCIsXCJjaGVja2JveFwiXSxmdW5jdGlvbigpe24udmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihhLGIpe3JldHVybiBuLmlzQXJyYXkoYik/YS5jaGVja2VkPW4uaW5BcnJheShuKGEpLnZhbCgpLGIpPj0wOnZvaWQgMH19LGsuY2hlY2tPbnx8KG4udmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09YS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKT9cIm9uXCI6YS52YWx1ZX0pfSksbi5lYWNoKFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvciBjb250ZXh0bWVudVwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhLGIpe24uZm5bYl09ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMub24oYixudWxsLGEsYyk6dGhpcy50cmlnZ2VyKGIpfX0pLG4uZm4uZXh0ZW5kKHtob3ZlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoYSkubW91c2VsZWF2ZShifHxhKX0sYmluZDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMub24oYSxudWxsLGIsYyl9LHVuYmluZDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9mZihhLG51bGwsYil9LGRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGIsYSxjLGQpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoYSxcIioqXCIpOnRoaXMub2ZmKGIsYXx8XCIqKlwiLGMpfX0pO3ZhciBjYz1uLm5vdygpLGRjPS9cXD8vO24ucGFyc2VKU09OPWZ1bmN0aW9uKGEpe3JldHVybiBKU09OLnBhcnNlKGErXCJcIil9LG4ucGFyc2VYTUw9ZnVuY3Rpb24oYSl7dmFyIGIsYztpZighYXx8XCJzdHJpbmdcIiE9dHlwZW9mIGEpcmV0dXJuIG51bGw7dHJ5e2M9bmV3IERPTVBhcnNlcixiPWMucGFyc2VGcm9tU3RyaW5nKGEsXCJ0ZXh0L3htbFwiKX1jYXRjaChkKXtiPXZvaWQgMH1yZXR1cm4oIWJ8fGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYXJzZXJlcnJvclwiKS5sZW5ndGgpJiZuLmVycm9yKFwiSW52YWxpZCBYTUw6IFwiK2EpLGJ9O3ZhciBlYz0vIy4qJC8sZmM9LyhbPyZdKV89W14mXSovLGdjPS9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvZ20saGM9L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8saWM9L14oPzpHRVR8SEVBRCkkLyxqYz0vXlxcL1xcLy8sa2M9L14oW1xcdy4rLV0rOikoPzpcXC9cXC8oPzpbXlxcLz8jXSpAfCkoW15cXC8/IzpdKikoPzo6KFxcZCspfCl8KS8sbGM9e30sbWM9e30sbmM9XCIqL1wiLmNvbmNhdChcIipcIiksb2M9YS5sb2NhdGlvbi5ocmVmLHBjPWtjLmV4ZWMob2MudG9Mb3dlckNhc2UoKSl8fFtdO2Z1bmN0aW9uIHFjKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe1wic3RyaW5nXCIhPXR5cGVvZiBiJiYoYz1iLGI9XCIqXCIpO3ZhciBkLGU9MCxmPWIudG9Mb3dlckNhc2UoKS5tYXRjaChFKXx8W107aWYobi5pc0Z1bmN0aW9uKGMpKXdoaWxlKGQ9ZltlKytdKVwiK1wiPT09ZFswXT8oZD1kLnNsaWNlKDEpfHxcIipcIiwoYVtkXT1hW2RdfHxbXSkudW5zaGlmdChjKSk6KGFbZF09YVtkXXx8W10pLnB1c2goYyl9fWZ1bmN0aW9uIHJjKGEsYixjLGQpe3ZhciBlPXt9LGY9YT09PW1jO2Z1bmN0aW9uIGcoaCl7dmFyIGk7cmV0dXJuIGVbaF09ITAsbi5lYWNoKGFbaF18fFtdLGZ1bmN0aW9uKGEsaCl7dmFyIGo9aChiLGMsZCk7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlW1wiKlwiXSYmZyhcIipcIil9ZnVuY3Rpb24gc2MoYSxiKXt2YXIgYyxkLGU9bi5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihjIGluIGIpdm9pZCAwIT09YltjXSYmKChlW2NdP2E6ZHx8KGQ9e30pKVtjXT1iW2NdKTtyZXR1cm4gZCYmbi5leHRlbmQoITAsYSxkKSxhfWZ1bmN0aW9uIHRjKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuY29udGVudHMsaT1hLmRhdGFUeXBlczt3aGlsZShcIipcIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWQmJihkPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIikpO2lmKGQpZm9yKGUgaW4gaClpZihoW2VdJiZoW2VdLnRlc3QoZCkpe2kudW5zaGlmdChlKTticmVha31pZihpWzBdaW4gYylmPWlbMF07ZWxzZXtmb3IoZSBpbiBjKXtpZighaVswXXx8YS5jb252ZXJ0ZXJzW2UrXCIgXCIraVswXV0pe2Y9ZTticmVha31nfHwoZz1lKX1mPWZ8fGd9cmV0dXJuIGY/KGYhPT1pWzBdJiZpLnVuc2hpZnQoZiksY1tmXSk6dm9pZCAwfWZ1bmN0aW9uIHVjKGEsYixjLGQpe3ZhciBlLGYsZyxoLGksaj17fSxrPWEuZGF0YVR5cGVzLnNsaWNlKCk7aWYoa1sxXSlmb3IoZyBpbiBhLmNvbnZlcnRlcnMpaltnLnRvTG93ZXJDYXNlKCldPWEuY29udmVydGVyc1tnXTtmPWsuc2hpZnQoKTt3aGlsZShmKWlmKGEucmVzcG9uc2VGaWVsZHNbZl0mJihjW2EucmVzcG9uc2VGaWVsZHNbZl1dPWIpLCFpJiZkJiZhLmRhdGFGaWx0ZXImJihiPWEuZGF0YUZpbHRlcihiLGEuZGF0YVR5cGUpKSxpPWYsZj1rLnNoaWZ0KCkpaWYoXCIqXCI9PT1mKWY9aTtlbHNlIGlmKFwiKlwiIT09aSYmaSE9PWYpe2lmKGc9altpK1wiIFwiK2ZdfHxqW1wiKiBcIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdChcIiBcIiksaFsxXT09PWYmJihnPWpbaStcIiBcIitoWzBdXXx8altcIiogXCIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhW1widGhyb3dzXCJdKWI9ZyhiKTtlbHNlIHRyeXtiPWcoYil9Y2F0Y2gobCl7cmV0dXJue3N0YXRlOlwicGFyc2VyZXJyb3JcIixlcnJvcjpnP2w6XCJObyBjb252ZXJzaW9uIGZyb20gXCIraStcIiB0byBcIitmfX19cmV0dXJue3N0YXRlOlwic3VjY2Vzc1wiLGRhdGE6Yn19bi5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOm9jLHR5cGU6XCJHRVRcIixpc0xvY2FsOmhjLnRlc3QocGNbMV0pLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLGFjY2VwdHM6e1wiKlwiOm5jLHRleHQ6XCJ0ZXh0L3BsYWluXCIsaHRtbDpcInRleHQvaHRtbFwiLHhtbDpcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixqc29uOlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0XCJ9LGNvbnRlbnRzOnt4bWw6L3htbC8saHRtbDovaHRtbC8sanNvbjovanNvbi99LHJlc3BvbnNlRmllbGRzOnt4bWw6XCJyZXNwb25zZVhNTFwiLHRleHQ6XCJyZXNwb25zZVRleHRcIixqc29uOlwicmVzcG9uc2VKU09OXCJ9LGNvbnZlcnRlcnM6e1wiKiB0ZXh0XCI6U3RyaW5nLFwidGV4dCBodG1sXCI6ITAsXCJ0ZXh0IGpzb25cIjpuLnBhcnNlSlNPTixcInRleHQgeG1sXCI6bi5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/c2Moc2MoYSxuLmFqYXhTZXR0aW5ncyksYik6c2Mobi5hamF4U2V0dGluZ3MsYSl9LGFqYXhQcmVmaWx0ZXI6cWMobGMpLGFqYXhUcmFuc3BvcnQ6cWMobWMpLGFqYXg6ZnVuY3Rpb24oYSxiKXtcIm9iamVjdFwiPT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYj1ifHx7fTt2YXIgYyxkLGUsZixnLGgsaSxqLGs9bi5hamF4U2V0dXAoe30sYiksbD1rLmNvbnRleHR8fGssbT1rLmNvbnRleHQmJihsLm5vZGVUeXBlfHxsLmpxdWVyeSk/bihsKTpuLmV2ZW50LG89bi5EZWZlcnJlZCgpLHA9bi5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxxPWsuc3RhdHVzQ29kZXx8e30scj17fSxzPXt9LHQ9MCx1PVwiY2FuY2VsZWRcIix2PXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoMj09PXQpe2lmKCFmKXtmPXt9O3doaWxlKGI9Z2MuZXhlYyhlKSlmW2JbMV0udG9Mb3dlckNhc2UoKV09YlsyXX1iPWZbYS50b0xvd2VyQ2FzZSgpXX1yZXR1cm4gbnVsbD09Yj9udWxsOmJ9LGdldEFsbFJlc3BvbnNlSGVhZGVyczpmdW5jdGlvbigpe3JldHVybiAyPT09dD9lOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHR8fChhPXNbY109c1tjXXx8YSxyW2FdPWIpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHR8fChrLm1pbWVUeXBlPWEpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoYSlpZigyPnQpZm9yKGIgaW4gYSlxW2JdPVtxW2JdLGFbYl1dO2Vsc2Ugdi5hbHdheXMoYVt2LnN0YXR1c10pO3JldHVybiB0aGlzfSxhYm9ydDpmdW5jdGlvbihhKXt2YXIgYj1hfHx1O3JldHVybiBjJiZjLmFib3J0KGIpLHgoMCxiKSx0aGlzfX07aWYoby5wcm9taXNlKHYpLmNvbXBsZXRlPXAuYWRkLHYuc3VjY2Vzcz12LmRvbmUsdi5lcnJvcj12LmZhaWwsay51cmw9KChhfHxrLnVybHx8b2MpK1wiXCIpLnJlcGxhY2UoZWMsXCJcIikucmVwbGFjZShqYyxwY1sxXStcIi8vXCIpLGsudHlwZT1iLm1ldGhvZHx8Yi50eXBlfHxrLm1ldGhvZHx8ay50eXBlLGsuZGF0YVR5cGVzPW4udHJpbShrLmRhdGFUeXBlfHxcIipcIikudG9Mb3dlckNhc2UoKS5tYXRjaChFKXx8W1wiXCJdLG51bGw9PWsuY3Jvc3NEb21haW4mJihoPWtjLmV4ZWMoay51cmwudG9Mb3dlckNhc2UoKSksay5jcm9zc0RvbWFpbj0hKCFofHxoWzFdPT09cGNbMV0mJmhbMl09PT1wY1syXSYmKGhbM118fChcImh0dHA6XCI9PT1oWzFdP1wiODBcIjpcIjQ0M1wiKSk9PT0ocGNbM118fChcImh0dHA6XCI9PT1wY1sxXT9cIjgwXCI6XCI0NDNcIikpKSksay5kYXRhJiZrLnByb2Nlc3NEYXRhJiZcInN0cmluZ1wiIT10eXBlb2Ygay5kYXRhJiYoay5kYXRhPW4ucGFyYW0oay5kYXRhLGsudHJhZGl0aW9uYWwpKSxyYyhsYyxrLGIsdiksMj09PXQpcmV0dXJuIHY7aT1uLmV2ZW50JiZrLmdsb2JhbCxpJiYwPT09bi5hY3RpdmUrKyYmbi5ldmVudC50cmlnZ2VyKFwiYWpheFN0YXJ0XCIpLGsudHlwZT1rLnR5cGUudG9VcHBlckNhc2UoKSxrLmhhc0NvbnRlbnQ9IWljLnRlc3Qoay50eXBlKSxkPWsudXJsLGsuaGFzQ29udGVudHx8KGsuZGF0YSYmKGQ9ay51cmwrPShkYy50ZXN0KGQpP1wiJlwiOlwiP1wiKStrLmRhdGEsZGVsZXRlIGsuZGF0YSksay5jYWNoZT09PSExJiYoay51cmw9ZmMudGVzdChkKT9kLnJlcGxhY2UoZmMsXCIkMV89XCIrY2MrKyk6ZCsoZGMudGVzdChkKT9cIiZcIjpcIj9cIikrXCJfPVwiK2NjKyspKSxrLmlmTW9kaWZpZWQmJihuLmxhc3RNb2RpZmllZFtkXSYmdi5zZXRSZXF1ZXN0SGVhZGVyKFwiSWYtTW9kaWZpZWQtU2luY2VcIixuLmxhc3RNb2RpZmllZFtkXSksbi5ldGFnW2RdJiZ2LnNldFJlcXVlc3RIZWFkZXIoXCJJZi1Ob25lLU1hdGNoXCIsbi5ldGFnW2RdKSksKGsuZGF0YSYmay5oYXNDb250ZW50JiZrLmNvbnRlbnRUeXBlIT09ITF8fGIuY29udGVudFR5cGUpJiZ2LnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixrLmNvbnRlbnRUeXBlKSx2LnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHRcIixrLmRhdGFUeXBlc1swXSYmay5hY2NlcHRzW2suZGF0YVR5cGVzWzBdXT9rLmFjY2VwdHNbay5kYXRhVHlwZXNbMF1dKyhcIipcIiE9PWsuZGF0YVR5cGVzWzBdP1wiLCBcIituYytcIjsgcT0wLjAxXCI6XCJcIik6ay5hY2NlcHRzW1wiKlwiXSk7Zm9yKGogaW4gay5oZWFkZXJzKXYuc2V0UmVxdWVzdEhlYWRlcihqLGsuaGVhZGVyc1tqXSk7aWYoay5iZWZvcmVTZW5kJiYoay5iZWZvcmVTZW5kLmNhbGwobCx2LGspPT09ITF8fDI9PT10KSlyZXR1cm4gdi5hYm9ydCgpO3U9XCJhYm9ydFwiO2ZvcihqIGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KXZbal0oa1tqXSk7aWYoYz1yYyhtYyxrLGIsdikpe3YucmVhZHlTdGF0ZT0xLGkmJm0udHJpZ2dlcihcImFqYXhTZW5kXCIsW3Ysa10pLGsuYXN5bmMmJmsudGltZW91dD4wJiYoZz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7di5hYm9ydChcInRpbWVvdXRcIil9LGsudGltZW91dCkpO3RyeXt0PTEsYy5zZW5kKHIseCl9Y2F0Y2godyl7aWYoISgyPnQpKXRocm93IHc7eCgtMSx3KX19ZWxzZSB4KC0xLFwiTm8gVHJhbnNwb3J0XCIpO2Z1bmN0aW9uIHgoYSxiLGYsaCl7dmFyIGoscixzLHUsdyx4PWI7MiE9PXQmJih0PTIsZyYmY2xlYXJUaW1lb3V0KGcpLGM9dm9pZCAwLGU9aHx8XCJcIix2LnJlYWR5U3RhdGU9YT4wPzQ6MCxqPWE+PTIwMCYmMzAwPmF8fDMwND09PWEsZiYmKHU9dGMoayx2LGYpKSx1PXVjKGssdSx2LGopLGo/KGsuaWZNb2RpZmllZCYmKHc9di5nZXRSZXNwb25zZUhlYWRlcihcIkxhc3QtTW9kaWZpZWRcIiksdyYmKG4ubGFzdE1vZGlmaWVkW2RdPXcpLHc9di5nZXRSZXNwb25zZUhlYWRlcihcImV0YWdcIiksdyYmKG4uZXRhZ1tkXT13KSksMjA0PT09YXx8XCJIRUFEXCI9PT1rLnR5cGU/eD1cIm5vY29udGVudFwiOjMwND09PWE/eD1cIm5vdG1vZGlmaWVkXCI6KHg9dS5zdGF0ZSxyPXUuZGF0YSxzPXUuZXJyb3Isaj0hcykpOihzPXgsKGF8fCF4KSYmKHg9XCJlcnJvclwiLDA+YSYmKGE9MCkpKSx2LnN0YXR1cz1hLHYuc3RhdHVzVGV4dD0oYnx8eCkrXCJcIixqP28ucmVzb2x2ZVdpdGgobCxbcix4LHZdKTpvLnJlamVjdFdpdGgobCxbdix4LHNdKSx2LnN0YXR1c0NvZGUocSkscT12b2lkIDAsaSYmbS50cmlnZ2VyKGo/XCJhamF4U3VjY2Vzc1wiOlwiYWpheEVycm9yXCIsW3YsayxqP3I6c10pLHAuZmlyZVdpdGgobCxbdix4XSksaSYmKG0udHJpZ2dlcihcImFqYXhDb21wbGV0ZVwiLFt2LGtdKSwtLW4uYWN0aXZlfHxuLmV2ZW50LnRyaWdnZXIoXCJhamF4U3RvcFwiKSkpfXJldHVybiB2fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5nZXQoYSxiLGMsXCJqc29uXCIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5nZXQoYSx2b2lkIDAsYixcInNjcmlwdFwiKX19KSxuLmVhY2goW1wiZ2V0XCIsXCJwb3N0XCJdLGZ1bmN0aW9uKGEsYil7bltiXT1mdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gbi5pc0Z1bmN0aW9uKGMpJiYoZT1lfHxkLGQ9YyxjPXZvaWQgMCksbi5hamF4KHt1cmw6YSx0eXBlOmIsZGF0YVR5cGU6ZSxkYXRhOmMsc3VjY2VzczpkfSl9fSksbi5fZXZhbFVybD1mdW5jdGlvbihhKXtyZXR1cm4gbi5hamF4KHt1cmw6YSx0eXBlOlwiR0VUXCIsZGF0YVR5cGU6XCJzY3JpcHRcIixhc3luYzohMSxnbG9iYWw6ITEsXCJ0aHJvd3NcIjohMH0pfSxuLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gbi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsYikpfSk6KHRoaXNbMF0mJihiPW4oYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJmIuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLGIubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpczt3aGlsZShhLmZpcnN0RWxlbWVudENoaWxkKWE9YS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKSksdGhpcyl9LHdyYXBJbm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKG4uaXNGdW5jdGlvbihhKT9mdW5jdGlvbihiKXtuKHRoaXMpLndyYXBJbm5lcihhLmNhbGwodGhpcyxiKSl9OmZ1bmN0aW9uKCl7dmFyIGI9bih0aGlzKSxjPWIuY29udGVudHMoKTtjLmxlbmd0aD9jLndyYXBBbGwoYSk6Yi5hcHBlbmQoYSl9KX0sd3JhcDpmdW5jdGlvbihhKXt2YXIgYj1uLmlzRnVuY3Rpb24oYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXtuKHRoaXMpLndyYXBBbGwoYj9hLmNhbGwodGhpcyxjKTphKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7bi5ub2RlTmFtZSh0aGlzLFwiYm9keVwiKXx8bih0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSkuZW5kKCl9fSksbi5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGEpe3JldHVybiBhLm9mZnNldFdpZHRoPD0wJiZhLm9mZnNldEhlaWdodDw9MH0sbi5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hbi5leHByLmZpbHRlcnMuaGlkZGVuKGEpfTt2YXIgdmM9LyUyMC9nLHdjPS9cXFtcXF0kLyx4Yz0vXFxyP1xcbi9nLHljPS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSx6Yz0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7ZnVuY3Rpb24gQWMoYSxiLGMsZCl7dmFyIGU7aWYobi5pc0FycmF5KGIpKW4uZWFjaChiLGZ1bmN0aW9uKGIsZSl7Y3x8d2MudGVzdChhKT9kKGEsZSk6QWMoYStcIltcIisoXCJvYmplY3RcIj09dHlwZW9mIGU/YjpcIlwiKStcIl1cIixlLGMsZCl9KTtlbHNlIGlmKGN8fFwib2JqZWN0XCIhPT1uLnR5cGUoYikpZChhLGIpO2Vsc2UgZm9yKGUgaW4gYilBYyhhK1wiW1wiK2UrXCJdXCIsYltlXSxjLGQpfW4ucGFyYW09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9ZnVuY3Rpb24oYSxiKXtiPW4uaXNGdW5jdGlvbihiKT9iKCk6bnVsbD09Yj9cIlwiOmIsZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChiKX07aWYodm9pZCAwPT09YiYmKGI9bi5hamF4U2V0dGluZ3MmJm4uYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKSxuLmlzQXJyYXkoYSl8fGEuanF1ZXJ5JiYhbi5pc1BsYWluT2JqZWN0KGEpKW4uZWFjaChhLGZ1bmN0aW9uKCl7ZSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihjIGluIGEpQWMoYyxhW2NdLGIsZSk7cmV0dXJuIGQuam9pbihcIiZcIikucmVwbGFjZSh2YyxcIitcIil9LG4uZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPW4ucHJvcCh0aGlzLFwiZWxlbWVudHNcIik7cmV0dXJuIGE/bi5tYWtlQXJyYXkoYSk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBhPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhbih0aGlzKS5pcyhcIjpkaXNhYmxlZFwiKSYmemMudGVzdCh0aGlzLm5vZGVOYW1lKSYmIXljLnRlc3QoYSkmJih0aGlzLmNoZWNrZWR8fCFULnRlc3QoYSkpfSkubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9bih0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09Yz9udWxsOm4uaXNBcnJheShjKT9uLm1hcChjLGZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoeGMsXCJcXHJcXG5cIil9fSk6e25hbWU6Yi5uYW1lLHZhbHVlOmMucmVwbGFjZSh4YyxcIlxcclxcblwiKX19KS5nZXQoKX19KSxuLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaChhKXt9fTt2YXIgQmM9MCxDYz17fSxEYz17MDoyMDAsMTIyMzoyMDR9LEVjPW4uYWpheFNldHRpbmdzLnhocigpO2EuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIENjKUNjW2FdKCl9KSxrLmNvcnM9ISFFYyYmXCJ3aXRoQ3JlZGVudGlhbHNcImluIEVjLGsuYWpheD1FYz0hIUVjLG4uYWpheFRyYW5zcG9ydChmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gay5jb3JzfHxFYyYmIWEuY3Jvc3NEb21haW4/e3NlbmQ6ZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEueGhyKCksZz0rK0JjO2lmKGYub3BlbihhLnR5cGUsYS51cmwsYS5hc3luYyxhLnVzZXJuYW1lLGEucGFzc3dvcmQpLGEueGhyRmllbGRzKWZvcihlIGluIGEueGhyRmllbGRzKWZbZV09YS54aHJGaWVsZHNbZV07YS5taW1lVHlwZSYmZi5vdmVycmlkZU1pbWVUeXBlJiZmLm92ZXJyaWRlTWltZVR5cGUoYS5taW1lVHlwZSksYS5jcm9zc0RvbWFpbnx8Y1tcIlgtUmVxdWVzdGVkLVdpdGhcIl18fChjW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXT1cIlhNTEh0dHBSZXF1ZXN0XCIpO2ZvcihlIGluIGMpZi5zZXRSZXF1ZXN0SGVhZGVyKGUsY1tlXSk7Yj1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtiJiYoZGVsZXRlIENjW2ddLGI9Zi5vbmxvYWQ9Zi5vbmVycm9yPW51bGwsXCJhYm9ydFwiPT09YT9mLmFib3J0KCk6XCJlcnJvclwiPT09YT9kKGYuc3RhdHVzLGYuc3RhdHVzVGV4dCk6ZChEY1tmLnN0YXR1c118fGYuc3RhdHVzLGYuc3RhdHVzVGV4dCxcInN0cmluZ1wiPT10eXBlb2YgZi5yZXNwb25zZVRleHQ/e3RleHQ6Zi5yZXNwb25zZVRleHR9OnZvaWQgMCxmLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fSxmLm9ubG9hZD1iKCksZi5vbmVycm9yPWIoXCJlcnJvclwiKSxiPUNjW2ddPWIoXCJhYm9ydFwiKTt0cnl7Zi5zZW5kKGEuaGFzQ29udGVudCYmYS5kYXRhfHxudWxsKX1jYXRjaChoKXtpZihiKXRocm93IGh9fSxhYm9ydDpmdW5jdGlvbigpe2ImJmIoKX19OnZvaWQgMH0pLG4uYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6XCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdFwifSxjb250ZW50czp7c2NyaXB0Oi8oPzpqYXZhfGVjbWEpc2NyaXB0L30sY29udmVydGVyczp7XCJ0ZXh0IHNjcmlwdFwiOmZ1bmN0aW9uKGEpe3JldHVybiBuLmdsb2JhbEV2YWwoYSksYX19fSksbi5hamF4UHJlZmlsdGVyKFwic2NyaXB0XCIsZnVuY3Rpb24oYSl7dm9pZCAwPT09YS5jYWNoZSYmKGEuY2FjaGU9ITEpLGEuY3Jvc3NEb21haW4mJihhLnR5cGU9XCJHRVRcIil9KSxuLmFqYXhUcmFuc3BvcnQoXCJzY3JpcHRcIixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgYixjO3JldHVybntzZW5kOmZ1bmN0aW9uKGQsZSl7Yj1uKFwiPHNjcmlwdD5cIikucHJvcCh7YXN5bmM6ITAsY2hhcnNldDphLnNjcmlwdENoYXJzZXQsc3JjOmEudXJsfSkub24oXCJsb2FkIGVycm9yXCIsYz1mdW5jdGlvbihhKXtiLnJlbW92ZSgpLGM9bnVsbCxhJiZlKFwiZXJyb3JcIj09PWEudHlwZT80MDQ6MjAwLGEudHlwZSl9KSxsLmhlYWQuYXBwZW5kQ2hpbGQoYlswXSl9LGFib3J0OmZ1bmN0aW9uKCl7YyYmYygpfX19fSk7dmFyIEZjPVtdLEdjPS8oPSlcXD8oPz0mfCQpfFxcP1xcPy87bi5hamF4U2V0dXAoe2pzb25wOlwiY2FsbGJhY2tcIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9RmMucG9wKCl8fG4uZXhwYW5kbytcIl9cIitjYysrO3JldHVybiB0aGlzW2FdPSEwLGF9fSksbi5hamF4UHJlZmlsdGVyKFwianNvbiBqc29ucFwiLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGcsaD1iLmpzb25wIT09ITEmJihHYy50ZXN0KGIudXJsKT9cInVybFwiOlwic3RyaW5nXCI9PXR5cGVvZiBiLmRhdGEmJiEoYi5jb250ZW50VHlwZXx8XCJcIikuaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSYmR2MudGVzdChiLmRhdGEpJiZcImRhdGFcIik7cmV0dXJuIGh8fFwianNvbnBcIj09PWIuZGF0YVR5cGVzWzBdPyhlPWIuanNvbnBDYWxsYmFjaz1uLmlzRnVuY3Rpb24oYi5qc29ucENhbGxiYWNrKT9iLmpzb25wQ2FsbGJhY2soKTpiLmpzb25wQ2FsbGJhY2ssaD9iW2hdPWJbaF0ucmVwbGFjZShHYyxcIiQxXCIrZSk6Yi5qc29ucCE9PSExJiYoYi51cmwrPShkYy50ZXN0KGIudXJsKT9cIiZcIjpcIj9cIikrYi5qc29ucCtcIj1cIitlKSxiLmNvbnZlcnRlcnNbXCJzY3JpcHQganNvblwiXT1mdW5jdGlvbigpe3JldHVybiBnfHxuLmVycm9yKGUrXCIgd2FzIG5vdCBjYWxsZWRcIiksZ1swXX0sYi5kYXRhVHlwZXNbMF09XCJqc29uXCIsZj1hW2VdLGFbZV09ZnVuY3Rpb24oKXtnPWFyZ3VtZW50c30sZC5hbHdheXMoZnVuY3Rpb24oKXthW2VdPWYsYltlXSYmKGIuanNvbnBDYWxsYmFjaz1jLmpzb25wQ2FsbGJhY2ssRmMucHVzaChlKSksZyYmbi5pc0Z1bmN0aW9uKGYpJiZmKGdbMF0pLGc9Zj12b2lkIDB9KSxcInNjcmlwdFwiKTp2b2lkIDB9KSxuLnBhcnNlSFRNTD1mdW5jdGlvbihhLGIsYyl7aWYoIWF8fFwic3RyaW5nXCIhPXR5cGVvZiBhKXJldHVybiBudWxsO1wiYm9vbGVhblwiPT10eXBlb2YgYiYmKGM9YixiPSExKSxiPWJ8fGw7dmFyIGQ9di5leGVjKGEpLGU9IWMmJltdO3JldHVybiBkP1tiLmNyZWF0ZUVsZW1lbnQoZFsxXSldOihkPW4uYnVpbGRGcmFnbWVudChbYV0sYixlKSxlJiZlLmxlbmd0aCYmbihlKS5yZW1vdmUoKSxuLm1lcmdlKFtdLGQuY2hpbGROb2RlcykpfTt2YXIgSGM9bi5mbi5sb2FkO24uZm4ubG9hZD1mdW5jdGlvbihhLGIsYyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEmJkhjKXJldHVybiBIYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQsZSxmLGc9dGhpcyxoPWEuaW5kZXhPZihcIiBcIik7cmV0dXJuIGg+PTAmJihkPW4udHJpbShhLnNsaWNlKGgpKSxhPWEuc2xpY2UoMCxoKSksbi5pc0Z1bmN0aW9uKGIpPyhjPWIsYj12b2lkIDApOmImJlwib2JqZWN0XCI9PXR5cGVvZiBiJiYoZT1cIlBPU1RcIiksZy5sZW5ndGg+MCYmbi5hamF4KHt1cmw6YSx0eXBlOmUsZGF0YVR5cGU6XCJodG1sXCIsZGF0YTpifSkuZG9uZShmdW5jdGlvbihhKXtmPWFyZ3VtZW50cyxnLmh0bWwoZD9uKFwiPGRpdj5cIikuYXBwZW5kKG4ucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuY29tcGxldGUoYyYmZnVuY3Rpb24oYSxiKXtnLmVhY2goYyxmfHxbYS5yZXNwb25zZVRleHQsYixhXSl9KSx0aGlzfSxuLmVhY2goW1wiYWpheFN0YXJ0XCIsXCJhamF4U3RvcFwiLFwiYWpheENvbXBsZXRlXCIsXCJhamF4RXJyb3JcIixcImFqYXhTdWNjZXNzXCIsXCJhamF4U2VuZFwiXSxmdW5jdGlvbihhLGIpe24uZm5bYl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub24oYixhKX19KSxuLmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihhKXtyZXR1cm4gbi5ncmVwKG4udGltZXJzLGZ1bmN0aW9uKGIpe3JldHVybiBhPT09Yi5lbGVtfSkubGVuZ3RofTt2YXIgSWM9YS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7ZnVuY3Rpb24gSmMoYSl7cmV0dXJuIG4uaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZSYmYS5kZWZhdWx0Vmlld31uLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPW4uY3NzKGEsXCJwb3NpdGlvblwiKSxsPW4oYSksbT17fTtcInN0YXRpY1wiPT09ayYmKGEuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiKSxoPWwub2Zmc2V0KCksZj1uLmNzcyhhLFwidG9wXCIpLGk9bi5jc3MoYSxcImxlZnRcIiksaj0oXCJhYnNvbHV0ZVwiPT09a3x8XCJmaXhlZFwiPT09aykmJihmK2kpLmluZGV4T2YoXCJhdXRvXCIpPi0xLGo/KGQ9bC5wb3NpdGlvbigpLGc9ZC50b3AsZT1kLmxlZnQpOihnPXBhcnNlRmxvYXQoZil8fDAsZT1wYXJzZUZsb2F0KGkpfHwwKSxuLmlzRnVuY3Rpb24oYikmJihiPWIuY2FsbChhLGMsaCkpLG51bGwhPWIudG9wJiYobS50b3A9Yi50b3AtaC50b3ArZyksbnVsbCE9Yi5sZWZ0JiYobS5sZWZ0PWIubGVmdC1oLmxlZnQrZSksXCJ1c2luZ1wiaW4gYj9iLnVzaW5nLmNhbGwoYSxtKTpsLmNzcyhtKX19LG4uZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09YT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihiKXtuLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGIpfSk7dmFyIGIsYyxkPXRoaXNbMF0sZT17dG9wOjAsbGVmdDowfSxmPWQmJmQub3duZXJEb2N1bWVudDtpZihmKXJldHVybiBiPWYuZG9jdW1lbnRFbGVtZW50LG4uY29udGFpbnMoYixkKT8odHlwZW9mIGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0IT09VSYmKGU9ZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksYz1KYyhmKSx7dG9wOmUudG9wK2MucGFnZVlPZmZzZXQtYi5jbGllbnRUb3AsbGVmdDplLmxlZnQrYy5wYWdlWE9mZnNldC1iLmNsaWVudExlZnR9KTplfSxwb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXNbMF0pe3ZhciBhLGIsYz10aGlzWzBdLGQ9e3RvcDowLGxlZnQ6MH07cmV0dXJuXCJmaXhlZFwiPT09bi5jc3MoYyxcInBvc2l0aW9uXCIpP2I9Yy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTooYT10aGlzLm9mZnNldFBhcmVudCgpLGI9dGhpcy5vZmZzZXQoKSxuLm5vZGVOYW1lKGFbMF0sXCJodG1sXCIpfHwoZD1hLm9mZnNldCgpKSxkLnRvcCs9bi5jc3MoYVswXSxcImJvcmRlclRvcFdpZHRoXCIsITApLGQubGVmdCs9bi5jc3MoYVswXSxcImJvcmRlckxlZnRXaWR0aFwiLCEwKSkse3RvcDpiLnRvcC1kLnRvcC1uLmNzcyhjLFwibWFyZ2luVG9wXCIsITApLGxlZnQ6Yi5sZWZ0LWQubGVmdC1uLmNzcyhjLFwibWFyZ2luTGVmdFwiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudHx8SWM7d2hpbGUoYSYmIW4ubm9kZU5hbWUoYSxcImh0bWxcIikmJlwic3RhdGljXCI9PT1uLmNzcyhhLFwicG9zaXRpb25cIikpYT1hLm9mZnNldFBhcmVudDtyZXR1cm4gYXx8SWN9KX19KSxuLmVhY2goe3Njcm9sbExlZnQ6XCJwYWdlWE9mZnNldFwiLHNjcm9sbFRvcDpcInBhZ2VZT2Zmc2V0XCJ9LGZ1bmN0aW9uKGIsYyl7dmFyIGQ9XCJwYWdlWU9mZnNldFwiPT09YztuLmZuW2JdPWZ1bmN0aW9uKGUpe3JldHVybiBKKHRoaXMsZnVuY3Rpb24oYixlLGYpe3ZhciBnPUpjKGIpO3JldHVybiB2b2lkIDA9PT1mP2c/Z1tjXTpiW2VdOnZvaWQoZz9nLnNjcm9sbFRvKGQ/YS5wYWdlWE9mZnNldDpmLGQ/ZjphLnBhZ2VZT2Zmc2V0KTpiW2VdPWYpfSxiLGUsYXJndW1lbnRzLmxlbmd0aCxudWxsKX19KSxuLmVhY2goW1widG9wXCIsXCJsZWZ0XCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT15YihrLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz8oYz14YihhLGIpLHZiLnRlc3QoYyk/bihhKS5wb3NpdGlvbigpW2JdK1wicHhcIjpjKTp2b2lkIDB9KX0pLG4uZWFjaCh7SGVpZ2h0OlwiaGVpZ2h0XCIsV2lkdGg6XCJ3aWR0aFwifSxmdW5jdGlvbihhLGIpe24uZWFjaCh7cGFkZGluZzpcImlubmVyXCIrYSxjb250ZW50OmIsXCJcIjpcIm91dGVyXCIrYX0sZnVuY3Rpb24oYyxkKXtuLmZuW2RdPWZ1bmN0aW9uKGQsZSl7dmFyIGY9YXJndW1lbnRzLmxlbmd0aCYmKGN8fFwiYm9vbGVhblwiIT10eXBlb2YgZCksZz1jfHwoZD09PSEwfHxlPT09ITA/XCJtYXJnaW5cIjpcImJvcmRlclwiKTtyZXR1cm4gSih0aGlzLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZTtyZXR1cm4gbi5pc1dpbmRvdyhiKT9iLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtcImNsaWVudFwiK2FdOjk9PT1iLm5vZGVUeXBlPyhlPWIuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGIuYm9keVtcInNjcm9sbFwiK2FdLGVbXCJzY3JvbGxcIithXSxiLmJvZHlbXCJvZmZzZXRcIithXSxlW1wib2Zmc2V0XCIrYV0sZVtcImNsaWVudFwiK2FdKSk6dm9pZCAwPT09ZD9uLmNzcyhiLGMsZyk6bi5zdHlsZShiLGMsZCxnKX0sYixmP2Q6dm9pZCAwLGYsbnVsbCl9fSl9KSxuLmZuLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LG4uZm4uYW5kU2VsZj1uLmZuLmFkZEJhY2ssXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoXCJqcXVlcnlcIixbXSxmdW5jdGlvbigpe3JldHVybiBufSk7dmFyIEtjPWEualF1ZXJ5LExjPWEuJDtyZXR1cm4gbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKGIpe3JldHVybiBhLiQ9PT1uJiYoYS4kPUxjKSxiJiZhLmpRdWVyeT09PW4mJihhLmpRdWVyeT1LYyksbn0sdHlwZW9mIGI9PT1VJiYoYS5qUXVlcnk9YS4kPW4pLG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpxdWVyeS5taW4ubWFwIiwiLyogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgT3BlbiBUZWNobm9sb2dpZXMsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uKi9cbihmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2Zvcih2YXIgYj1hLmxlbmd0aCxjPW5ldyBBcnJheShiKSxkPTA7Yj5kO2QrKyljW2RdPWFbZF07cmV0dXJuIGN9ZnVuY3Rpb24gYyhhLGIpe2lmKGxhJiZiLnN0YWNrJiZcIm9iamVjdFwiPT10eXBlb2YgYSYmbnVsbCE9PWEmJmEuc3RhY2smJi0xPT09YS5zdGFjay5pbmRleE9mKHBhKSl7Zm9yKHZhciBjPVtdLGU9YjtlO2U9ZS5zb3VyY2UpZS5zdGFjayYmYy51bnNoaWZ0KGUuc3RhY2spO2MudW5zaGlmdChhLnN0YWNrKTt2YXIgZj1jLmpvaW4oXCJcXG5cIitwYStcIlxcblwiKTthLnN0YWNrPWQoZil9fWZ1bmN0aW9uIGQoYSl7Zm9yKHZhciBiPWEuc3BsaXQoXCJcXG5cIiksYz1bXSxkPTAsZz1iLmxlbmd0aDtnPmQ7ZCsrKXt2YXIgaD1iW2RdO2UoaCl8fGYoaCl8fCFofHxjLnB1c2goaCl9cmV0dXJuIGMuam9pbihcIlxcblwiKX1mdW5jdGlvbiBlKGEpe3ZhciBiPWgoYSk7aWYoIWIpcmV0dXJuITE7dmFyIGM9YlswXSxkPWJbMV07cmV0dXJuIGM9PT1uYSYmZD49b2EmJkljPj1kfWZ1bmN0aW9uIGYoYSl7cmV0dXJuLTEhPT1hLmluZGV4T2YoXCIobW9kdWxlLmpzOlwiKXx8LTEhPT1hLmluZGV4T2YoXCIobm9kZS5qczpcIil9ZnVuY3Rpb24gZygpe2lmKGxhKXRyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2goYSl7dmFyIGI9YS5zdGFjay5zcGxpdChcIlxcblwiKSxjPWJbMF0uaW5kZXhPZihcIkBcIik+MD9iWzFdOmJbMl0sZD1oKGMpO2lmKCFkKXJldHVybjtyZXR1cm4gbmE9ZFswXSxkWzFdfX1mdW5jdGlvbiBoKGEpe3ZhciBiPS9hdCAuKyBcXCgoLispOihcXGQrKTooPzpcXGQrKVxcKSQvLmV4ZWMoYSk7aWYoYilyZXR1cm5bYlsxXSxOdW1iZXIoYlsyXSldO3ZhciBjPS9hdCAoW14gXSspOihcXGQrKTooPzpcXGQrKSQvLmV4ZWMoYSk7aWYoYylyZXR1cm5bY1sxXSxOdW1iZXIoY1syXSldO3ZhciBkPS8uKkAoLispOihcXGQrKSQvLmV4ZWMoYSk7cmV0dXJuIGQ/W2RbMV0sTnVtYmVyKGRbMl0pXTp2b2lkIDB9ZnVuY3Rpb24gaShhKXt2YXIgYj1bXTtpZighWWEoYSkpcmV0dXJuIGI7WGEubm9uRW51bUFyZ3MmJmEubGVuZ3RoJiZaYShhKSYmKGE9YmIuY2FsbChhKSk7dmFyIGM9WGEuZW51bVByb3RvdHlwZXMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEsZD1YYS5lbnVtRXJyb3JQcm9wcyYmKGE9PT1TYXx8YSBpbnN0YW5jZW9mIEVycm9yKTtmb3IodmFyIGUgaW4gYSljJiZcInByb3RvdHlwZVwiPT1lfHxkJiYoXCJtZXNzYWdlXCI9PWV8fFwibmFtZVwiPT1lKXx8Yi5wdXNoKGUpO2lmKFhhLm5vbkVudW1TaGFkb3dzJiZhIT09VGEpe3ZhciBmPWEuY29uc3RydWN0b3IsZz0tMSxoPUVhO2lmKGE9PT0oZiYmZi5wcm90b3R5cGUpKXZhciBpPWE9PT1VYT9PYTphPT09U2E/SmE6UGEuY2FsbChhKSxqPVdhW2ldO2Zvcig7KytnPGg7KWU9RGFbZ10saiYmaltlXXx8IVFhLmNhbGwoYSxlKXx8Yi5wdXNoKGUpfXJldHVybiBifWZ1bmN0aW9uIGooYSxiLGMpe2Zvcih2YXIgZD0tMSxlPWMoYSksZj1lLmxlbmd0aDsrK2Q8Zjspe3ZhciBnPWVbZF07aWYoYihhW2ddLGcsYSk9PT0hMSlicmVha31yZXR1cm4gYX1mdW5jdGlvbiBrKGEsYil7cmV0dXJuIGooYSxiLGkpfWZ1bmN0aW9uIGwoYSl7cmV0dXJuXCJmdW5jdGlvblwiIT10eXBlb2YgYS50b1N0cmluZyYmXCJzdHJpbmdcIj09dHlwZW9mKGErXCJcIil9ZnVuY3Rpb24gbShhLGIsYyxkKXtpZihhPT09YilyZXR1cm4gMCE9PWF8fDEvYT09MS9iO3ZhciBlPXR5cGVvZiBhLGY9dHlwZW9mIGI7aWYoYT09PWEmJihudWxsPT1hfHxudWxsPT1ifHxcImZ1bmN0aW9uXCIhPWUmJlwib2JqZWN0XCIhPWUmJlwiZnVuY3Rpb25cIiE9ZiYmXCJvYmplY3RcIiE9ZikpcmV0dXJuITE7dmFyIGc9UGEuY2FsbChhKSxoPVBhLmNhbGwoYik7aWYoZz09RmEmJihnPU1hKSxoPT1GYSYmKGg9TWEpLGchPWgpcmV0dXJuITE7c3dpdGNoKGcpe2Nhc2UgSGE6Y2FzZSBJYTpyZXR1cm4rYT09K2I7Y2FzZSBMYTpyZXR1cm4gYSE9K2E/YiE9K2I6MD09YT8xL2E9PTEvYjphPT0rYjtjYXNlIE5hOmNhc2UgT2E6cmV0dXJuIGE9PVN0cmluZyhiKX12YXIgaT1nPT1HYTtpZighaSl7aWYoZyE9TWF8fCFYYS5ub2RlQ2xhc3MmJihsKGEpfHxsKGIpKSlyZXR1cm4hMTt2YXIgaj0hWGEuYXJnc09iamVjdCYmWmEoYSk/T2JqZWN0OmEuY29uc3RydWN0b3Isbj0hWGEuYXJnc09iamVjdCYmWmEoYik/T2JqZWN0OmIuY29uc3RydWN0b3I7aWYoIShqPT1ufHxRYS5jYWxsKGEsXCJjb25zdHJ1Y3RvclwiKSYmUWEuY2FsbChiLFwiY29uc3RydWN0b3JcIil8fGthKGopJiZqIGluc3RhbmNlb2YgaiYma2EobikmJm4gaW5zdGFuY2VvZiBufHwhKFwiY29uc3RydWN0b3JcImluIGEmJlwiY29uc3RydWN0b3JcImluIGIpKSlyZXR1cm4hMX1jfHwoYz1bXSksZHx8KGQ9W10pO2Zvcih2YXIgbz1jLmxlbmd0aDtvLS07KWlmKGNbb109PWEpcmV0dXJuIGRbb109PWI7dmFyIHA9MCxxPSEwO2lmKGMucHVzaChhKSxkLnB1c2goYiksaSl7aWYobz1hLmxlbmd0aCxwPWIubGVuZ3RoLHE9cD09bylmb3IoO3AtLTspe3ZhciByPWJbcF07aWYoIShxPW0oYVtwXSxyLGMsZCkpKWJyZWFrfX1lbHNlIGsoYixmdW5jdGlvbihiLGUsZil7cmV0dXJuIFFhLmNhbGwoZixlKT8ocCsrLHE9UWEuY2FsbChhLGUpJiZtKGFbZV0sYixjLGQpKTp2b2lkIDB9KSxxJiZrKGEsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBRYS5jYWxsKGMsYik/cT0tLXA+LTE6dm9pZCAwfSk7cmV0dXJuIGMucG9wKCksZC5wb3AoKSxxfWZ1bmN0aW9uIG4oKXt0cnl7cmV0dXJuICRhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1jYXRjaChhKXtyZXR1cm4gYWIuZT1hLGFifX1mdW5jdGlvbiBvKGEpe2lmKCFrYShhKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZm4gbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3JldHVybiAkYT1hLG59ZnVuY3Rpb24gcChhKXt0aHJvdyBhfWZ1bmN0aW9uIHEoYSxiKXtmb3IodmFyIGM9bmV3IEFycmF5KGEpLGQ9MDthPmQ7ZCsrKWNbZF09YigpO3JldHVybiBjfWZ1bmN0aW9uIHIoYSxiKXt0aGlzLmlkPWEsdGhpcy52YWx1ZT1ifWZ1bmN0aW9uIHQoYSl7dGhpcy5vYnNlcnZlcj1hLHRoaXMuYT1bXSx0aGlzLmlzU3RvcHBlZD0hMX1mdW5jdGlvbiB1KCl7dGhpcy5fcz1zfWZ1bmN0aW9uIHYoKXt0aGlzLl9zPXMsdGhpcy5fbD1zLmxlbmd0aCx0aGlzLl9pPTB9ZnVuY3Rpb24gdyhhKXt0aGlzLl9hPWF9ZnVuY3Rpb24geChhKXt0aGlzLl9hPWEsdGhpcy5fbD1CKGEpLHRoaXMuX2k9MH1mdW5jdGlvbiB5KGEpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBhJiZaLmlzRmluaXRlKGEpfWZ1bmN0aW9uIHooYil7dmFyIGMsZD1iW3hhXTtpZighZCYmXCJzdHJpbmdcIj09dHlwZW9mIGIpcmV0dXJuIGM9bmV3IHUoYiksY1t4YV0oKTtpZighZCYmYi5sZW5ndGghPT1hKXJldHVybiBjPW5ldyB3KGIpLGNbeGFdKCk7aWYoIWQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBpcyBub3QgaXRlcmFibGVcIik7cmV0dXJuIGJbeGFdKCl9ZnVuY3Rpb24gQShhKXt2YXIgYj0rYTtyZXR1cm4gMD09PWI/Yjppc05hTihiKT9iOjA+Yj8tMToxfWZ1bmN0aW9uIEIoYSl7dmFyIGI9K2EubGVuZ3RoO3JldHVybiBpc05hTihiKT8wOjAhPT1iJiZ5KGIpPyhiPUEoYikqTWF0aC5mbG9vcihNYXRoLmFicyhiKSksMD49Yj8wOmI+WGI/WGI6Yik6Yn1mdW5jdGlvbiBDKGEsYil7dGhpcy5vYnNlcnZlcj1hLHRoaXMucGFyZW50PWJ9ZnVuY3Rpb24gRChhLGIpe3JldHVybiBzYihhKXx8KGE9d2IpLG5ldyBaYihiLGEpfWZ1bmN0aW9uIEUoYSxiKXt0aGlzLm9ic2VydmVyPWEsdGhpcy5wYXJlbnQ9Yn1mdW5jdGlvbiBGKGEsYil7dGhpcy5vYnNlcnZlcj1hLHRoaXMucGFyZW50PWJ9ZnVuY3Rpb24gRyhhLGIpe3JldHVybiBuZXcgQWMoZnVuY3Rpb24oYyl7dmFyIGQ9bmV3IG5iLGU9bmV3IG9iO3JldHVybiBlLnNldERpc3Bvc2FibGUoZCksZC5zZXREaXNwb3NhYmxlKGEuc3Vic2NyaWJlKGZ1bmN0aW9uKGEpe2Mub25OZXh0KGEpfSxmdW5jdGlvbihhKXt0cnl7dmFyIGQ9YihhKX1jYXRjaChmKXtyZXR1cm4gYy5vbkVycm9yKGYpfWphKGQpJiYoZD10YyhkKSk7dmFyIGc9bmV3IG5iO2Uuc2V0RGlzcG9zYWJsZShnKSxnLnNldERpc3Bvc2FibGUoZC5zdWJzY3JpYmUoYykpfSxmdW5jdGlvbihhKXtjLm9uQ29tcGxldGVkKGEpfSkpLGV9LGEpfWZ1bmN0aW9uIEgoYSxiKXt2YXIgYz10aGlzO3JldHVybiBuZXcgQWMoZnVuY3Rpb24oZCl7dmFyIGU9MCxmPWEubGVuZ3RoO3JldHVybiBjLnN1YnNjcmliZShmdW5jdGlvbihjKXtpZihmPmUpe3ZhciBnLGg9YVtlKytdO3RyeXtnPWIoYyxoKX1jYXRjaChpKXtyZXR1cm4gZC5vbkVycm9yKGkpfWQub25OZXh0KGcpfWVsc2UgZC5vbkNvbXBsZXRlZCgpfSxmdW5jdGlvbihhKXtkLm9uRXJyb3IoYSl9LGZ1bmN0aW9uKCl7ZC5vbkNvbXBsZXRlZCgpfSl9LGMpfWZ1bmN0aW9uIEkoKXtyZXR1cm4hMX1mdW5jdGlvbiBKKCl7cmV0dXJuW119ZnVuY3Rpb24gSyhhLGIsYyl7dmFyIGQ9Q2EoYixjLDMpO3JldHVybiBhLm1hcChmdW5jdGlvbihiLGMpe3ZhciBlPWQoYixjLGEpO3JldHVybiBqYShlKSYmKGU9dGMoZSkpLChBYShlKXx8emEoZSkpJiYoZT1ZYihlKSksZX0pLmNvbmNhdEFsbCgpfWZ1bmN0aW9uIEwoYSxiLGMpe3RoaXMub2JzZXJ2ZXI9YSx0aGlzLnNlbGVjdG9yPWIsdGhpcy5zb3VyY2U9Yyx0aGlzLmk9MCx0aGlzLmlzU3RvcHBlZD0hMX1mdW5jdGlvbiBNKGEsYixjKXt2YXIgZD1DYShiLGMsMyk7cmV0dXJuIGEubWFwKGZ1bmN0aW9uKGIsYyl7dmFyIGU9ZChiLGMsYSk7cmV0dXJuIGphKGUpJiYoZT10YyhlKSksKEFhKGUpfHx6YShlKSkmJihlPVliKGUpKSxlfSkubWVyZ2VBbGwoKX1mdW5jdGlvbiBOKGEsYixjKXt0aGlzLm9ic2VydmVyPWEsdGhpcy5wcmVkaWNhdGU9Yix0aGlzLnNvdXJjZT1jLHRoaXMuaT0wLHRoaXMuaXNTdG9wcGVkPSExfWZ1bmN0aW9uIE8oYSxiLGMpe2lmKGEuYWRkRXZlbnRMaXN0ZW5lcilyZXR1cm4gYS5hZGRFdmVudExpc3RlbmVyKGIsYywhMSksamIoZnVuY3Rpb24oKXthLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixjLCExKX0pO3Rocm93IG5ldyBFcnJvcihcIk5vIGxpc3RlbmVyIGZvdW5kXCIpfWZ1bmN0aW9uIFAoYSxiLGMpe3ZhciBkPW5ldyBnYjtpZihcIltvYmplY3QgTm9kZUxpc3RdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkpZm9yKHZhciBlPTAsZj1hLmxlbmd0aDtmPmU7ZSsrKWQuYWRkKFAoYS5pdGVtKGUpLGIsYykpO2Vsc2UgYSYmZC5hZGQoTyhhLGIsYykpO3JldHVybiBkfWZ1bmN0aW9uIFEoYSxiKXtyZXR1cm4gbmV3IEFjKGZ1bmN0aW9uKGMpe3JldHVybiBiLnNjaGVkdWxlV2l0aEFic29sdXRlKGEsZnVuY3Rpb24oKXtjLm9uTmV4dCgwKSxjLm9uQ29tcGxldGVkKCl9KX0pfWZ1bmN0aW9uIFIoYSxiLGMpe3JldHVybiBuZXcgQWMoZnVuY3Rpb24oZCl7dmFyIGU9YSxmPXJiKGIpO3JldHVybiBjLnNjaGVkdWxlUmVjdXJzaXZlV2l0aEFic29sdXRlQW5kU3RhdGUoMCxlLGZ1bmN0aW9uKGEsYil7aWYoZj4wKXt2YXIgZz1jLm5vdygpO2UrPWYsZz49ZSYmKGU9ZytmKX1kLm9uTmV4dChhKSxiKGErMSxlKX0pfSl9ZnVuY3Rpb24gUyhhLGIpe3JldHVybiBuZXcgQWMoZnVuY3Rpb24oYyl7cmV0dXJuIGIuc2NoZWR1bGVXaXRoUmVsYXRpdmUocmIoYSksZnVuY3Rpb24oKXtjLm9uTmV4dCgwKSxjLm9uQ29tcGxldGVkKCl9KX0pfWZ1bmN0aW9uIFQoYSxiLGMpe3JldHVybiBhPT09Yj9uZXcgQWMoZnVuY3Rpb24oYSl7cmV0dXJuIGMuc2NoZWR1bGVQZXJpb2RpY1dpdGhTdGF0ZSgwLGIsZnVuY3Rpb24oYil7cmV0dXJuIGEub25OZXh0KGIpLGIrMX0pfSk6U2IoZnVuY3Rpb24oKXtyZXR1cm4gUihjLm5vdygpK2EsYixjKX0pfWZ1bmN0aW9uIFUoYSxiLGMpe3JldHVybiBuZXcgQWMoZnVuY3Rpb24oZCl7dmFyIGUsZj0hMSxnPW5ldyBvYixoPW51bGwsaT1bXSxqPSExO3JldHVybiBlPWEubWF0ZXJpYWxpemUoKS50aW1lc3RhbXAoYykuc3Vic2NyaWJlKGZ1bmN0aW9uKGEpe3ZhciBlLGs7XCJFXCI9PT1hLnZhbHVlLmtpbmQ/KGk9W10saS5wdXNoKGEpLGg9YS52YWx1ZS5leGNlcHRpb24saz0haik6KGkucHVzaCh7dmFsdWU6YS52YWx1ZSx0aW1lc3RhbXA6YS50aW1lc3RhbXArYn0pLGs9IWYsZj0hMCksayYmKG51bGwhPT1oP2Qub25FcnJvcihoKTooZT1uZXcgbmIsZy5zZXREaXNwb3NhYmxlKGUpLGUuc2V0RGlzcG9zYWJsZShjLnNjaGVkdWxlUmVjdXJzaXZlV2l0aFJlbGF0aXZlKGIsZnVuY3Rpb24oYSl7dmFyIGIsZSxnLGs7aWYobnVsbD09PWgpe2o9ITA7ZG8gZz1udWxsLGkubGVuZ3RoPjAmJmlbMF0udGltZXN0YW1wLWMubm93KCk8PTAmJihnPWkuc2hpZnQoKS52YWx1ZSksbnVsbCE9PWcmJmcuYWNjZXB0KGQpO3doaWxlKG51bGwhPT1nKTtrPSExLGU9MCxpLmxlbmd0aD4wPyhrPSEwLGU9TWF0aC5tYXgoMCxpWzBdLnRpbWVzdGFtcC1jLm5vdygpKSk6Zj0hMSxiPWgsaj0hMSxudWxsIT09Yj9kLm9uRXJyb3IoYik6ayYmYShlKX19KSkpKX0pLG5ldyBnYihlLGcpfSxhKX1mdW5jdGlvbiBWKGEsYixjKXtyZXR1cm4gU2IoZnVuY3Rpb24oKXtyZXR1cm4gVShhLGItYy5ub3coKSxjKX0pfWZ1bmN0aW9uIFcoYSxiKXtyZXR1cm4gbmV3IEFjKGZ1bmN0aW9uKGMpe2Z1bmN0aW9uIGQoKXtnJiYoZz0hMSxjLm9uTmV4dChmKSksZSYmYy5vbkNvbXBsZXRlZCgpfXZhciBlLGYsZztyZXR1cm4gbmV3IGdiKGEuc3Vic2NyaWJlKGZ1bmN0aW9uKGEpe2c9ITAsZj1hfSxjLm9uRXJyb3IuYmluZChjKSxmdW5jdGlvbigpe2U9ITB9KSxiLnN1YnNjcmliZShkLGMub25FcnJvci5iaW5kKGMpLGQpKX0sYSl9ZnVuY3Rpb24gWChhLGIsYyl7cmV0dXJuIG5ldyBBYyhmdW5jdGlvbihkKXtmdW5jdGlvbiBlKGEsYil7altiXT1hO3ZhciBlO2lmKGdbYl09ITAsaHx8KGg9Zy5ldmVyeShlYSkpKXtpZihmKXJldHVybiB2b2lkIGQub25FcnJvcihmKTt0cnl7ZT1jLmFwcGx5KG51bGwsail9Y2F0Y2goayl7cmV0dXJuIHZvaWQgZC5vbkVycm9yKGspfWQub25OZXh0KGUpfWkmJmpbMV0mJmQub25Db21wbGV0ZWQoKX12YXIgZixnPVshMSwhMV0saD0hMSxpPSExLGo9bmV3IEFycmF5KDIpO3JldHVybiBuZXcgZ2IoYS5zdWJzY3JpYmUoZnVuY3Rpb24oYSl7ZShhLDApfSxmdW5jdGlvbihhKXtqWzFdP2Qub25FcnJvcihhKTpmPWF9LGZ1bmN0aW9uKCl7aT0hMCxqWzFdJiZkLm9uQ29tcGxldGVkKCl9KSxiLnN1YnNjcmliZShmdW5jdGlvbihhKXtlKGEsMSl9LGZ1bmN0aW9uKGEpe2Qub25FcnJvcihhKX0sZnVuY3Rpb24oKXtpPSEwLGUoITAsMSl9KSl9LGEpfXZhciBZPXtcImJvb2xlYW5cIjohMSxcImZ1bmN0aW9uXCI6ITAsb2JqZWN0OiEwLG51bWJlcjohMSxzdHJpbmc6ITEsdW5kZWZpbmVkOiExfSxaPVlbdHlwZW9mIHdpbmRvd10mJndpbmRvd3x8dGhpcywkPVlbdHlwZW9mIGV4cG9ydHNdJiZleHBvcnRzJiYhZXhwb3J0cy5ub2RlVHlwZSYmZXhwb3J0cyxfPVlbdHlwZW9mIG1vZHVsZV0mJm1vZHVsZSYmIW1vZHVsZS5ub2RlVHlwZSYmbW9kdWxlLGFhPV8mJl8uZXhwb3J0cz09PSQmJiQsYmE9WVt0eXBlb2YgZ2xvYmFsXSYmZ2xvYmFsOyFiYXx8YmEuZ2xvYmFsIT09YmEmJmJhLndpbmRvdyE9PWJhfHwoWj1iYSk7dmFyIGNhPXtpbnRlcm5hbHM6e30sY29uZmlnOntQcm9taXNlOlouUHJvbWlzZX0saGVscGVyczp7fX0sZGE9Y2EuaGVscGVycy5ub29wPWZ1bmN0aW9uKCl7fSxlYT0oY2EuaGVscGVycy5ub3REZWZpbmVkPWZ1bmN0aW9uKGEpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBhfSxjYS5oZWxwZXJzLmlkZW50aXR5PWZ1bmN0aW9uKGEpe3JldHVybiBhfSksZmE9KGNhLmhlbHBlcnMucGx1Y2s9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBiW2FdfX0sY2EuaGVscGVycy5qdXN0PWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhfX0sY2EuaGVscGVycy5kZWZhdWx0Tm93PURhdGUubm93KSxnYT1jYS5oZWxwZXJzLmRlZmF1bHRDb21wYXJlcj1mdW5jdGlvbihhLGIpe3JldHVybiBfYShhLGIpfSxoYT1jYS5oZWxwZXJzLmRlZmF1bHRTdWJDb21wYXJlcj1mdW5jdGlvbihhLGIpe3JldHVybiBhPmI/MTpiPmE/LTE6MH0saWE9KGNhLmhlbHBlcnMuZGVmYXVsdEtleVNlcmlhbGl6ZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9TdHJpbmcoKX0sY2EuaGVscGVycy5kZWZhdWx0RXJyb3I9ZnVuY3Rpb24oYSl7dGhyb3cgYX0pLGphPWNhLmhlbHBlcnMuaXNQcm9taXNlPWZ1bmN0aW9uKGEpe3JldHVybiEhYSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS50aGVufSxrYT0oY2EuaGVscGVycy5hc0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyl9LGNhLmhlbHBlcnMubm90PWZ1bmN0aW9uKGEpe3JldHVybiFhfSxjYS5oZWxwZXJzLmlzRnVuY3Rpb249ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBhfHwhMX07cmV0dXJuIGEoL3gvKSYmKGE9ZnVuY3Rpb24oYSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYSYmXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT1QYS5jYWxsKGEpfSksYX0oKSk7Y2EuY29uZmlnLmxvbmdTdGFja1N1cHBvcnQ9ITE7dmFyIGxhPSExO3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2gobWEpe2xhPSEhbWEuc3RhY2t9dmFyIG5hLG9hPWcoKSxwYT1cIkZyb20gcHJldmlvdXMgZXZlbnQ6XCIscWE9Y2EuRW1wdHlFcnJvcj1mdW5jdGlvbigpe3RoaXMubWVzc2FnZT1cIlNlcXVlbmNlIGNvbnRhaW5zIG5vIGVsZW1lbnRzLlwiLEVycm9yLmNhbGwodGhpcyl9O3FhLnByb3RvdHlwZT1FcnJvci5wcm90b3R5cGU7dmFyIHJhPWNhLk9iamVjdERpc3Bvc2VkRXJyb3I9ZnVuY3Rpb24oKXt0aGlzLm1lc3NhZ2U9XCJPYmplY3QgaGFzIGJlZW4gZGlzcG9zZWRcIixFcnJvci5jYWxsKHRoaXMpfTtyYS5wcm90b3R5cGU9RXJyb3IucHJvdG90eXBlO3ZhciBzYT1jYS5Bcmd1bWVudE91dE9mUmFuZ2VFcnJvcj1mdW5jdGlvbigpe3RoaXMubWVzc2FnZT1cIkFyZ3VtZW50IG91dCBvZiByYW5nZVwiLEVycm9yLmNhbGwodGhpcyl9O3NhLnByb3RvdHlwZT1FcnJvci5wcm90b3R5cGU7dmFyIHRhPWNhLk5vdFN1cHBvcnRlZEVycm9yPWZ1bmN0aW9uKGEpe3RoaXMubWVzc2FnZT1hfHxcIlRoaXMgb3BlcmF0aW9uIGlzIG5vdCBzdXBwb3J0ZWRcIixFcnJvci5jYWxsKHRoaXMpfTt0YS5wcm90b3R5cGU9RXJyb3IucHJvdG90eXBlO3ZhciB1YT1jYS5Ob3RJbXBsZW1lbnRlZEVycm9yPWZ1bmN0aW9uKGEpe3RoaXMubWVzc2FnZT1hfHxcIlRoaXMgb3BlcmF0aW9uIGlzIG5vdCBpbXBsZW1lbnRlZFwiLEVycm9yLmNhbGwodGhpcyl9O3VhLnByb3RvdHlwZT1FcnJvci5wcm90b3R5cGU7dmFyIHZhPWNhLmhlbHBlcnMubm90SW1wbGVtZW50ZWQ9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgdWF9LHdhPWNhLmhlbHBlcnMubm90U3VwcG9ydGVkPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IHRhfSx4YT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcnx8XCJfZXM2c2hpbV9pdGVyYXRvcl9cIjtaLlNldCYmXCJmdW5jdGlvblwiPT10eXBlb2YobmV3IFouU2V0KVtcIkBAaXRlcmF0b3JcIl0mJih4YT1cIkBAaXRlcmF0b3JcIik7dmFyIHlhPWNhLmRvbmVFbnVtZXJhdG9yPXtkb25lOiEwLHZhbHVlOmF9LHphPWNhLmhlbHBlcnMuaXNJdGVyYWJsZT1mdW5jdGlvbihiKXtyZXR1cm4gYlt4YV0hPT1hfSxBYT1jYS5oZWxwZXJzLmlzQXJyYXlMaWtlPWZ1bmN0aW9uKGIpe3JldHVybiBiJiZiLmxlbmd0aCE9PWF9O2NhLmhlbHBlcnMuaXRlcmF0b3I9eGE7dmFyIEJhLENhPWNhLmludGVybmFscy5iaW5kQ2FsbGJhY2s9ZnVuY3Rpb24oYSxiLGMpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBiKXJldHVybiBhO3N3aXRjaChjKXtjYXNlIDA6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuY2FsbChiKX07Y2FzZSAxOnJldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gYS5jYWxsKGIsYyl9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24oYyxkKXtyZXR1cm4gYS5jYWxsKGIsYyxkKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihjLGQsZSl7cmV0dXJuIGEuY2FsbChiLGMsZCxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYixhcmd1bWVudHMpfX0sRGE9W1widG9TdHJpbmdcIixcInRvTG9jYWxlU3RyaW5nXCIsXCJ2YWx1ZU9mXCIsXCJoYXNPd25Qcm9wZXJ0eVwiLFwiaXNQcm90b3R5cGVPZlwiLFwicHJvcGVydHlJc0VudW1lcmFibGVcIixcImNvbnN0cnVjdG9yXCJdLEVhPURhLmxlbmd0aCxGYT1cIltvYmplY3QgQXJndW1lbnRzXVwiLEdhPVwiW29iamVjdCBBcnJheV1cIixIYT1cIltvYmplY3QgQm9vbGVhbl1cIixJYT1cIltvYmplY3QgRGF0ZV1cIixKYT1cIltvYmplY3QgRXJyb3JdXCIsS2E9XCJbb2JqZWN0IEZ1bmN0aW9uXVwiLExhPVwiW29iamVjdCBOdW1iZXJdXCIsTWE9XCJbb2JqZWN0IE9iamVjdF1cIixOYT1cIltvYmplY3QgUmVnRXhwXVwiLE9hPVwiW29iamVjdCBTdHJpbmddXCIsUGE9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxRYT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFJhPVBhLmNhbGwoYXJndW1lbnRzKT09RmEsU2E9RXJyb3IucHJvdG90eXBlLFRhPU9iamVjdC5wcm90b3R5cGUsVWE9U3RyaW5nLnByb3RvdHlwZSxWYT1UYS5wcm9wZXJ0eUlzRW51bWVyYWJsZTt0cnl7QmE9IShQYS5jYWxsKGRvY3VtZW50KT09TWEmJiEoe3RvU3RyaW5nOjB9K1wiXCIpKX1jYXRjaChtYSl7QmE9ITB9dmFyIFdhPXt9O1dhW0dhXT1XYVtJYV09V2FbTGFdPXtjb25zdHJ1Y3RvcjohMCx0b0xvY2FsZVN0cmluZzohMCx0b1N0cmluZzohMCx2YWx1ZU9mOiEwfSxXYVtIYV09V2FbT2FdPXtjb25zdHJ1Y3RvcjohMCx0b1N0cmluZzohMCx2YWx1ZU9mOiEwfSxXYVtKYV09V2FbS2FdPVdhW05hXT17Y29uc3RydWN0b3I6ITAsdG9TdHJpbmc6ITB9LFdhW01hXT17Y29uc3RydWN0b3I6ITB9O3ZhciBYYT17fTshZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbigpe3RoaXMueD0xfSxiPVtdO2EucHJvdG90eXBlPXt2YWx1ZU9mOjEseToxfTtmb3IodmFyIGMgaW4gbmV3IGEpYi5wdXNoKGMpO2ZvcihjIGluIGFyZ3VtZW50cyk7WGEuZW51bUVycm9yUHJvcHM9VmEuY2FsbChTYSxcIm1lc3NhZ2VcIil8fFZhLmNhbGwoU2EsXCJuYW1lXCIpLFhhLmVudW1Qcm90b3R5cGVzPVZhLmNhbGwoYSxcInByb3RvdHlwZVwiKSxYYS5ub25FbnVtQXJncz0wIT1jLFhhLm5vbkVudW1TaGFkb3dzPSEvdmFsdWVPZi8udGVzdChiKX0oMSk7dmFyIFlhPWNhLmludGVybmFscy5pc09iamVjdD1mdW5jdGlvbihhKXt2YXIgYj10eXBlb2YgYTtyZXR1cm4gYSYmKFwiZnVuY3Rpb25cIj09Ynx8XCJvYmplY3RcIj09Yil8fCExfSxaYT1mdW5jdGlvbihhKXtyZXR1cm4gYSYmXCJvYmplY3RcIj09dHlwZW9mIGE/UGEuY2FsbChhKT09RmE6ITF9O1JhfHwoWmE9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJlwib2JqZWN0XCI9PXR5cGVvZiBhP1FhLmNhbGwoYSxcImNhbGxlZVwiKTohMX0pO3t2YXIgJGEsX2E9Y2EuaW50ZXJuYWxzLmlzRXF1YWw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbShhLGIsW10sW10pfSxhYj17ZTp7fX0sYmI9KHt9Lmhhc093blByb3BlcnR5LEFycmF5LnByb3RvdHlwZS5zbGljZSksY2I9dGhpcy5pbmhlcml0cz1jYS5pbnRlcm5hbHMuaW5oZXJpdHM9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7dGhpcy5jb25zdHJ1Y3Rvcj1hfWMucHJvdG90eXBlPWIucHJvdG90eXBlLGEucHJvdG90eXBlPW5ldyBjfSxkYj1jYS5pbnRlcm5hbHMuYWRkUHJvcGVydGllcz1mdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0xLGQ9YXJndW1lbnRzLmxlbmd0aDtkPmM7YysrKWIucHVzaChhcmd1bWVudHNbY10pO2Zvcih2YXIgZT0wLGY9Yi5sZW5ndGg7Zj5lO2UrKyl7dmFyIGc9YltlXTtmb3IodmFyIGggaW4gZylhW2hdPWdbaF19fTtjYS5pbnRlcm5hbHMuYWRkUmVmPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBBYyhmdW5jdGlvbihjKXtyZXR1cm4gbmV3IGdiKGIuZ2V0RGlzcG9zYWJsZSgpLGEuc3Vic2NyaWJlKGMpKX0pfX1yLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy52YWx1ZS5jb21wYXJlVG8oYS52YWx1ZSk7cmV0dXJuIDA9PT1iJiYoYj10aGlzLmlkLWEuaWQpLGJ9O3ZhciBlYj1jYS5pbnRlcm5hbHMuUHJpb3JpdHlRdWV1ZT1mdW5jdGlvbihhKXt0aGlzLml0ZW1zPW5ldyBBcnJheShhKSx0aGlzLmxlbmd0aD0wfSxmYj1lYi5wcm90b3R5cGU7ZmIuaXNIaWdoZXJQcmlvcml0eT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLml0ZW1zW2FdLmNvbXBhcmVUbyh0aGlzLml0ZW1zW2JdKTwwfSxmYi5wZXJjb2xhdGU9ZnVuY3Rpb24oYSl7aWYoIShhPj10aGlzLmxlbmd0aHx8MD5hKSl7dmFyIGI9YS0xPj4xO2lmKCEoMD5ifHxiPT09YSkmJnRoaXMuaXNIaWdoZXJQcmlvcml0eShhLGIpKXt2YXIgYz10aGlzLml0ZW1zW2FdO3RoaXMuaXRlbXNbYV09dGhpcy5pdGVtc1tiXSx0aGlzLml0ZW1zW2JdPWMsdGhpcy5wZXJjb2xhdGUoYil9fX0sZmIuaGVhcGlmeT1mdW5jdGlvbihhKXtpZigrYXx8KGE9MCksIShhPj10aGlzLmxlbmd0aHx8MD5hKSl7dmFyIGI9MiphKzEsYz0yKmErMixkPWE7aWYoYjx0aGlzLmxlbmd0aCYmdGhpcy5pc0hpZ2hlclByaW9yaXR5KGIsZCkmJihkPWIpLGM8dGhpcy5sZW5ndGgmJnRoaXMuaXNIaWdoZXJQcmlvcml0eShjLGQpJiYoZD1jKSxkIT09YSl7dmFyIGU9dGhpcy5pdGVtc1thXTt0aGlzLml0ZW1zW2FdPXRoaXMuaXRlbXNbZF0sdGhpcy5pdGVtc1tkXT1lLHRoaXMuaGVhcGlmeShkKX19fSxmYi5wZWVrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlbXNbMF0udmFsdWV9LGZiLnJlbW92ZUF0PWZ1bmN0aW9uKGIpe3RoaXMuaXRlbXNbYl09dGhpcy5pdGVtc1stLXRoaXMubGVuZ3RoXSx0aGlzLml0ZW1zW3RoaXMubGVuZ3RoXT1hLHRoaXMuaGVhcGlmeSgpfSxmYi5kZXF1ZXVlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wZWVrKCk7cmV0dXJuIHRoaXMucmVtb3ZlQXQoMCksYX0sZmIuZW5xdWV1ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmxlbmd0aCsrO3RoaXMuaXRlbXNbYl09bmV3IHIoZWIuY291bnQrKyxhKSx0aGlzLnBlcmNvbGF0ZShiKX0sZmIucmVtb3ZlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8dGhpcy5sZW5ndGg7YisrKWlmKHRoaXMuaXRlbXNbYl0udmFsdWU9PT1hKXJldHVybiB0aGlzLnJlbW92ZUF0KGIpLCEwO3JldHVybiExfSxlYi5jb3VudD0wO3ZhciBnYj1jYS5Db21wb3NpdGVEaXNwb3NhYmxlPWZ1bmN0aW9uKCl7dmFyIGEsYixjPVtdO2lmKEFycmF5LmlzQXJyYXkoYXJndW1lbnRzWzBdKSljPWFyZ3VtZW50c1swXSxiPWMubGVuZ3RoO2Vsc2UgZm9yKGI9YXJndW1lbnRzLmxlbmd0aCxjPW5ldyBBcnJheShiKSxhPTA7Yj5hO2ErKyljW2FdPWFyZ3VtZW50c1thXTtmb3IoYT0wO2I+YTthKyspaWYoIWxiKGNbYV0pKXRocm93IG5ldyBUeXBlRXJyb3IoXCJOb3QgYSBkaXNwb3NhYmxlXCIpO3RoaXMuZGlzcG9zYWJsZXM9Yyx0aGlzLmlzRGlzcG9zZWQ9ITEsdGhpcy5sZW5ndGg9Yy5sZW5ndGh9LGhiPWdiLnByb3RvdHlwZTtoYi5hZGQ9ZnVuY3Rpb24oYSl7dGhpcy5pc0Rpc3Bvc2VkP2EuZGlzcG9zZSgpOih0aGlzLmRpc3Bvc2FibGVzLnB1c2goYSksdGhpcy5sZW5ndGgrKyl9LGhiLnJlbW92ZT1mdW5jdGlvbihhKXt2YXIgYj0hMTtpZighdGhpcy5pc0Rpc3Bvc2VkKXt2YXIgYz10aGlzLmRpc3Bvc2FibGVzLmluZGV4T2YoYSk7LTEhPT1jJiYoYj0hMCx0aGlzLmRpc3Bvc2FibGVzLnNwbGljZShjLDEpLHRoaXMubGVuZ3RoLS0sYS5kaXNwb3NlKCkpfXJldHVybiBifSxoYi5kaXNwb3NlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNEaXNwb3NlZCl7dGhpcy5pc0Rpc3Bvc2VkPSEwO2Zvcih2YXIgYT10aGlzLmRpc3Bvc2FibGVzLmxlbmd0aCxiPW5ldyBBcnJheShhKSxjPTA7YT5jO2MrKyliW2NdPXRoaXMuZGlzcG9zYWJsZXNbY107Zm9yKHRoaXMuZGlzcG9zYWJsZXM9W10sdGhpcy5sZW5ndGg9MCxjPTA7YT5jO2MrKyliW2NdLmRpc3Bvc2UoKX19O3ZhciBpYj1jYS5EaXNwb3NhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuaXNEaXNwb3NlZD0hMSx0aGlzLmFjdGlvbj1hfHxkYX07aWIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmlzRGlzcG9zZWR8fCh0aGlzLmFjdGlvbigpLHRoaXMuaXNEaXNwb3NlZD0hMCl9O3ZhciBqYj1pYi5jcmVhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBpYihhKX0sa2I9aWIuZW1wdHk9e2Rpc3Bvc2U6ZGF9LGxiPWliLmlzRGlzcG9zYWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gYSYma2EoYS5kaXNwb3NlKX0sbWI9aWIuY2hlY2tEaXNwb3NlZD1mdW5jdGlvbihhKXtpZihhLmlzRGlzcG9zZWQpdGhyb3cgbmV3IHJhfSxuYj1jYS5TaW5nbGVBc3NpZ25tZW50RGlzcG9zYWJsZT1mdW5jdGlvbigpe3RoaXMuaXNEaXNwb3NlZD0hMSx0aGlzLmN1cnJlbnQ9bnVsbH07bmIucHJvdG90eXBlLmdldERpc3Bvc2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50fSxuYi5wcm90b3R5cGUuc2V0RGlzcG9zYWJsZT1mdW5jdGlvbihhKXtpZih0aGlzLmN1cnJlbnQpdGhyb3cgbmV3IEVycm9yKFwiRGlzcG9zYWJsZSBoYXMgYWxyZWFkeSBiZWVuIGFzc2lnbmVkXCIpO3ZhciBiPXRoaXMuaXNEaXNwb3NlZDshYiYmKHRoaXMuY3VycmVudD1hKSxiJiZhJiZhLmRpc3Bvc2UoKX0sbmIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtpZighdGhpcy5pc0Rpc3Bvc2VkKXt0aGlzLmlzRGlzcG9zZWQ9ITA7dmFyIGE9dGhpcy5jdXJyZW50O3RoaXMuY3VycmVudD1udWxsfWEmJmEuZGlzcG9zZSgpfTt2YXIgb2I9Y2EuU2VyaWFsRGlzcG9zYWJsZT1mdW5jdGlvbigpe3RoaXMuaXNEaXNwb3NlZD0hMSx0aGlzLmN1cnJlbnQ9bnVsbH07b2IucHJvdG90eXBlLmdldERpc3Bvc2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50fSxvYi5wcm90b3R5cGUuc2V0RGlzcG9zYWJsZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmlzRGlzcG9zZWQ7aWYoIWIpe3ZhciBjPXRoaXMuY3VycmVudDt0aGlzLmN1cnJlbnQ9YX1jJiZjLmRpc3Bvc2UoKSxiJiZhJiZhLmRpc3Bvc2UoKX0sb2IucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtpZighdGhpcy5pc0Rpc3Bvc2VkKXt0aGlzLmlzRGlzcG9zZWQ9ITA7dmFyIGE9dGhpcy5jdXJyZW50O3RoaXMuY3VycmVudD1udWxsfWEmJmEuZGlzcG9zZSgpfTt2YXIgcGI9KGNhLlJlZkNvdW50RGlzcG9zYWJsZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dGhpcy5kaXNwb3NhYmxlPWEsdGhpcy5kaXNwb3NhYmxlLmNvdW50KyssdGhpcy5pc0lubmVyRGlzcG9zZWQ9ITF9ZnVuY3Rpb24gYihhKXt0aGlzLnVuZGVybHlpbmdEaXNwb3NhYmxlPWEsdGhpcy5pc0Rpc3Bvc2VkPSExLHRoaXMuaXNQcmltYXJ5RGlzcG9zZWQ9ITEsdGhpcy5jb3VudD0wfXJldHVybiBhLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5kaXNwb3NhYmxlLmlzRGlzcG9zZWR8fHRoaXMuaXNJbm5lckRpc3Bvc2VkfHwodGhpcy5pc0lubmVyRGlzcG9zZWQ9ITAsdGhpcy5kaXNwb3NhYmxlLmNvdW50LS0sMD09PXRoaXMuZGlzcG9zYWJsZS5jb3VudCYmdGhpcy5kaXNwb3NhYmxlLmlzUHJpbWFyeURpc3Bvc2VkJiYodGhpcy5kaXNwb3NhYmxlLmlzRGlzcG9zZWQ9ITAsdGhpcy5kaXNwb3NhYmxlLnVuZGVybHlpbmdEaXNwb3NhYmxlLmRpc3Bvc2UoKSkpfSxiLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5pc0Rpc3Bvc2VkfHx0aGlzLmlzUHJpbWFyeURpc3Bvc2VkfHwodGhpcy5pc1ByaW1hcnlEaXNwb3NlZD0hMCwwPT09dGhpcy5jb3VudCYmKHRoaXMuaXNEaXNwb3NlZD0hMCx0aGlzLnVuZGVybHlpbmdEaXNwb3NhYmxlLmRpc3Bvc2UoKSkpfSxiLnByb3RvdHlwZS5nZXREaXNwb3NhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNEaXNwb3NlZD9rYjpuZXcgYSh0aGlzKX0sYn0oKSxjYS5pbnRlcm5hbHMuU2NoZWR1bGVkSXRlbT1mdW5jdGlvbihhLGIsYyxkLGUpe3RoaXMuc2NoZWR1bGVyPWEsdGhpcy5zdGF0ZT1iLHRoaXMuYWN0aW9uPWMsdGhpcy5kdWVUaW1lPWQsdGhpcy5jb21wYXJlcj1lfHxoYSx0aGlzLmRpc3Bvc2FibGU9bmV3IG5ifSk7cGIucHJvdG90eXBlLmludm9rZT1mdW5jdGlvbigpe3RoaXMuZGlzcG9zYWJsZS5zZXREaXNwb3NhYmxlKHRoaXMuaW52b2tlQ29yZSgpKX0scGIucHJvdG90eXBlLmNvbXBhcmVUbz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb21wYXJlcih0aGlzLmR1ZVRpbWUsYS5kdWVUaW1lKX0scGIucHJvdG90eXBlLmlzQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcG9zYWJsZS5pc0Rpc3Bvc2VkfSxwYi5wcm90b3R5cGUuaW52b2tlQ29yZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGlvbih0aGlzLnNjaGVkdWxlcix0aGlzLnN0YXRlKX07dmFyIHFiPWNhLlNjaGVkdWxlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGMsZCl7dGhpcy5ub3c9YSx0aGlzLl9zY2hlZHVsZT1iLHRoaXMuX3NjaGVkdWxlUmVsYXRpdmU9Yyx0aGlzLl9zY2hlZHVsZUFic29sdXRlPWR9ZnVuY3Rpb24gYihhLGIpe3JldHVybiBiKCksa2J9YS5pc1NjaGVkdWxlcj1mdW5jdGlvbihiKXtyZXR1cm4gYiBpbnN0YW5jZW9mIGF9O3ZhciBjPWEucHJvdG90eXBlO3JldHVybiBjLnNjaGVkdWxlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9zY2hlZHVsZShhLGIpfSxjLnNjaGVkdWxlV2l0aFN0YXRlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuX3NjaGVkdWxlKGEsYil9LGMuc2NoZWR1bGVXaXRoUmVsYXRpdmU9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdGhpcy5fc2NoZWR1bGVSZWxhdGl2ZShjLGEsYil9LGMuc2NoZWR1bGVXaXRoUmVsYXRpdmVBbmRTdGF0ZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuX3NjaGVkdWxlUmVsYXRpdmUoYSxiLGMpfSxjLnNjaGVkdWxlV2l0aEFic29sdXRlPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMuX3NjaGVkdWxlQWJzb2x1dGUoYyxhLGIpfSxjLnNjaGVkdWxlV2l0aEFic29sdXRlQW5kU3RhdGU9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLl9zY2hlZHVsZUFic29sdXRlKGEsYixjKX0sYS5ub3c9ZmEsYS5ub3JtYWxpemU9ZnVuY3Rpb24oYSl7cmV0dXJuIDA+YSYmKGE9MCksYX0sYX0oKSxyYj1xYi5ub3JtYWxpemUsc2I9cWIuaXNTY2hlZHVsZXI7IWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXtmdW5jdGlvbiBjKGIpe2UoYixmdW5jdGlvbihiKXt2YXIgZD0hMSxlPSExLGc9YS5zY2hlZHVsZVdpdGhTdGF0ZShiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGQ/Zi5yZW1vdmUoZyk6ZT0hMCxjKGIpLGtifSk7ZXx8KGYuYWRkKGcpLGQ9ITApfSl9dmFyIGQ9YlswXSxlPWJbMV0sZj1uZXcgZ2I7cmV0dXJuIGMoZCksZn1mdW5jdGlvbiBjKGEsYixjKXtmdW5jdGlvbiBkKGIpe2YoYixmdW5jdGlvbihiLGUpe3ZhciBmPSExLGg9ITEsaT1hW2NdKGIsZSxmdW5jdGlvbihhLGIpe3JldHVybiBmP2cucmVtb3ZlKGkpOmg9ITAsZChiKSxrYn0pO2h8fChnLmFkZChpKSxmPSEwKX0pfXZhciBlPWJbMF0sZj1iWzFdLGc9bmV3IGdiO3JldHVybiBkKGUpLGd9ZnVuY3Rpb24gZChhLGIpe2EoZnVuY3Rpb24oYyl7YihhLGMpfSl9YS5zY2hlZHVsZVJlY3Vyc2l2ZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zY2hlZHVsZVJlY3Vyc2l2ZVdpdGhTdGF0ZShhLGZ1bmN0aW9uKGEsYil7YShmdW5jdGlvbigpe2IoYSl9KX0pfSxhLnNjaGVkdWxlUmVjdXJzaXZlV2l0aFN0YXRlPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMuc2NoZWR1bGVXaXRoU3RhdGUoW2EsY10sYil9LGEuc2NoZWR1bGVSZWN1cnNpdmVXaXRoUmVsYXRpdmU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5zY2hlZHVsZVJlY3Vyc2l2ZVdpdGhSZWxhdGl2ZUFuZFN0YXRlKGIsYSxkKX0sYS5zY2hlZHVsZVJlY3Vyc2l2ZVdpdGhSZWxhdGl2ZUFuZFN0YXRlPWZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gdGhpcy5fc2NoZWR1bGVSZWxhdGl2ZShbYSxkXSxiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGMoYSxiLFwic2NoZWR1bGVXaXRoUmVsYXRpdmVBbmRTdGF0ZVwiKX0pfSxhLnNjaGVkdWxlUmVjdXJzaXZlV2l0aEFic29sdXRlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuc2NoZWR1bGVSZWN1cnNpdmVXaXRoQWJzb2x1dGVBbmRTdGF0ZShiLGEsZCl9LGEuc2NoZWR1bGVSZWN1cnNpdmVXaXRoQWJzb2x1dGVBbmRTdGF0ZT1mdW5jdGlvbihhLGIsZCl7cmV0dXJuIHRoaXMuX3NjaGVkdWxlQWJzb2x1dGUoW2EsZF0sYixmdW5jdGlvbihhLGIpe3JldHVybiBjKGEsYixcInNjaGVkdWxlV2l0aEFic29sdXRlQW5kU3RhdGVcIil9KX19KHFiLnByb3RvdHlwZSksZnVuY3Rpb24oKXtxYi5wcm90b3R5cGUuc2NoZWR1bGVQZXJpb2RpYz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnNjaGVkdWxlUGVyaW9kaWNXaXRoU3RhdGUobnVsbCxhLGIpfSxxYi5wcm90b3R5cGUuc2NoZWR1bGVQZXJpb2RpY1dpdGhTdGF0ZT1mdW5jdGlvbihhLGIsYyl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFouc2V0SW50ZXJ2YWwpdGhyb3cgbmV3IHRhO2I9cmIoYik7dmFyIGQ9YSxlPVouc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtkPWMoZCl9LGIpO3JldHVybiBqYihmdW5jdGlvbigpe1ouY2xlYXJJbnRlcnZhbChlKX0pfX0ocWIucHJvdG90eXBlKTt2YXIgdGIsdWIsdmI9cWIuaW1tZWRpYXRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe3JldHVybiBiKHRoaXMsYSl9cmV0dXJuIG5ldyBxYihmYSxhLHdhLHdhKX0oKSx3Yj1xYi5jdXJyZW50VGhyZWFkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe2Zvcig7Yy5sZW5ndGg+MDspe3ZhciBhPWMuZGVxdWV1ZSgpOyFhLmlzQ2FuY2VsbGVkKCkmJmEuaW52b2tlKCl9fWZ1bmN0aW9uIGIoYixkKXt2YXIgZT1uZXcgcGIodGhpcyxiLGQsdGhpcy5ub3coKSk7aWYoYyljLmVucXVldWUoZSk7ZWxzZXtjPW5ldyBlYig0KSxjLmVucXVldWUoZSk7dmFyIGY9byhhKSgpO2lmKGM9bnVsbCxmPT09YWIpcmV0dXJuIHAoZi5lKX1yZXR1cm4gZS5kaXNwb3NhYmxlfXZhciBjLGQ9bmV3IHFiKGZhLGIsd2Esd2EpO3JldHVybiBkLnNjaGVkdWxlUmVxdWlyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hY30sZH0oKSx4Yj0oY2EuaW50ZXJuYWxzLlNjaGVkdWxlUGVyaW9kaWNSZWN1cnNpdmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7YigwLHRoaXMuX3BlcmlvZCk7dHJ5e3RoaXMuX3N0YXRlPXRoaXMuX2FjdGlvbih0aGlzLl9zdGF0ZSl9Y2F0Y2goYyl7dGhyb3cgdGhpcy5fY2FuY2VsLmRpc3Bvc2UoKSxjfX1mdW5jdGlvbiBiKGEsYixjLGQpe3RoaXMuX3NjaGVkdWxlcj1hLHRoaXMuX3N0YXRlPWIsdGhpcy5fcGVyaW9kPWMsdGhpcy5fYWN0aW9uPWR9cmV0dXJuIGIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dmFyIGI9bmV3IG5iO3JldHVybiB0aGlzLl9jYW5jZWw9YixiLnNldERpc3Bvc2FibGUodGhpcy5fc2NoZWR1bGVyLnNjaGVkdWxlUmVjdXJzaXZlV2l0aFJlbGF0aXZlQW5kU3RhdGUoMCx0aGlzLl9wZXJpb2QsYS5iaW5kKHRoaXMpKSksYn0sYn0oKSxmdW5jdGlvbigpe3ZhciBhLGI9ZGE7aWYoWi5zZXRUaW1lb3V0KWE9Wi5zZXRUaW1lb3V0LGI9Wi5jbGVhclRpbWVvdXQ7ZWxzZXtpZighWi5XU2NyaXB0KXRocm93IG5ldyB0YTthPWZ1bmN0aW9uKGEsYil7Wi5XU2NyaXB0LlNsZWVwKGIpLGEoKX19cmV0dXJue3NldFRpbWVvdXQ6YSxjbGVhclRpbWVvdXQ6Yn19KCkpLHliPXhiLnNldFRpbWVvdXQsemI9eGIuY2xlYXJUaW1lb3V0OyFmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7aWYoZil5YihmdW5jdGlvbigpe2EoYil9LDApO2Vsc2V7dmFyIGM9ZVtiXTtpZihjKXtmPSEwO3ZhciBkPW8oYykoKTtpZih1YihiKSxmPSExLGQ9PT1hYilyZXR1cm4gcChkLmUpfX19ZnVuY3Rpb24gYigpe2lmKCFaLnBvc3RNZXNzYWdlfHxaLmltcG9ydFNjcmlwdHMpcmV0dXJuITE7dmFyIGE9ITEsYj1aLm9ubWVzc2FnZTtyZXR1cm4gWi5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXthPSEwfSxaLnBvc3RNZXNzYWdlKFwiXCIsXCIqXCIpLFoub25tZXNzYWdlPWIsYX1mdW5jdGlvbiBjKGIpe1wic3RyaW5nXCI9PXR5cGVvZiBiLmRhdGEmJmIuZGF0YS5zdWJzdHJpbmcoMCxpLmxlbmd0aCk9PT1pJiZhKGIuZGF0YS5zdWJzdHJpbmcoaS5sZW5ndGgpKX12YXIgZD0xLGU9e30sZj0hMTt1Yj1mdW5jdGlvbihhKXtkZWxldGUgZVthXX07dmFyIGc9UmVnRXhwKFwiXlwiK1N0cmluZyhQYSkucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csXCJcXFxcJCZcIikucmVwbGFjZSgvdG9TdHJpbmd8IGZvciBbXlxcXV0rL2csXCIuKj9cIikrXCIkXCIpLGg9XCJmdW5jdGlvblwiPT10eXBlb2YoaD1iYSYmYWEmJmJhLnNldEltbWVkaWF0ZSkmJiFnLnRlc3QoaCkmJmg7aWYoa2EoaCkpdGI9ZnVuY3Rpb24oYil7dmFyIGM9ZCsrO3JldHVybiBlW2NdPWIsaChmdW5jdGlvbigpe2EoYyl9KSxjfTtlbHNlIGlmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBwcm9jZXNzJiZcIltvYmplY3QgcHJvY2Vzc11cIj09PXt9LnRvU3RyaW5nLmNhbGwocHJvY2VzcykpdGI9ZnVuY3Rpb24oYil7dmFyIGM9ZCsrO3JldHVybiBlW2NdPWIscHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbigpe2EoYyl9KSxjfTtlbHNlIGlmKGIoKSl7dmFyIGk9XCJtcy5yeC5zY2hlZHVsZVwiK01hdGgucmFuZG9tKCk7Wi5hZGRFdmVudExpc3RlbmVyP1ouYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixjLCExKTpaLmF0dGFjaEV2ZW50P1ouYXR0YWNoRXZlbnQoXCJvbm1lc3NhZ2VcIixjKTpaLm9ubWVzc2FnZT1jLHRiPWZ1bmN0aW9uKGEpe3ZhciBiPWQrKztyZXR1cm4gZVtiXT1hLFoucG9zdE1lc3NhZ2UoaStjdXJyZW50SWQsXCIqXCIpLGJ9fWVsc2UgaWYoWi5NZXNzYWdlQ2hhbm5lbCl7dmFyIGo9bmV3IFouTWVzc2FnZUNoYW5uZWw7ai5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oYil7YShiLmRhdGEpfSx0Yj1mdW5jdGlvbihhKXt2YXIgYj1kKys7cmV0dXJuIGVbYl09YSxqLnBvcnQyLnBvc3RNZXNzYWdlKGIpLGJ9fWVsc2UgdGI9XCJkb2N1bWVudFwiaW4gWiYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIFouZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKT9mdW5jdGlvbihiKXt2YXIgYz1aLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksZj1kKys7cmV0dXJuIGVbZl09YixjLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2EoZiksYy5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyksYz1udWxsfSxaLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChjKSxmfTpmdW5jdGlvbihiKXt2YXIgYz1kKys7cmV0dXJuIGVbY109Yix5YihmdW5jdGlvbigpe2EoYyl9LDApLGN9fSgpO3ZhciBBYj1xYi50aW1lb3V0PXFiW1wiZGVmYXVsdFwiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXt2YXIgYz10aGlzLGQ9bmV3IG5iLGU9dGIoZnVuY3Rpb24oKXshZC5pc0Rpc3Bvc2VkJiZkLnNldERpc3Bvc2FibGUoYihjLGEpKX0pO3JldHVybiBuZXcgZ2IoZCxqYihmdW5jdGlvbigpe3ViKGUpfSkpfWZ1bmN0aW9uIGIoYSxiLGMpe3ZhciBkPXRoaXMsZT1xYi5ub3JtYWxpemUoYiksZj1uZXcgbmI7aWYoMD09PWUpcmV0dXJuIGQuc2NoZWR1bGVXaXRoU3RhdGUoYSxjKTt2YXIgZz15YihmdW5jdGlvbigpeyFmLmlzRGlzcG9zZWQmJmYuc2V0RGlzcG9zYWJsZShjKGQsYSkpfSxlKTtyZXR1cm4gbmV3IGdiKGYsamIoZnVuY3Rpb24oKXt6YihnKX0pKX1mdW5jdGlvbiBjKGEsYixjKXtyZXR1cm4gdGhpcy5zY2hlZHVsZVdpdGhSZWxhdGl2ZUFuZFN0YXRlKGEsYi10aGlzLm5vdygpLGMpfXJldHVybiBuZXcgcWIoZmEsYSxiLGMpfSgpLEJiPWNhLk5vdGlmaWNhdGlvbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGMsZCxlLGYpe3RoaXMua2luZD1hLHRoaXMudmFsdWU9Yix0aGlzLmV4Y2VwdGlvbj1jLHRoaXMuX2FjY2VwdD1kLHRoaXMuX2FjY2VwdE9ic2VydmFibGU9ZSx0aGlzLnRvU3RyaW5nPWZ9cmV0dXJuIGEucHJvdG90eXBlLmFjY2VwdD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEmJlwib2JqZWN0XCI9PXR5cGVvZiBhP3RoaXMuX2FjY2VwdE9ic2VydmFibGUoYSk6dGhpcy5fYWNjZXB0KGEsYixjKX0sYS5wcm90b3R5cGUudG9PYnNlcnZhYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIHNiKGEpfHwoYT12YiksbmV3IEFjKGZ1bmN0aW9uKGMpe3JldHVybiBhLnNjaGVkdWxlV2l0aFN0YXRlKGIsZnVuY3Rpb24oYSxiKXtiLl9hY2NlcHRPYnNlcnZhYmxlKGMpLFwiTlwiPT09Yi5raW5kJiZjLm9uQ29tcGxldGVkKCl9KX0pfSxhfSgpLENiPUJiLmNyZWF0ZU9uTmV4dD1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuIGEodGhpcy52YWx1ZSl9ZnVuY3Rpb24gYihhKXtyZXR1cm4gYS5vbk5leHQodGhpcy52YWx1ZSl9ZnVuY3Rpb24gYygpe3JldHVyblwiT25OZXh0KFwiK3RoaXMudmFsdWUrXCIpXCJ9cmV0dXJuIGZ1bmN0aW9uKGQpe3JldHVybiBuZXcgQmIoXCJOXCIsZCxudWxsLGEsYixjKX19KCksRGI9QmIuY3JlYXRlT25FcnJvcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXtyZXR1cm4gYih0aGlzLmV4Y2VwdGlvbil9ZnVuY3Rpb24gYihhKXtyZXR1cm4gYS5vbkVycm9yKHRoaXMuZXhjZXB0aW9uKX1mdW5jdGlvbiBjKCl7cmV0dXJuXCJPbkVycm9yKFwiK3RoaXMuZXhjZXB0aW9uK1wiKVwifXJldHVybiBmdW5jdGlvbihkKXtyZXR1cm4gbmV3IEJiKFwiRVwiLG51bGwsZCxhLGIsYyl9fSgpLEViPUJiLmNyZWF0ZU9uQ29tcGxldGVkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyl7cmV0dXJuIGMoKX1mdW5jdGlvbiBiKGEpe3JldHVybiBhLm9uQ29tcGxldGVkKCl9ZnVuY3Rpb24gYygpe3JldHVyblwiT25Db21wbGV0ZWQoKVwifXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgQmIoXCJDXCIsbnVsbCxudWxsLGEsYixjKX19KCksRmI9Y2EuaW50ZXJuYWxzLkVudW1lcmF0b3I9ZnVuY3Rpb24oYSl7dGhpcy5fbmV4dD1hfTtGYi5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZXh0KCl9LEZiLnByb3RvdHlwZVt4YV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dmFyIEdiPWNhLmludGVybmFscy5FbnVtZXJhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuX2l0ZXJhdG9yPWF9O0diLnByb3RvdHlwZVt4YV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXRlcmF0b3IoKX0sR2IucHJvdG90eXBlLmNvbmNhdD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIG5ldyBBYyhmdW5jdGlvbihiKXt2YXIgYyxkPWFbeGFdKCksZT1uZXcgb2IsZj12Yi5zY2hlZHVsZVJlY3Vyc2l2ZShmdW5jdGlvbihhKXtpZighYyl7dHJ5e3ZhciBmPWQubmV4dCgpfWNhdGNoKGcpe3JldHVybiBiLm9uRXJyb3IoZyl9aWYoZi5kb25lKXJldHVybiBiLm9uQ29tcGxldGVkKCk7dmFyIGg9Zi52YWx1ZTtqYShoKSYmKGg9dGMoaCkpO3ZhciBpPW5ldyBuYjtlLnNldERpc3Bvc2FibGUoaSksaS5zZXREaXNwb3NhYmxlKGguc3Vic2NyaWJlKGZ1bmN0aW9uKGEpe2Iub25OZXh0KGEpfSxmdW5jdGlvbihhKXtiLm9uRXJyb3IoYSl9LGEpKX19KTtyZXR1cm4gbmV3IGdiKGUsZixqYihmdW5jdGlvbigpe2M9ITB9KSl9KX0sR2IucHJvdG90eXBlLmNhdGNoRXJyb3I9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBuZXcgQWMoZnVuY3Rpb24oYil7dmFyIGMsZD1hW3hhXSgpLGU9bmV3IG9iLGY9dmIuc2NoZWR1bGVSZWN1cnNpdmVXaXRoU3RhdGUobnVsbCxmdW5jdGlvbihhLGYpe2lmKCFjKXt0cnl7dmFyIGc9ZC5uZXh0KCl9Y2F0Y2goaCl7cmV0dXJuIG9ic2VydmVyLm9uRXJyb3IoaCl9aWYoZy5kb25lKXJldHVybiB2b2lkKG51bGwhPT1hP2Iub25FcnJvcihhKTpiLm9uQ29tcGxldGVkKCkpO3ZhciBpPWcudmFsdWU7amEoaSkmJihpPXRjKGkpKTt2YXIgaj1uZXcgbmI7ZS5zZXREaXNwb3NhYmxlKGopLGouc2V0RGlzcG9zYWJsZShpLnN1YnNjcmliZShmdW5jdGlvbihhKXtiLm9uTmV4dChhKX0sZixmdW5jdGlvbigpe2Iub25Db21wbGV0ZWQoKX0pKX19KTtyZXR1cm4gbmV3IGdiKGUsZixqYihmdW5jdGlvbigpe2M9ITB9KSl9KX0sR2IucHJvdG90eXBlLmNhdGNoRXJyb3JXaGVuPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIG5ldyBBYyhmdW5jdGlvbihjKXt2YXIgZCxlLGY9bmV3IERjLGc9bmV3IERjLGg9YShmKSxpPWguc3Vic2NyaWJlKGcpLGo9Ylt4YV0oKSxrPW5ldyBvYixsPXZiLnNjaGVkdWxlUmVjdXJzaXZlKGZ1bmN0aW9uKGEpe2lmKCFkKXt0cnl7dmFyIGI9ai5uZXh0KCl9Y2F0Y2goaCl7cmV0dXJuIGMub25FcnJvcihoKX1pZihiLmRvbmUpcmV0dXJuIHZvaWQoZT9jLm9uRXJyb3IoZSk6Yy5vbkNvbXBsZXRlZCgpKTt2YXIgaT1iLnZhbHVlO2phKGkpJiYoaT10YyhpKSk7dmFyIGw9bmV3IG5iLG09bmV3IG5iO2suc2V0RGlzcG9zYWJsZShuZXcgZ2IobSxsKSksbC5zZXREaXNwb3NhYmxlKGkuc3Vic2NyaWJlKGZ1bmN0aW9uKGEpe2Mub25OZXh0KGEpfSxmdW5jdGlvbihiKXttLnNldERpc3Bvc2FibGUoZy5zdWJzY3JpYmUoYSxmdW5jdGlvbihhKXtjLm9uRXJyb3IoYSl9LGZ1bmN0aW9uKCl7Yy5vbkNvbXBsZXRlZCgpfSkpLGYub25OZXh0KGIpfSxmdW5jdGlvbigpe2Mub25Db21wbGV0ZWQoKX0pKX19KTtyZXR1cm4gbmV3IGdiKGksayxsLGpiKGZ1bmN0aW9uKCl7ZD0hMH0pKX0pfTt2YXIgSGIsSWI9R2IucmVwZWF0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWImJihiPS0xKSxuZXcgR2IoZnVuY3Rpb24oKXt2YXIgYz1iO3JldHVybiBuZXcgRmIoZnVuY3Rpb24oKXtyZXR1cm4gMD09PWM/eWE6KGM+MCYmYy0tLHtkb25lOiExLHZhbHVlOmF9KX0pfSl9LEpiPUdiLm9mPWZ1bmN0aW9uKGEsYixjKXtpZihiKXZhciBkPUNhKGIsYywzKTtyZXR1cm4gbmV3IEdiKGZ1bmN0aW9uKCl7dmFyIGM9LTE7cmV0dXJuIG5ldyBGYihmdW5jdGlvbigpe3JldHVybisrYzxhLmxlbmd0aD97ZG9uZTohMSx2YWx1ZTpiP2QoYVtjXSxjLGEpOmFbY119OnlhfSl9KX0sS2I9Y2EuT2JzZXJ2ZXI9ZnVuY3Rpb24oKXt9LExiPUtiLmNyZWF0ZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGF8fChhPWRhKSxifHwoYj1pYSksY3x8KGM9ZGEpLG5ldyBOYihhLGIsYyl9LE1iPWNhLmludGVybmFscy5BYnN0cmFjdE9ic2VydmVyPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXt0aGlzLmlzU3RvcHBlZD0hMSxhLmNhbGwodGhpcyl9cmV0dXJuIGNiKGIsYSksYi5wcm90b3R5cGUubmV4dD12YSxiLnByb3RvdHlwZS5lcnJvcj12YSxiLnByb3RvdHlwZS5jb21wbGV0ZWQ9dmEsYi5wcm90b3R5cGUub25OZXh0PWZ1bmN0aW9uKGEpe3RoaXMuaXNTdG9wcGVkfHx0aGlzLm5leHQoYSl9LGIucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24oYSl7dGhpcy5pc1N0b3BwZWR8fCh0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLmVycm9yKGEpKX0sYi5wcm90b3R5cGUub25Db21wbGV0ZWQ9ZnVuY3Rpb24oKXt0aGlzLmlzU3RvcHBlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMuY29tcGxldGVkKCkpfSxiLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5pc1N0b3BwZWQ9ITB9LGIucHJvdG90eXBlLmZhaWw9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNTdG9wcGVkPyExOih0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLmVycm9yKGEpLCEwKX0sYn0oS2IpLE5iPWNhLkFub255bW91c09ic2VydmVyPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYixjLGQpe2EuY2FsbCh0aGlzKSx0aGlzLl9vbk5leHQ9Yix0aGlzLl9vbkVycm9yPWMsdGhpcy5fb25Db21wbGV0ZWQ9ZH1yZXR1cm4gY2IoYixhKSxiLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGEpe3RoaXMuX29uTmV4dChhKX0sYi5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oYSl7dGhpcy5fb25FcnJvcihhKX0sYi5wcm90b3R5cGUuY29tcGxldGVkPWZ1bmN0aW9uKCl7dGhpcy5fb25Db21wbGV0ZWQoKX0sYn0oTWIpLE9iPWNhLk9ic2VydmFibGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2lmKGNhLmNvbmZpZy5sb25nU3RhY2tTdXBwb3J0JiZsYSl7dHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaChiKXt0aGlzLnN0YWNrPWIuc3RhY2suc3Vic3RyaW5nKGIuc3RhY2suaW5kZXhPZihcIlxcblwiKSsxKX12YXIgZD10aGlzO3RoaXMuX3N1YnNjcmliZT1mdW5jdGlvbihiKXt2YXIgZT1iLm9uRXJyb3IuYmluZChiKTtyZXR1cm4gYi5vbkVycm9yPWZ1bmN0aW9uKGEpe2MoYSxkKSxlKGEpfSxhLmNhbGwoZCxiKX19ZWxzZSB0aGlzLl9zdWJzY3JpYmU9YX1yZXR1cm4gSGI9YS5wcm90b3R5cGUsSGIuc3Vic2NyaWJlPUhiLmZvckVhY2g9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLl9zdWJzY3JpYmUoXCJvYmplY3RcIj09dHlwZW9mIGE/YTpMYihhLGIsYykpfSxIYi5zdWJzY3JpYmVPbk5leHQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fc3Vic2NyaWJlKExiKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBiP2Z1bmN0aW9uKGMpe2EuY2FsbChiLGMpfTphKSl9LEhiLnN1YnNjcmliZU9uRXJyb3I9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fc3Vic2NyaWJlKExiKG51bGwsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGI/ZnVuY3Rpb24oYyl7YS5jYWxsKGIsYyl9OmEpKX0sSGIuc3Vic2NyaWJlT25Db21wbGV0ZWQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fc3Vic2NyaWJlKExiKG51bGwsbnVsbCxcInVuZGVmaW5lZFwiIT10eXBlb2YgYj9mdW5jdGlvbigpe2EuY2FsbChiKX06YSkpfSxhfSgpLFBiPWNhLmludGVybmFscy5TY2hlZHVsZWRPYnNlcnZlcj1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIsYyl7YS5jYWxsKHRoaXMpLHRoaXMuc2NoZWR1bGVyPWIsdGhpcy5vYnNlcnZlcj1jLHRoaXMuaXNBY3F1aXJlZD0hMSx0aGlzLmhhc0ZhdWx0ZWQ9ITEsdGhpcy5xdWV1ZT1bXSx0aGlzLmRpc3Bvc2FibGU9bmV3IG9ifXJldHVybiBjYihiLGEpLGIucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0aGlzLnF1ZXVlLnB1c2goZnVuY3Rpb24oKXtiLm9ic2VydmVyLm9uTmV4dChhKX0pfSxiLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3RoaXMucXVldWUucHVzaChmdW5jdGlvbigpe2Iub2JzZXJ2ZXIub25FcnJvcihhKX0pfSxiLnByb3RvdHlwZS5jb21wbGV0ZWQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMucXVldWUucHVzaChmdW5jdGlvbigpe2Eub2JzZXJ2ZXIub25Db21wbGV0ZWQoKX0pfSxiLnByb3RvdHlwZS5lbnN1cmVBY3RpdmU9ZnVuY3Rpb24oKXt2YXIgYT0hMSxiPXRoaXM7IXRoaXMuaGFzRmF1bHRlZCYmdGhpcy5xdWV1ZS5sZW5ndGg+MCYmKGE9IXRoaXMuaXNBY3F1aXJlZCx0aGlzLmlzQWNxdWlyZWQ9ITApLGEmJnRoaXMuZGlzcG9zYWJsZS5zZXREaXNwb3NhYmxlKHRoaXMuc2NoZWR1bGVyLnNjaGVkdWxlUmVjdXJzaXZlKGZ1bmN0aW9uKGEpe3ZhciBjO2lmKCEoYi5xdWV1ZS5sZW5ndGg+MCkpcmV0dXJuIHZvaWQoYi5pc0FjcXVpcmVkPSExKTtjPWIucXVldWUuc2hpZnQoKTt0cnl7YygpfWNhdGNoKGQpe3Rocm93IGIucXVldWU9W10sYi5oYXNGYXVsdGVkPSEwLGR9YSgpfSkpfSxiLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7YS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuZGlzcG9zYWJsZS5kaXNwb3NlKCl9LGJ9KE1iKSxRYj1jYS5PYnNlcnZhYmxlQmFzZT1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBhJiZrYShhLmRpc3Bvc2UpP2E6a2EoYSk/amIoYSk6a2J9ZnVuY3Rpb24gYyhhLGMpe3ZhciBkPWNbMF0sZT1jWzFdLGY9byhlLnN1YnNjcmliZUNvcmUpLmNhbGwoZSxkKTtyZXR1cm4gZiE9PWFifHxkLmZhaWwoYWIuZSk/dm9pZCBkLnNldERpc3Bvc2FibGUoYihmKSk6cChhYi5lKX1mdW5jdGlvbiBkKGEpe3ZhciBiPW5ldyBCYyhhKSxkPVtiLHRoaXNdO3JldHVybiB3Yi5zY2hlZHVsZVJlcXVpcmVkKCk/d2Iuc2NoZWR1bGVXaXRoU3RhdGUoZCxjKTpjKG51bGwsZCksYn1mdW5jdGlvbiBlKCl7YS5jYWxsKHRoaXMsZCl9cmV0dXJuIGNiKGUsYSksZS5wcm90b3R5cGUuc3Vic2NyaWJlQ29yZT12YSxlfShPYiksUmI9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXt0aGlzLnNvdXJjZT1iLGEuY2FsbCh0aGlzKX1yZXR1cm4gY2IoYixhKSxiLnByb3RvdHlwZS5zdWJzY3JpYmVDb3JlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNvdXJjZS5zdWJzY3JpYmUobmV3IHQoYSkpfSxifShRYik7dC5wcm90b3R5cGUub25OZXh0PWZ1bmN0aW9uKGEpe3RoaXMuaXNTdG9wcGVkfHx0aGlzLmEucHVzaChhKX0sdC5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbihhKXt0aGlzLmlzU3RvcHBlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMub2JzZXJ2ZXIub25FcnJvcihhKSl9LHQucHJvdG90eXBlLm9uQ29tcGxldGVkPWZ1bmN0aW9uKCl7dGhpcy5pc1N0b3BwZWR8fCh0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLm9ic2VydmVyLm9uTmV4dCh0aGlzLmEpLHRoaXMub2JzZXJ2ZXIub25Db21wbGV0ZWQoKSl9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmlzU3RvcHBlZD0hMH0sdC5wcm90b3R5cGUuZmFpbD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc1N0b3BwZWQ/ITE6KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMub2JzZXJ2ZXIub25FcnJvcihhKSwhMCl9LEhiLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFJiKHRoaXMpfSxPYi5jcmVhdGU9T2IuY3JlYXRlV2l0aERpc3Bvc2FibGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IEFjKGEsYil9O3ZhciBTYj1PYi5kZWZlcj1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IEFjKGZ1bmN0aW9uKGIpe3ZhciBjO3RyeXtjPWEoKX1jYXRjaChkKXtyZXR1cm4gZ2MoZCkuc3Vic2NyaWJlKGIpfXJldHVybiBqYShjKSYmKGM9dGMoYykpLGMuc3Vic2NyaWJlKGIpfSl9LFRiPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYil7dGhpcy5zY2hlZHVsZXI9YixhLmNhbGwodGhpcyl9ZnVuY3Rpb24gYyhhLGIpe3RoaXMub2JzZXJ2ZXI9YSx0aGlzLnBhcmVudD1ifWZ1bmN0aW9uIGQoYSxiKXtiLm9uQ29tcGxldGVkKCl9cmV0dXJuIGNiKGIsYSksYi5wcm90b3R5cGUuc3Vic2NyaWJlQ29yZT1mdW5jdGlvbihhKXt2YXIgYj1uZXcgYyhhLHRoaXMpO3JldHVybiBiLnJ1bigpfSxjLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQuc2NoZWR1bGVyLnNjaGVkdWxlV2l0aFN0YXRlKHRoaXMub2JzZXJ2ZXIsZCl9LGJ9KFFiKSxVYj1PYi5lbXB0eT1mdW5jdGlvbihhKXtyZXR1cm4gc2IoYSl8fChhPXZiKSxuZXcgVGIoYSl9LFZiPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYixjLGQpe3RoaXMuaXRlcmFibGU9Yix0aGlzLm1hcHBlcj1jLHRoaXMuc2NoZWR1bGVyPWQsYS5jYWxsKHRoaXMpfXJldHVybiBjYihiLGEpLGIucHJvdG90eXBlLnN1YnNjcmliZUNvcmU9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFdiKGEsdGhpcyk7cmV0dXJuIGIucnVuKCl9LGJ9KFFiKSxXYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXt0aGlzLm9ic2VydmVyPWEsdGhpcy5wYXJlbnQ9Yn1yZXR1cm4gYS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe3RyeXt2YXIgZj1jLm5leHQoKX1jYXRjaChnKXtyZXR1cm4gZC5vbkVycm9yKGcpfWlmKGYuZG9uZSlyZXR1cm4gZC5vbkNvbXBsZXRlZCgpO3ZhciBoPWYudmFsdWU7aWYoZSl0cnl7aD1lKGgsYSl9Y2F0Y2goZyl7cmV0dXJuIGQub25FcnJvcihnKX1kLm9uTmV4dChoKSxiKGErMSl9dmFyIGI9T2JqZWN0KHRoaXMucGFyZW50Lml0ZXJhYmxlKSxjPXooYiksZD10aGlzLm9ic2VydmVyLGU9dGhpcy5wYXJlbnQubWFwcGVyO3JldHVybiB0aGlzLnBhcmVudC5zY2hlZHVsZXIuc2NoZWR1bGVSZWN1cnNpdmVXaXRoU3RhdGUoMCxhKX0sYX0oKSxYYj1NYXRoLnBvdygyLDUzKS0xO3UucHJvdG90eXBlW3hhXT1mdW5jdGlvbigpe3JldHVybiBuZXcgdih0aGlzLl9zKX0sdi5wcm90b3R5cGVbeGFdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHYucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faTx0aGlzLl9sP3tkb25lOiExLHZhbHVlOnRoaXMuX3MuY2hhckF0KHRoaXMuX2krKyl9OnlhfSx3LnByb3RvdHlwZVt4YV09ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHgodGhpcy5fYSl9LHgucHJvdG90eXBlW3hhXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSx4LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2k8dGhpcy5fbD97ZG9uZTohMSx2YWx1ZTp0aGlzLl9hW3RoaXMuX2krK119OnlhfTt2YXIgWWI9T2IuZnJvbT1mdW5jdGlvbihhLGIsYyxkKXtpZihudWxsPT1hKXRocm93IG5ldyBFcnJvcihcIml0ZXJhYmxlIGNhbm5vdCBiZSBudWxsLlwiKTtpZihiJiYha2EoYikpdGhyb3cgbmV3IEVycm9yKFwibWFwRm4gd2hlbiBwcm92aWRlZCBtdXN0IGJlIGEgZnVuY3Rpb25cIik7aWYoYil2YXIgZT1DYShiLGMsMik7cmV0dXJuIHNiKGQpfHwoZD13YiksbmV3IFZiKGEsZSxkKX0sWmI9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiLGMpe3RoaXMuYXJncz1iLHRoaXMuc2NoZWR1bGVyPWMsYS5jYWxsKHRoaXMpfXJldHVybiBjYihiLGEpLGIucHJvdG90eXBlLnN1YnNjcmliZUNvcmU9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IEMoYSx0aGlzKTtyZXR1cm4gYi5ydW4oKX0sYn0oUWIpO0MucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxlKXtkPmE/KGIub25OZXh0KGNbYV0pLGUoYSsxKSk6Yi5vbkNvbXBsZXRlZCgpfXZhciBiPXRoaXMub2JzZXJ2ZXIsYz10aGlzLnBhcmVudC5hcmdzLGQ9Yy5sZW5ndGg7cmV0dXJuIHRoaXMucGFyZW50LnNjaGVkdWxlci5zY2hlZHVsZVJlY3Vyc2l2ZVdpdGhTdGF0ZSgwLGEpfTt7dmFyICRiPU9iLmZyb21BcnJheT1mdW5jdGlvbihhLGIpe3JldHVybiBzYihiKXx8KGI9d2IpLG5ldyBaYihhLGIpfSxfYj1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7YS5jYWxsKHRoaXMpfXJldHVybiBjYihiLGEpLGIucHJvdG90eXBlLnN1YnNjcmliZUNvcmU9ZnVuY3Rpb24oKXtyZXR1cm4ga2J9LGJ9KFFiKTtPYi5uZXZlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgX2J9fU9iLm9mPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPWFyZ3VtZW50cy5sZW5ndGgsYj1uZXcgQXJyYXkoYSksYz0wO2E+YztjKyspYltjXT1hcmd1bWVudHNbY107cmV0dXJuIG5ldyBaYihiLHdiKX0sT2Iub2ZXaXRoU2NoZWR1bGVyPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hcmd1bWVudHMubGVuZ3RoLGM9bmV3IEFycmF5KGItMSksZD0xO2I+ZDtkKyspY1tkLTFdPWFyZ3VtZW50c1tkXTtyZXR1cm4gbmV3IFpiKGMsYSl9O3ZhciBhYz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIsYyl7dGhpcy5vYmo9Yix0aGlzLmtleXM9T2JqZWN0LmtleXMoYiksdGhpcy5zY2hlZHVsZXI9YyxhLmNhbGwodGhpcyl9cmV0dXJuIGNiKGIsYSksYi5wcm90b3R5cGUuc3Vic2NyaWJlQ29yZT1mdW5jdGlvbihhKXt2YXIgYj1uZXcgRShhLHRoaXMpO3JldHVybiBiLnJ1bigpfSxifShRYik7RS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGYpe2lmKGU+YSl7dmFyIGc9ZFthXTtiLm9uTmV4dChbZyxjW2ddXSksZihhKzEpfWVsc2UgYi5vbkNvbXBsZXRlZCgpfXZhciBiPXRoaXMub2JzZXJ2ZXIsYz10aGlzLnBhcmVudC5vYmosZD10aGlzLnBhcmVudC5rZXlzLGU9ZC5sZW5ndGg7cmV0dXJuIHRoaXMucGFyZW50LnNjaGVkdWxlci5zY2hlZHVsZVJlY3Vyc2l2ZVdpdGhTdGF0ZSgwLGEpfSxPYi5wYWlycz1mdW5jdGlvbihhLGIpe3JldHVybiBifHwoYj13YiksbmV3IGFjKGEsYil9O3ZhciBiYz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIsYyxkKXt0aGlzLnN0YXJ0PWIsdGhpcy5jb3VudD1jLHRoaXMuc2NoZWR1bGVyPWQsYS5jYWxsKHRoaXMpfXJldHVybiBjYihiLGEpLGIucHJvdG90eXBlLnN1YnNjcmliZUNvcmU9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGNjKGEsdGhpcyk7cmV0dXJuIGIucnVuKCl9LGJ9KFFiKSxjYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXt0aGlzLm9ic2VydmVyPWEsdGhpcy5wYXJlbnQ9Yn1yZXR1cm4gYS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7XG5mdW5jdGlvbiBhKGEsZSl7Yz5hPyhkLm9uTmV4dChiK2EpLGUoYSsxKSk6ZC5vbkNvbXBsZXRlZCgpfXZhciBiPXRoaXMucGFyZW50LnN0YXJ0LGM9dGhpcy5wYXJlbnQuY291bnQsZD10aGlzLm9ic2VydmVyO3JldHVybiB0aGlzLnBhcmVudC5zY2hlZHVsZXIuc2NoZWR1bGVSZWN1cnNpdmVXaXRoU3RhdGUoMCxhKX0sYX0oKTtPYi5yYW5nZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHNiKGMpfHwoYz13YiksbmV3IGJjKGEsYixjKX07dmFyIGRjPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYixjLGQpe3RoaXMudmFsdWU9Yix0aGlzLnJlcGVhdENvdW50PW51bGw9PWM/LTE6Yyx0aGlzLnNjaGVkdWxlcj1kLGEuY2FsbCh0aGlzKX1yZXR1cm4gY2IoYixhKSxiLnByb3RvdHlwZS5zdWJzY3JpYmVDb3JlPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBGKGEsdGhpcyk7cmV0dXJuIGIucnVuKCl9LGJ9KFFiKTtGLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsZCl7cmV0dXJuKC0xPT09YXx8YT4wKSYmKGIub25OZXh0KGMpLGE+MCYmYS0tKSwwPT09YT9iLm9uQ29tcGxldGVkKCk6dm9pZCBkKGEpfXZhciBiPXRoaXMub2JzZXJ2ZXIsYz10aGlzLnBhcmVudC52YWx1ZTtyZXR1cm4gdGhpcy5wYXJlbnQuc2NoZWR1bGVyLnNjaGVkdWxlUmVjdXJzaXZlV2l0aFN0YXRlKHRoaXMucGFyZW50LnJlcGVhdENvdW50LGEpfSxPYi5yZXBlYXQ9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBzYihjKXx8KGM9d2IpLG5ldyBkYyhhLGIsYyl9O3ZhciBlYz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIsYyl7dGhpcy52YWx1ZT1iLHRoaXMuc2NoZWR1bGVyPWMsYS5jYWxsKHRoaXMpfWZ1bmN0aW9uIGMoYSxiKXt0aGlzLm9ic2VydmVyPWEsdGhpcy5wYXJlbnQ9Yn1mdW5jdGlvbiBkKGEsYil7dmFyIGM9YlswXSxkPWJbMV07ZC5vbk5leHQoYyksZC5vbkNvbXBsZXRlZCgpfXJldHVybiBjYihiLGEpLGIucHJvdG90eXBlLnN1YnNjcmliZUNvcmU9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGMoYSx0aGlzKTtyZXR1cm4gYi5ydW4oKX0sYy5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50LnNjaGVkdWxlci5zY2hlZHVsZVdpdGhTdGF0ZShbdGhpcy5wYXJlbnQudmFsdWUsdGhpcy5vYnNlcnZlcl0sZCl9LGJ9KFFiKSxmYz0oT2JbXCJyZXR1cm5cIl09T2IuanVzdD1PYi5yZXR1cm5WYWx1ZT1mdW5jdGlvbihhLGIpe3JldHVybiBzYihiKXx8KGI9dmIpLG5ldyBlYyhhLGIpfSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIsYyl7dGhpcy5lcnJvcj1iLHRoaXMuc2NoZWR1bGVyPWMsYS5jYWxsKHRoaXMpfWZ1bmN0aW9uIGMoYSxiKXt0aGlzLm9ic2VydmVyPWEsdGhpcy5wYXJlbnQ9Yn1mdW5jdGlvbiBkKGEsYil7dmFyIGM9YlswXSxkPWJbMV07ZC5vbkVycm9yKGMpfXJldHVybiBjYihiLGEpLGIucHJvdG90eXBlLnN1YnNjcmliZUNvcmU9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGMoYSx0aGlzKTtyZXR1cm4gYi5ydW4oKX0sYy5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50LnNjaGVkdWxlci5zY2hlZHVsZVdpdGhTdGF0ZShbdGhpcy5wYXJlbnQuZXJyb3IsdGhpcy5vYnNlcnZlcl0sZCl9LGJ9KFFiKSksZ2M9T2JbXCJ0aHJvd1wiXT1PYi50aHJvd0Vycm9yPU9iLnRocm93RXhjZXB0aW9uPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHNiKGIpfHwoYj12YiksbmV3IGZjKGEsYil9O0hiW1wiY2F0Y2hcIl09SGIuY2F0Y2hFcnJvcj1IYi5jYXRjaEV4Y2VwdGlvbj1mdW5jdGlvbihhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBhP0codGhpcyxhKTpoYyhbdGhpcyxhXSl9O3ZhciBoYz1PYi5jYXRjaEVycm9yPU9iW1wiY2F0Y2hcIl09T2IuY2F0Y2hFeGNlcHRpb249ZnVuY3Rpb24oKXt2YXIgYT1bXTtpZihBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkpYT1hcmd1bWVudHNbMF07ZWxzZSBmb3IodmFyIGI9MCxjPWFyZ3VtZW50cy5sZW5ndGg7Yz5iO2IrKylhLnB1c2goYXJndW1lbnRzW2JdKTtyZXR1cm4gSmIoYSkuY2F0Y2hFcnJvcigpfTtIYi5jb21iaW5lTGF0ZXN0PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPWFyZ3VtZW50cy5sZW5ndGgsYj1uZXcgQXJyYXkoYSksYz0wO2E+YztjKyspYltjXT1hcmd1bWVudHNbY107cmV0dXJuIEFycmF5LmlzQXJyYXkoYlswXSk/YlswXS51bnNoaWZ0KHRoaXMpOmIudW5zaGlmdCh0aGlzKSxpYy5hcHBseSh0aGlzLGIpfTt2YXIgaWM9T2IuY29tYmluZUxhdGVzdD1mdW5jdGlvbigpe2Zvcih2YXIgYT1hcmd1bWVudHMubGVuZ3RoLGI9bmV3IEFycmF5KGEpLGM9MDthPmM7YysrKWJbY109YXJndW1lbnRzW2NdO3ZhciBkPWIucG9wKCk7cmV0dXJuIEFycmF5LmlzQXJyYXkoYlswXSkmJihiPWJbMF0pLG5ldyBBYyhmdW5jdGlvbihhKXtmdW5jdGlvbiBjKGIpe2lmKGhbYl09ITAsaXx8KGk9aC5ldmVyeShlYSkpKXt0cnl7dmFyIGM9ZC5hcHBseShudWxsLGspfWNhdGNoKGUpe3JldHVybiBhLm9uRXJyb3IoZSl9YS5vbk5leHQoYyl9ZWxzZSBqLmZpbHRlcihmdW5jdGlvbihhLGMpe3JldHVybiBjIT09Yn0pLmV2ZXJ5KGVhKSYmYS5vbkNvbXBsZXRlZCgpfWZ1bmN0aW9uIGUoYil7altiXT0hMCxqLmV2ZXJ5KGVhKSYmYS5vbkNvbXBsZXRlZCgpfWZvcih2YXIgZj1iLmxlbmd0aCxnPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGg9cShmLGcpLGk9ITEsaj1xKGYsZyksaz1uZXcgQXJyYXkoZiksbD1uZXcgQXJyYXkoZiksbT0wO2Y+bTttKyspIWZ1bmN0aW9uKGQpe3ZhciBmPWJbZF0sZz1uZXcgbmI7amEoZikmJihmPXRjKGYpKSxnLnNldERpc3Bvc2FibGUoZi5zdWJzY3JpYmUoZnVuY3Rpb24oYSl7a1tkXT1hLGMoZCl9LGZ1bmN0aW9uKGIpe2Eub25FcnJvcihiKX0sZnVuY3Rpb24oKXtlKGQpfSkpLGxbZF09Z30obSk7cmV0dXJuIG5ldyBnYihsKX0sdGhpcyl9O0hiLmNvbmNhdD1mdW5jdGlvbigpe2Zvcih2YXIgYT1bXSxiPTAsYz1hcmd1bWVudHMubGVuZ3RoO2M+YjtiKyspYS5wdXNoKGFyZ3VtZW50c1tiXSk7cmV0dXJuIGEudW5zaGlmdCh0aGlzKSxqYy5hcHBseShudWxsLGEpfTt2YXIgamM9T2IuY29uY2F0PWZ1bmN0aW9uKCl7dmFyIGE7aWYoQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMF0pKWE9YXJndW1lbnRzWzBdO2Vsc2V7YT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7Zm9yKHZhciBiPTAsYz1hcmd1bWVudHMubGVuZ3RoO2M+YjtiKyspYVtiXT1hcmd1bWVudHNbYl19cmV0dXJuIEpiKGEpLmNvbmNhdCgpfTtIYi5jb25jYXRBbGw9SGIuY29uY2F0T2JzZXJ2YWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1lcmdlKDEpfTt2YXIga2M9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiLGMpe3RoaXMuc291cmNlPWIsdGhpcy5tYXhDb25jdXJyZW50PWMsYS5jYWxsKHRoaXMpfXJldHVybiBjYihiLGEpLGIucHJvdG90eXBlLnN1YnNjcmliZUNvcmU9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGdiO3JldHVybiBiLmFkZCh0aGlzLnNvdXJjZS5zdWJzY3JpYmUobmV3IGxjKGEsdGhpcy5tYXhDb25jdXJyZW50LGIpKSksYn0sYn0oUWIpLGxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyl7dGhpcy5vPWEsdGhpcy5tYXg9Yix0aGlzLmc9Yyx0aGlzLmRvbmU9ITEsdGhpcy5xPVtdLHRoaXMuYWN0aXZlQ291bnQ9MCx0aGlzLmlzU3RvcHBlZD0hMX1mdW5jdGlvbiBiKGEsYil7dGhpcy5wYXJlbnQ9YSx0aGlzLnNhZD1iLHRoaXMuaXNTdG9wcGVkPSExfXJldHVybiBhLnByb3RvdHlwZS5oYW5kbGVTdWJzY3JpYmU9ZnVuY3Rpb24oYSl7dmFyIGM9bmV3IG5iO3RoaXMuZy5hZGQoYyksamEoYSkmJihhPXRjKGEpKSxjLnNldERpc3Bvc2FibGUoYS5zdWJzY3JpYmUobmV3IGIodGhpcyxjKSkpfSxhLnByb3RvdHlwZS5vbk5leHQ9ZnVuY3Rpb24oYSl7dGhpcy5pc1N0b3BwZWR8fCh0aGlzLmFjdGl2ZUNvdW50PHRoaXMubWF4Pyh0aGlzLmFjdGl2ZUNvdW50KyssdGhpcy5oYW5kbGVTdWJzY3JpYmUoYSkpOnRoaXMucS5wdXNoKGEpKX0sYS5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbihhKXt0aGlzLmlzU3RvcHBlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMuby5vbkVycm9yKGEpKX0sYS5wcm90b3R5cGUub25Db21wbGV0ZWQ9ZnVuY3Rpb24oKXt0aGlzLmlzU3RvcHBlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMuZG9uZT0hMCwwPT09dGhpcy5hY3RpdmVDb3VudCYmdGhpcy5vLm9uQ29tcGxldGVkKCkpfSxhLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5pc1N0b3BwZWQ9ITB9LGEucHJvdG90eXBlLmZhaWw9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNTdG9wcGVkPyExOih0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLm8ub25FcnJvcihhKSwhMCl9LGIucHJvdG90eXBlLm9uTmV4dD1mdW5jdGlvbihhKXt0aGlzLmlzU3RvcHBlZHx8dGhpcy5wYXJlbnQuby5vbk5leHQoYSl9LGIucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24oYSl7dGhpcy5pc1N0b3BwZWR8fCh0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLnBhcmVudC5vLm9uRXJyb3IoYSkpfSxiLnByb3RvdHlwZS5vbkNvbXBsZXRlZD1mdW5jdGlvbigpe2lmKCF0aGlzLmlzU3RvcHBlZCl7dGhpcy5pc1N0b3BwZWQ9ITA7dmFyIGE9dGhpcy5wYXJlbnQ7YS5nLnJlbW92ZSh0aGlzLnNhZCksYS5xLmxlbmd0aD4wP2EuaGFuZGxlU3Vic2NyaWJlKGEucS5zaGlmdCgpKTooYS5hY3RpdmVDb3VudC0tLGEuZG9uZSYmMD09PWEuYWN0aXZlQ291bnQmJmEuby5vbkNvbXBsZXRlZCgpKX19LGIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmlzU3RvcHBlZD0hMH0sYi5wcm90b3R5cGUuZmFpbD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc1N0b3BwZWQ/ITE6KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMucGFyZW50Lm8ub25FcnJvcihhKSwhMCl9LGF9KCk7SGIubWVyZ2U9ZnVuY3Rpb24oYSl7cmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIGE/bWModGhpcyxhKTpuZXcga2ModGhpcyxhKX07dmFyIG1jPU9iLm1lcmdlPWZ1bmN0aW9uKCl7dmFyIGEsYixjPVtdLGQ9YXJndW1lbnRzLmxlbmd0aDtpZihhcmd1bWVudHNbMF0paWYoc2IoYXJndW1lbnRzWzBdKSlmb3IoYT1hcmd1bWVudHNbMF0sYj0xO2Q+YjtiKyspYy5wdXNoKGFyZ3VtZW50c1tiXSk7ZWxzZSBmb3IoYT12YixiPTA7ZD5iO2IrKyljLnB1c2goYXJndW1lbnRzW2JdKTtlbHNlIGZvcihhPXZiLGI9MTtkPmI7YisrKWMucHVzaChhcmd1bWVudHNbYl0pO3JldHVybiBBcnJheS5pc0FycmF5KGNbMF0pJiYoYz1jWzBdKSxEKGEsYykubWVyZ2VBbGwoKX0sbmM9Y2EuQ29tcG9zaXRlRXJyb3I9ZnVuY3Rpb24oYSl7dGhpcy5uYW1lPVwiTm90SW1wbGVtZW50ZWRFcnJvclwiLHRoaXMuaW5uZXJFcnJvcnM9YSx0aGlzLm1lc3NhZ2U9XCJUaGlzIGNvbnRhaW5zIG11bHRpcGxlIGVycm9ycy4gQ2hlY2sgdGhlIGlubmVyRXJyb3JzXCIsRXJyb3IuY2FsbCh0aGlzKX07bmMucHJvdG90eXBlPUVycm9yLnByb3RvdHlwZSxPYi5tZXJnZURlbGF5RXJyb3I9ZnVuY3Rpb24oKXt2YXIgYTtpZihBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkpYT1hcmd1bWVudHNbMF07ZWxzZXt2YXIgYj1hcmd1bWVudHMubGVuZ3RoO2E9bmV3IEFycmF5KGIpO2Zvcih2YXIgYz0wO2I+YztjKyspYVtjXT1hcmd1bWVudHNbY119dmFyIGQ9RChudWxsLGEpO3JldHVybiBuZXcgQWMoZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpezA9PT1nLmxlbmd0aD9hLm9uQ29tcGxldGVkKCk6YS5vbkVycm9yKDE9PT1nLmxlbmd0aD9nWzBdOm5ldyBuYyhnKSl9dmFyIGM9bmV3IGdiLGU9bmV3IG5iLGY9ITEsZz1bXTtyZXR1cm4gYy5hZGQoZSksZS5zZXREaXNwb3NhYmxlKGQuc3Vic2NyaWJlKGZ1bmN0aW9uKGQpe3ZhciBlPW5ldyBuYjtjLmFkZChlKSxqYShkKSYmKGQ9dGMoZCkpLGUuc2V0RGlzcG9zYWJsZShkLnN1YnNjcmliZShmdW5jdGlvbihiKXthLm9uTmV4dChiKX0sZnVuY3Rpb24oYSl7Zy5wdXNoKGEpLGMucmVtb3ZlKGUpLGYmJjE9PT1jLmxlbmd0aCYmYigpfSxmdW5jdGlvbigpe2MucmVtb3ZlKGUpLGYmJjE9PT1jLmxlbmd0aCYmYigpfSkpfSxmdW5jdGlvbihhKXtnLnB1c2goYSksZj0hMCwxPT09Yy5sZW5ndGgmJmIoKX0sZnVuY3Rpb24oKXtmPSEwLDE9PT1jLmxlbmd0aCYmYigpfSkpLGN9KX07dmFyIG9jPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYil7dGhpcy5zb3VyY2U9YixhLmNhbGwodGhpcyl9cmV0dXJuIGNiKGIsYSksYi5wcm90b3R5cGUuc3Vic2NyaWJlQ29yZT1mdW5jdGlvbihhKXt2YXIgYj1uZXcgZ2IsYz1uZXcgbmI7cmV0dXJuIGIuYWRkKGMpLGMuc2V0RGlzcG9zYWJsZSh0aGlzLnNvdXJjZS5zdWJzY3JpYmUobmV3IHBjKGEsYikpKSxifSxifShRYikscGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7dGhpcy5vPWEsdGhpcy5nPWIsdGhpcy5pc1N0b3BwZWQ9ITEsdGhpcy5kb25lPSExfWZ1bmN0aW9uIGIoYSxiLGMpe3RoaXMucGFyZW50PWEsdGhpcy5nPWIsdGhpcy5zYWQ9Yyx0aGlzLmlzU3RvcHBlZD0hMX1yZXR1cm4gYS5wcm90b3R5cGUub25OZXh0PWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmlzU3RvcHBlZCl7dmFyIGM9bmV3IG5iO3RoaXMuZy5hZGQoYyksamEoYSkmJihhPXRjKGEpKSxjLnNldERpc3Bvc2FibGUoYS5zdWJzY3JpYmUobmV3IGIodGhpcyx0aGlzLmcsYykpKX19LGEucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24oYSl7dGhpcy5pc1N0b3BwZWR8fCh0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLm8ub25FcnJvcihhKSl9LGEucHJvdG90eXBlLm9uQ29tcGxldGVkPWZ1bmN0aW9uKCl7dGhpcy5pc1N0b3BwZWR8fCh0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLmRvbmU9ITAsMT09PXRoaXMuZy5sZW5ndGgmJnRoaXMuby5vbkNvbXBsZXRlZCgpKX0sYS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuaXNTdG9wcGVkPSEwfSxhLnByb3RvdHlwZS5mYWlsPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzU3RvcHBlZD8hMToodGhpcy5pc1N0b3BwZWQ9ITAsdGhpcy5vLm9uRXJyb3IoYSksITApfSxiLnByb3RvdHlwZS5vbk5leHQ9ZnVuY3Rpb24oYSl7dGhpcy5pc1N0b3BwZWR8fHRoaXMucGFyZW50Lm8ub25OZXh0KGEpfSxiLnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKGEpe3RoaXMuaXNTdG9wcGVkfHwodGhpcy5pc1N0b3BwZWQ9ITAsdGhpcy5wYXJlbnQuby5vbkVycm9yKGEpKX0sYi5wcm90b3R5cGUub25Db21wbGV0ZWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5pc1N0b3BwZWQpe3ZhciBhPXRoaXMucGFyZW50O3RoaXMuaXNTdG9wcGVkPSEwLGEuZy5yZW1vdmUodGhpcy5zYWQpLGEuZG9uZSYmMT09PWEuZy5sZW5ndGgmJmEuby5vbkNvbXBsZXRlZCgpfX0sYi5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuaXNTdG9wcGVkPSEwfSxiLnByb3RvdHlwZS5mYWlsPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzU3RvcHBlZD8hMToodGhpcy5pc1N0b3BwZWQ9ITAsdGhpcy5wYXJlbnQuby5vbkVycm9yKGEpLCEwKX0sYX0oKTtIYi5tZXJnZUFsbD1IYi5tZXJnZU9ic2VydmFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG9jKHRoaXMpfSxIYi5za2lwVW50aWw9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gbmV3IEFjKGZ1bmN0aW9uKGMpe3ZhciBkPSExLGU9bmV3IGdiKGIuc3Vic2NyaWJlKGZ1bmN0aW9uKGEpe2QmJmMub25OZXh0KGEpfSxmdW5jdGlvbihhKXtjLm9uRXJyb3IoYSl9LGZ1bmN0aW9uKCl7ZCYmYy5vbkNvbXBsZXRlZCgpfSkpO2phKGEpJiYoYT10YyhhKSk7dmFyIGY9bmV3IG5iO3JldHVybiBlLmFkZChmKSxmLnNldERpc3Bvc2FibGUoYS5zdWJzY3JpYmUoZnVuY3Rpb24oKXtkPSEwLGYuZGlzcG9zZSgpfSxmdW5jdGlvbihhKXtjLm9uRXJyb3IoYSl9LGZ1bmN0aW9uKCl7Zi5kaXNwb3NlKCl9KSksZX0sYil9LEhiW1wic3dpdGNoXCJdPUhiLnN3aXRjaExhdGVzdD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIG5ldyBBYyhmdW5jdGlvbihiKXt2YXIgYz0hMSxkPW5ldyBvYixlPSExLGY9MCxnPWEuc3Vic2NyaWJlKGZ1bmN0aW9uKGEpe3ZhciBnPW5ldyBuYixoPSsrZjtjPSEwLGQuc2V0RGlzcG9zYWJsZShnKSxqYShhKSYmKGE9dGMoYSkpLGcuc2V0RGlzcG9zYWJsZShhLnN1YnNjcmliZShmdW5jdGlvbihhKXtmPT09aCYmYi5vbk5leHQoYSl9LGZ1bmN0aW9uKGEpe2Y9PT1oJiZiLm9uRXJyb3IoYSl9LGZ1bmN0aW9uKCl7Zj09PWgmJihjPSExLGUmJmIub25Db21wbGV0ZWQoKSl9KSl9LGZ1bmN0aW9uKGEpe2Iub25FcnJvcihhKX0sZnVuY3Rpb24oKXtlPSEwLCFjJiZiLm9uQ29tcGxldGVkKCl9KTtyZXR1cm4gbmV3IGdiKGcsZCl9LGEpfSxIYi50YWtlVW50aWw9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gbmV3IEFjKGZ1bmN0aW9uKGMpe3JldHVybiBqYShhKSYmKGE9dGMoYSkpLG5ldyBnYihiLnN1YnNjcmliZShjKSxhLnN1YnNjcmliZShmdW5jdGlvbigpe2Mub25Db21wbGV0ZWQoKX0sZnVuY3Rpb24oYSl7Yy5vbkVycm9yKGEpfSxkYSkpfSxiKX0sSGIud2l0aExhdGVzdEZyb209ZnVuY3Rpb24oKXtmb3IodmFyIGE9YXJndW1lbnRzLmxlbmd0aCxiPW5ldyBBcnJheShhKSxjPTA7YT5jO2MrKyliW2NdPWFyZ3VtZW50c1tjXTt2YXIgZD1iLnBvcCgpLGU9dGhpcztpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJTb3VyY2Ugb2JzZXJ2YWJsZSBub3QgZm91bmQgZm9yIHdpdGhMYXRlc3RGcm9tKCkuXCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGQpdGhyb3cgbmV3IEVycm9yKFwid2l0aExhdGVzdEZyb20oKSBleHBlY3RzIGEgcmVzdWx0U2VsZWN0b3IgZnVuY3Rpb24uXCIpO3JldHVybiBBcnJheS5pc0FycmF5KGJbMF0pJiYoYj1iWzBdKSxuZXcgQWMoZnVuY3Rpb24oYSl7Zm9yKHZhciBjPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGY9Yi5sZW5ndGgsZz1xKGYsYyksaD0hMSxpPW5ldyBBcnJheShmKSxqPW5ldyBBcnJheShmKzEpLGs9MDtmPms7aysrKSFmdW5jdGlvbihjKXt2YXIgZD1iW2NdLGU9bmV3IG5iO2phKGQpJiYoZD10YyhkKSksZS5zZXREaXNwb3NhYmxlKGQuc3Vic2NyaWJlKGZ1bmN0aW9uKGEpe2lbY109YSxnW2NdPSEwLGg9Zy5ldmVyeShlYSl9LGEub25FcnJvci5iaW5kKGEpLGZ1bmN0aW9uKCl7fSkpLGpbY109ZX0oayk7dmFyIGw9bmV3IG5iO3JldHVybiBsLnNldERpc3Bvc2FibGUoZS5zdWJzY3JpYmUoZnVuY3Rpb24oYil7dmFyIGMsZT1bYl0uY29uY2F0KGkpO2lmKGgpe3RyeXtjPWQuYXBwbHkobnVsbCxlKX1jYXRjaChmKXtyZXR1cm4gdm9pZCBhLm9uRXJyb3IoZil9YS5vbk5leHQoYyl9fSxhLm9uRXJyb3IuYmluZChhKSxmdW5jdGlvbigpe2Eub25Db21wbGV0ZWQoKX0pKSxqW2ZdPWwsbmV3IGdiKGopfSx0aGlzKX0sSGIuemlwPWZ1bmN0aW9uKCl7aWYoQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMF0pKXJldHVybiBILmFwcGx5KHRoaXMsYXJndW1lbnRzKTtmb3IodmFyIGE9YXJndW1lbnRzLmxlbmd0aCxiPW5ldyBBcnJheShhKSxjPTA7YT5jO2MrKyliW2NdPWFyZ3VtZW50c1tjXTt2YXIgZD10aGlzLGU9Yi5wb3AoKTtyZXR1cm4gYi51bnNoaWZ0KGQpLG5ldyBBYyhmdW5jdGlvbihhKXtmdW5jdGlvbiBjKGIpe3ZhciBjLGY7aWYoaC5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGg+MH0pKXt0cnl7Zj1oLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5zaGlmdCgpfSksYz1lLmFwcGx5KGQsZil9Y2F0Y2goZyl7cmV0dXJuIHZvaWQgYS5vbkVycm9yKGcpfWEub25OZXh0KGMpfWVsc2UgaS5maWx0ZXIoZnVuY3Rpb24oYSxjKXtyZXR1cm4gYyE9PWJ9KS5ldmVyeShlYSkmJmEub25Db21wbGV0ZWQoKX1mdW5jdGlvbiBmKGIpe2lbYl09ITAsaS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYX0pJiZhLm9uQ29tcGxldGVkKCl9Zm9yKHZhciBnPWIubGVuZ3RoLGg9cShnLEopLGk9cShnLEkpLGo9bmV3IEFycmF5KGcpLGs9MDtnPms7aysrKSFmdW5jdGlvbihkKXt2YXIgZT1iW2RdLGc9bmV3IG5iO2phKGUpJiYoZT10YyhlKSksZy5zZXREaXNwb3NhYmxlKGUuc3Vic2NyaWJlKGZ1bmN0aW9uKGEpe2hbZF0ucHVzaChhKSxjKGQpfSxmdW5jdGlvbihiKXthLm9uRXJyb3IoYil9LGZ1bmN0aW9uKCl7ZihkKX0pKSxqW2RdPWd9KGspO3JldHVybiBuZXcgZ2Ioail9LGQpfSxPYi56aXA9ZnVuY3Rpb24oKXtmb3IodmFyIGE9YXJndW1lbnRzLmxlbmd0aCxiPW5ldyBBcnJheShhKSxjPTA7YT5jO2MrKyliW2NdPWFyZ3VtZW50c1tjXTt2YXIgZD1iLnNoaWZ0KCk7cmV0dXJuIGQuemlwLmFwcGx5KGQsYil9LE9iLnppcEFycmF5PWZ1bmN0aW9uKCl7dmFyIGE7aWYoQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMF0pKWE9YXJndW1lbnRzWzBdO2Vsc2V7dmFyIGI9YXJndW1lbnRzLmxlbmd0aDthPW5ldyBBcnJheShiKTtmb3IodmFyIGM9MDtiPmM7YysrKWFbY109YXJndW1lbnRzW2NdfXJldHVybiBuZXcgQWMoZnVuY3Rpb24oYil7ZnVuY3Rpb24gYyhhKXtpZihmLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLmxlbmd0aD4wfSkpe3ZhciBjPWYubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnNoaWZ0KCl9KTtiLm9uTmV4dChjKX1lbHNlIGlmKGcuZmlsdGVyKGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGMhPT1hfSkuZXZlcnkoZWEpKXJldHVybiB2b2lkIGIub25Db21wbGV0ZWQoKX1mdW5jdGlvbiBkKGEpe3JldHVybiBnW2FdPSEwLGcuZXZlcnkoZWEpP3ZvaWQgYi5vbkNvbXBsZXRlZCgpOnZvaWQgMH1mb3IodmFyIGU9YS5sZW5ndGgsZj1xKGUsZnVuY3Rpb24oKXtyZXR1cm5bXX0pLGc9cShlLGZ1bmN0aW9uKCl7cmV0dXJuITF9KSxoPW5ldyBBcnJheShlKSxpPTA7ZT5pO2krKykhZnVuY3Rpb24oZSl7aFtlXT1uZXcgbmIsaFtlXS5zZXREaXNwb3NhYmxlKGFbZV0uc3Vic2NyaWJlKGZ1bmN0aW9uKGEpe2ZbZV0ucHVzaChhKSxjKGUpfSxmdW5jdGlvbihhKXtiLm9uRXJyb3IoYSl9LGZ1bmN0aW9uKCl7ZChlKX0pKX0oaSk7cmV0dXJuIG5ldyBnYihoKX0pfSxIYi5hc09ic2VydmFibGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBuZXcgQWMoZnVuY3Rpb24oYil7cmV0dXJuIGEuc3Vic2NyaWJlKGIpfSx0aGlzKX0sSGIuZGVtYXRlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIG5ldyBBYyhmdW5jdGlvbihiKXtyZXR1cm4gYS5zdWJzY3JpYmUoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYWNjZXB0KGIpfSxmdW5jdGlvbihhKXtiLm9uRXJyb3IoYSl9LGZ1bmN0aW9uKCl7Yi5vbkNvbXBsZXRlZCgpfSl9LHRoaXMpfSxIYi5kaXN0aW5jdFVudGlsQ2hhbmdlZD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7cmV0dXJuIGJ8fChiPWdhKSxuZXcgQWMoZnVuY3Rpb24oZCl7dmFyIGUsZj0hMTtyZXR1cm4gYy5zdWJzY3JpYmUoZnVuY3Rpb24oYyl7dmFyIGc9YztpZihhKXRyeXtnPWEoYyl9Y2F0Y2goaCl7cmV0dXJuIHZvaWQgZC5vbkVycm9yKGgpfWlmKGYpdHJ5e3ZhciBpPWIoZSxnKX1jYXRjaChoKXtyZXR1cm4gdm9pZCBkLm9uRXJyb3IoaCl9ZiYmaXx8KGY9ITAsZT1nLGQub25OZXh0KGMpKX0sZnVuY3Rpb24oYSl7ZC5vbkVycm9yKGEpfSxmdW5jdGlvbigpe2Qub25Db21wbGV0ZWQoKX0pfSx0aGlzKX0sSGJbXCJkb1wiXT1IYi50YXA9SGIuZG9BY3Rpb249ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXM7cmV0dXJuIG5ldyBBYyhmdW5jdGlvbihlKXt2YXIgZj0hYXx8a2EoYSk/TGIoYXx8ZGEsYnx8ZGEsY3x8ZGEpOmE7cmV0dXJuIGQuc3Vic2NyaWJlKGZ1bmN0aW9uKGEpe3RyeXtmLm9uTmV4dChhKX1jYXRjaChiKXtlLm9uRXJyb3IoYil9ZS5vbk5leHQoYSl9LGZ1bmN0aW9uKGEpe3RyeXtmLm9uRXJyb3IoYSl9Y2F0Y2goYil7ZS5vbkVycm9yKGIpfWUub25FcnJvcihhKX0sZnVuY3Rpb24oKXt0cnl7Zi5vbkNvbXBsZXRlZCgpfWNhdGNoKGEpe2Uub25FcnJvcihhKX1lLm9uQ29tcGxldGVkKCl9KX0sdGhpcyl9LEhiLmRvT25OZXh0PUhiLnRhcE9uTmV4dD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnRhcChcInVuZGVmaW5lZFwiIT10eXBlb2YgYj9mdW5jdGlvbihjKXthLmNhbGwoYixjKX06YSl9LEhiLmRvT25FcnJvcj1IYi50YXBPbkVycm9yPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMudGFwKGRhLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBiP2Z1bmN0aW9uKGMpe2EuY2FsbChiLGMpfTphKX0sSGIuZG9PbkNvbXBsZXRlZD1IYi50YXBPbkNvbXBsZXRlZD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnRhcChkYSxudWxsLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBiP2Z1bmN0aW9uKCl7YS5jYWxsKGIpfTphKX0sSGJbXCJmaW5hbGx5XCJdPUhiLmVuc3VyZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBuZXcgQWMoZnVuY3Rpb24oYyl7dmFyIGQ7dHJ5e2Q9Yi5zdWJzY3JpYmUoYyl9Y2F0Y2goZSl7dGhyb3cgYSgpLGV9cmV0dXJuIGpiKGZ1bmN0aW9uKCl7dHJ5e2QuZGlzcG9zZSgpfWNhdGNoKGIpe3Rocm93IGJ9ZmluYWxseXthKCl9fSl9LHRoaXMpfSxIYi5maW5hbGx5QWN0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVuc3VyZShhKX0sSGIuaWdub3JlRWxlbWVudHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBuZXcgQWMoZnVuY3Rpb24oYil7cmV0dXJuIGEuc3Vic2NyaWJlKGRhLGZ1bmN0aW9uKGEpe2Iub25FcnJvcihhKX0sZnVuY3Rpb24oKXtiLm9uQ29tcGxldGVkKCl9KX0sYSl9LEhiLm1hdGVyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gbmV3IEFjKGZ1bmN0aW9uKGIpe3JldHVybiBhLnN1YnNjcmliZShmdW5jdGlvbihhKXtiLm9uTmV4dChDYihhKSl9LGZ1bmN0aW9uKGEpe2Iub25OZXh0KERiKGEpKSxiLm9uQ29tcGxldGVkKCl9LGZ1bmN0aW9uKCl7Yi5vbk5leHQoRWIoKSksYi5vbkNvbXBsZXRlZCgpfSl9LGEpfSxIYi5yZXBlYXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIEliKHRoaXMsYSkuY29uY2F0KCl9LEhiLnJldHJ5PWZ1bmN0aW9uKGEpe3JldHVybiBJYih0aGlzLGEpLmNhdGNoRXJyb3IoKX0sSGIucmV0cnlXaGVuPWZ1bmN0aW9uKGEpe3JldHVybiBJYih0aGlzKS5jYXRjaEVycm9yV2hlbihhKX0sSGIuc2Nhbj1mdW5jdGlvbigpe3ZhciBhLGIsYz0hMSxkPXRoaXM7cmV0dXJuIDI9PT1hcmd1bWVudHMubGVuZ3RoPyhjPSEwLGE9YXJndW1lbnRzWzBdLGI9YXJndW1lbnRzWzFdKTpiPWFyZ3VtZW50c1swXSxuZXcgQWMoZnVuY3Rpb24oZSl7dmFyIGYsZyxoO3JldHVybiBkLnN1YnNjcmliZShmdW5jdGlvbihkKXshaCYmKGg9ITApO3RyeXtmP2c9YihnLGQpOihnPWM/YihhLGQpOmQsZj0hMCl9Y2F0Y2goaSl7cmV0dXJuIHZvaWQgZS5vbkVycm9yKGkpfWUub25OZXh0KGcpfSxmdW5jdGlvbihhKXtlLm9uRXJyb3IoYSl9LGZ1bmN0aW9uKCl7IWgmJmMmJmUub25OZXh0KGEpLGUub25Db21wbGV0ZWQoKX0pfSxkKX0sSGIuc2tpcExhc3Q9ZnVuY3Rpb24oYSl7aWYoMD5hKXRocm93IG5ldyBzYTt2YXIgYj10aGlzO3JldHVybiBuZXcgQWMoZnVuY3Rpb24oYyl7dmFyIGQ9W107cmV0dXJuIGIuc3Vic2NyaWJlKGZ1bmN0aW9uKGIpe2QucHVzaChiKSxkLmxlbmd0aD5hJiZjLm9uTmV4dChkLnNoaWZ0KCkpfSxmdW5jdGlvbihhKXtjLm9uRXJyb3IoYSl9LGZ1bmN0aW9uKCl7Yy5vbkNvbXBsZXRlZCgpfSl9LGIpfSxIYi5zdGFydFdpdGg9ZnVuY3Rpb24oKXt2YXIgYSxiPTA7YXJndW1lbnRzLmxlbmd0aCYmc2IoYXJndW1lbnRzWzBdKT8oYT1hcmd1bWVudHNbMF0sYj0xKTphPXZiO2Zvcih2YXIgYz1bXSxkPWIsZT1hcmd1bWVudHMubGVuZ3RoO2U+ZDtkKyspYy5wdXNoKGFyZ3VtZW50c1tkXSk7cmV0dXJuIEpiKFskYihjLGEpLHRoaXNdKS5jb25jYXQoKX0sSGIudGFrZUxhc3Q9ZnVuY3Rpb24oYSl7aWYoMD5hKXRocm93IG5ldyBzYTt2YXIgYj10aGlzO3JldHVybiBuZXcgQWMoZnVuY3Rpb24oYyl7dmFyIGQ9W107cmV0dXJuIGIuc3Vic2NyaWJlKGZ1bmN0aW9uKGIpe2QucHVzaChiKSxkLmxlbmd0aD5hJiZkLnNoaWZ0KCl9LGZ1bmN0aW9uKGEpe2Mub25FcnJvcihhKX0sZnVuY3Rpb24oKXtmb3IoO2QubGVuZ3RoPjA7KWMub25OZXh0KGQuc2hpZnQoKSk7Yy5vbkNvbXBsZXRlZCgpfSl9LGIpfSxIYi5zZWxlY3RDb25jYXQ9SGIuY29uY2F0TWFwPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4ga2EoYSkmJmthKGIpP3RoaXMuY29uY2F0TWFwKGZ1bmN0aW9uKGMsZCl7dmFyIGU9YShjLGQpO3JldHVybiBqYShlKSYmKGU9dGMoZSkpLChBYShlKXx8emEoZSkpJiYoZT1ZYihlKSksZS5tYXAoZnVuY3Rpb24oYSxlKXtyZXR1cm4gYihjLGEsZCxlKX0pfSk6a2EoYSk/Syh0aGlzLGEsYyk6Syh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGF9KX07dmFyIHFjPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYixjLGQpe3RoaXMuc291cmNlPWIsdGhpcy5zZWxlY3Rvcj1DYShjLGQsMyksYS5jYWxsKHRoaXMpfXJldHVybiBjYihiLGEpLGIucHJvdG90eXBlLmludGVybmFsTWFwPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9dGhpcztyZXR1cm4gbmV3IGIodGhpcy5zb3VyY2UsZnVuY3Rpb24oYixjLGUpe3JldHVybiBhLmNhbGwodGhpcyxkLnNlbGVjdG9yKGIsYyxlKSxjLGUpfSxjKX0sYi5wcm90b3R5cGUuc3Vic2NyaWJlQ29yZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zb3VyY2Uuc3Vic2NyaWJlKG5ldyBMKGEsdGhpcy5zZWxlY3Rvcix0aGlzKSl9LGJ9KFFiKTtMLnByb3RvdHlwZS5vbk5leHQ9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNTdG9wcGVkKXt2YXIgYj1vKHRoaXMuc2VsZWN0b3IpLmNhbGwodGhpcyxhLHRoaXMuaSsrLHRoaXMuc291cmNlKTtyZXR1cm4gYj09PWFiP3RoaXMub2JzZXJ2ZXIub25FcnJvcihiLmUpOnZvaWQgdGhpcy5vYnNlcnZlci5vbk5leHQoYil9fSxMLnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKGEpe3RoaXMuaXNTdG9wcGVkfHwodGhpcy5pc1N0b3BwZWQ9ITAsdGhpcy5vYnNlcnZlci5vbkVycm9yKGEpKX0sTC5wcm90b3R5cGUub25Db21wbGV0ZWQ9ZnVuY3Rpb24oKXt0aGlzLmlzU3RvcHBlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMub2JzZXJ2ZXIub25Db21wbGV0ZWQoKSl9LEwucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmlzU3RvcHBlZD0hMH0sTC5wcm90b3R5cGUuZmFpbD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc1N0b3BwZWQ/ITE6KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMub2JzZXJ2ZXIub25FcnJvcihhKSwhMCl9LEhiLm1hcD1IYi5zZWxlY3Q9ZnVuY3Rpb24oYSxiKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhP2E6ZnVuY3Rpb24oKXtyZXR1cm4gYX07cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBxYz90aGlzLmludGVybmFsTWFwKGMsYik6bmV3IHFjKHRoaXMsYyxiKX0sSGIucGx1Y2s9ZnVuY3Rpb24oKXt2YXIgYj1hcmd1bWVudHMsYz1hcmd1bWVudHMubGVuZ3RoO2lmKDA9PT1jKXRocm93IG5ldyBFcnJvcihcIkxpc3Qgb2YgcHJvcGVydGllcyBjYW5ub3QgYmUgZW1wdHkuXCIpO3JldHVybiB0aGlzLm1hcChmdW5jdGlvbihkKXtmb3IodmFyIGU9ZCxmPTA7Yz5mO2YrKyl7dmFyIGc9ZVtiW2ZdXTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgZylyZXR1cm4gYTtlPWd9cmV0dXJuIGV9KX0sSGIuc2VsZWN0TWFueT1IYi5mbGF0TWFwPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4ga2EoYSkmJmthKGIpP3RoaXMuZmxhdE1hcChmdW5jdGlvbihjLGQpe3ZhciBlPWEoYyxkKTtyZXR1cm4gamEoZSkmJihlPXRjKGUpKSwoQWEoZSl8fHphKGUpKSYmKGU9WWIoZSkpLGUubWFwKGZ1bmN0aW9uKGEsZSl7cmV0dXJuIGIoYyxhLGQsZSl9KX0sYyk6a2EoYSk/TSh0aGlzLGEsYyk6TSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGF9KX0sSGIuc2VsZWN0U3dpdGNoPUhiLmZsYXRNYXBMYXRlc3Q9SGIuc3dpdGNoTWFwPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuc2VsZWN0KGEsYikuc3dpdGNoTGF0ZXN0KCl9LEhiLnNraXA9ZnVuY3Rpb24oYSl7aWYoMD5hKXRocm93IG5ldyBzYTt2YXIgYj10aGlzO3JldHVybiBuZXcgQWMoZnVuY3Rpb24oYyl7dmFyIGQ9YTtyZXR1cm4gYi5zdWJzY3JpYmUoZnVuY3Rpb24oYSl7MD49ZD9jLm9uTmV4dChhKTpkLS19LGZ1bmN0aW9uKGEpe2Mub25FcnJvcihhKX0sZnVuY3Rpb24oKXtjLm9uQ29tcGxldGVkKCl9KX0sYil9LEhiLnNraXBXaGlsZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1DYShhLGIsMyk7cmV0dXJuIG5ldyBBYyhmdW5jdGlvbihhKXt2YXIgYj0wLGU9ITE7cmV0dXJuIGMuc3Vic2NyaWJlKGZ1bmN0aW9uKGYpe2lmKCFlKXRyeXtlPSFkKGYsYisrLGMpfWNhdGNoKGcpe3JldHVybiB2b2lkIGEub25FcnJvcihnKX1lJiZhLm9uTmV4dChmKX0sZnVuY3Rpb24oYil7YS5vbkVycm9yKGIpfSxmdW5jdGlvbigpe2Eub25Db21wbGV0ZWQoKX0pfSxjKX0sSGIudGFrZT1mdW5jdGlvbihhLGIpe2lmKDA+YSl0aHJvdyBuZXcgc2E7aWYoMD09PWEpcmV0dXJuIFViKGIpO3ZhciBjPXRoaXM7cmV0dXJuIG5ldyBBYyhmdW5jdGlvbihiKXt2YXIgZD1hO3JldHVybiBjLnN1YnNjcmliZShmdW5jdGlvbihhKXtkLS0+MCYmKGIub25OZXh0KGEpLDA9PT1kJiZiLm9uQ29tcGxldGVkKCkpfSxmdW5jdGlvbihhKXtiLm9uRXJyb3IoYSl9LGZ1bmN0aW9uKCl7Yi5vbkNvbXBsZXRlZCgpfSl9LGMpfSxIYi50YWtlV2hpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Q2EoYSxiLDMpO3JldHVybiBuZXcgQWMoZnVuY3Rpb24oYSl7dmFyIGI9MCxlPSEwO3JldHVybiBjLnN1YnNjcmliZShmdW5jdGlvbihmKXtpZihlKXt0cnl7ZT1kKGYsYisrLGMpfWNhdGNoKGcpe3JldHVybiB2b2lkIGEub25FcnJvcihnKX1lP2Eub25OZXh0KGYpOmEub25Db21wbGV0ZWQoKX19LGZ1bmN0aW9uKGIpe2Eub25FcnJvcihiKX0sZnVuY3Rpb24oKXthLm9uQ29tcGxldGVkKCl9KX0sYyl9O3ZhciByYz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIsYyxkKXt0aGlzLnNvdXJjZT1iLHRoaXMucHJlZGljYXRlPUNhKGMsZCwzKSxhLmNhbGwodGhpcyl9cmV0dXJuIGNiKGIsYSksYi5wcm90b3R5cGUuc3Vic2NyaWJlQ29yZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zb3VyY2Uuc3Vic2NyaWJlKG5ldyBOKGEsdGhpcy5wcmVkaWNhdGUsdGhpcykpfSxiLnByb3RvdHlwZS5pbnRlcm5hbEZpbHRlcj1mdW5jdGlvbihhLGMpe3ZhciBkPXRoaXM7cmV0dXJuIG5ldyBiKHRoaXMuc291cmNlLGZ1bmN0aW9uKGIsYyxlKXtyZXR1cm4gZC5wcmVkaWNhdGUoYixjLGUpJiZhLmNhbGwodGhpcyxiLGMsZSl9LGMpfSxifShRYik7Ti5wcm90b3R5cGUub25OZXh0PWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmlzU3RvcHBlZCl7dmFyIGI9byh0aGlzLnByZWRpY2F0ZSkuY2FsbCh0aGlzLGEsdGhpcy5pKyssdGhpcy5zb3VyY2UpO3JldHVybiBiPT09YWI/dGhpcy5vYnNlcnZlci5vbkVycm9yKGIuZSk6dm9pZChiJiZ0aGlzLm9ic2VydmVyLm9uTmV4dChhKSl9fSxOLnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKGEpe3RoaXMuaXNTdG9wcGVkfHwodGhpcy5pc1N0b3BwZWQ9ITAsdGhpcy5vYnNlcnZlci5vbkVycm9yKGEpKX0sTi5wcm90b3R5cGUub25Db21wbGV0ZWQ9ZnVuY3Rpb24oKXt0aGlzLmlzU3RvcHBlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMub2JzZXJ2ZXIub25Db21wbGV0ZWQoKSl9LE4ucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmlzU3RvcHBlZD0hMH0sTi5wcm90b3R5cGUuZmFpbD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc1N0b3BwZWQ/ITE6KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMub2JzZXJ2ZXIub25FcnJvcihhKSwhMCl9LEhiLmZpbHRlcj1IYi53aGVyZT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgcmM/dGhpcy5pbnRlcm5hbEZpbHRlcihhLGIpOm5ldyByYyh0aGlzLGEsYil9LE9iLmZyb21DYWxsYmFjaz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBkPWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkoZCksZj0wO2Q+ZjtmKyspZVtmXT1hcmd1bWVudHNbZl07cmV0dXJuIG5ldyBBYyhmdW5jdGlvbihkKXtmdW5jdGlvbiBmKCl7Zm9yKHZhciBhPWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkoYSksZj0wO2E+ZjtmKyspZVtmXT1hcmd1bWVudHNbZl07aWYoYyl7dHJ5e2U9Yy5hcHBseShiLGUpfWNhdGNoKGcpe3JldHVybiBkLm9uRXJyb3IoZyl9ZC5vbk5leHQoZSl9ZWxzZSBlLmxlbmd0aDw9MT9kLm9uTmV4dC5hcHBseShkLGUpOmQub25OZXh0KGUpO2Qub25Db21wbGV0ZWQoKX1lLnB1c2goZiksYS5hcHBseShiLGUpfSkucHVibGlzaExhc3QoKS5yZWZDb3VudCgpfX0sT2IuZnJvbU5vZGVDYWxsYmFjaz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBkPWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkoZCksZj0wO2Q+ZjtmKyspZVtmXT1hcmd1bWVudHNbZl07cmV0dXJuIG5ldyBBYyhmdW5jdGlvbihkKXtmdW5jdGlvbiBmKGEpe2lmKGEpcmV0dXJuIHZvaWQgZC5vbkVycm9yKGEpO2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLGY9W10sZz0xO2U+ZztnKyspZltnLTFdPWFyZ3VtZW50c1tnXTtpZihjKXt0cnl7Zj1jLmFwcGx5KGIsZil9Y2F0Y2goaCl7cmV0dXJuIGQub25FcnJvcihoKX1kLm9uTmV4dChmKX1lbHNlIGYubGVuZ3RoPD0xP2Qub25OZXh0LmFwcGx5KGQsZik6ZC5vbk5leHQoZik7ZC5vbkNvbXBsZXRlZCgpfWUucHVzaChmKSxhLmFwcGx5KGIsZSl9KS5wdWJsaXNoTGFzdCgpLnJlZkNvdW50KCl9fSxjYS5jb25maWcudXNlTmF0aXZlRXZlbnRzPSExLE9iLmZyb21FdmVudD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEuYWRkTGlzdGVuZXI/c2MoZnVuY3Rpb24oYyl7YS5hZGRMaXN0ZW5lcihiLGMpfSxmdW5jdGlvbihjKXthLnJlbW92ZUxpc3RlbmVyKGIsYyl9LGMpOmNhLmNvbmZpZy51c2VOYXRpdmVFdmVudHN8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGEub258fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGEub2ZmP25ldyBBYyhmdW5jdGlvbihkKXtyZXR1cm4gUChhLGIsZnVuY3Rpb24oYSl7dmFyIGI9YTtpZihjKXRyeXtiPWMoYXJndW1lbnRzKX1jYXRjaChlKXtyZXR1cm4gZC5vbkVycm9yKGUpfWQub25OZXh0KGIpfSl9KS5wdWJsaXNoKCkucmVmQ291bnQoKTpzYyhmdW5jdGlvbihjKXthLm9uKGIsYyl9LGZ1bmN0aW9uKGMpe2Eub2ZmKGIsYyl9LGMpfTt2YXIgc2M9T2IuZnJvbUV2ZW50UGF0dGVybj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIG5ldyBBYyhmdW5jdGlvbihkKXtmdW5jdGlvbiBlKGEpe3ZhciBiPWE7aWYoYyl0cnl7Yj1jKGFyZ3VtZW50cyl9Y2F0Y2goZSl7cmV0dXJuIGQub25FcnJvcihlKX1kLm9uTmV4dChiKX12YXIgZj1hKGUpO3JldHVybiBqYihmdW5jdGlvbigpe2ImJmIoZSxmKX0pfSkucHVibGlzaCgpLnJlZkNvdW50KCl9LHRjPU9iLmZyb21Qcm9taXNlPWZ1bmN0aW9uKGEpe3JldHVybiBTYihmdW5jdGlvbigpe3ZhciBiPW5ldyBjYS5Bc3luY1N1YmplY3Q7cmV0dXJuIGEudGhlbihmdW5jdGlvbihhKXtiLm9uTmV4dChhKSxiLm9uQ29tcGxldGVkKCl9LGIub25FcnJvci5iaW5kKGIpKSxifSl9O0hiLnRvUHJvbWlzZT1mdW5jdGlvbihhKXtpZihhfHwoYT1jYS5jb25maWcuUHJvbWlzZSksIWEpdGhyb3cgbmV3IHRhKFwiUHJvbWlzZSB0eXBlIG5vdCBwcm92aWRlZCBub3IgaW4gUnguY29uZmlnLlByb21pc2VcIik7dmFyIGI9dGhpcztyZXR1cm4gbmV3IGEoZnVuY3Rpb24oYSxjKXt2YXIgZCxlPSExO2Iuc3Vic2NyaWJlKGZ1bmN0aW9uKGEpe2Q9YSxlPSEwfSxjLGZ1bmN0aW9uKCl7ZSYmYShkKX0pfSl9LE9iLnN0YXJ0QXN5bmM9ZnVuY3Rpb24oYSl7dmFyIGI7dHJ5e2I9YSgpfWNhdGNoKGMpe3JldHVybiBnYyhjKX1yZXR1cm4gdGMoYil9LEhiLm11bHRpY2FzdD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYT9uZXcgQWMoZnVuY3Rpb24oZCl7dmFyIGU9Yy5tdWx0aWNhc3QoYSgpKTtyZXR1cm4gbmV3IGdiKGIoZSkuc3Vic2NyaWJlKGQpLGUuY29ubmVjdCgpKX0sYyk6bmV3IHVjKGMsYSl9LEhiLnB1Ymxpc2g9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmthKGEpP3RoaXMubXVsdGljYXN0KGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEY30sYSk6dGhpcy5tdWx0aWNhc3QobmV3IERjKX0sSGIuc2hhcmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdWJsaXNoKCkucmVmQ291bnQoKX0sSGIucHVibGlzaExhc3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmthKGEpP3RoaXMubXVsdGljYXN0KGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBFY30sYSk6dGhpcy5tdWx0aWNhc3QobmV3IEVjKX0sSGIucHVibGlzaFZhbHVlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIDI9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMubXVsdGljYXN0KGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBHYyhiKX0sYSk6dGhpcy5tdWx0aWNhc3QobmV3IEdjKGEpKX0sSGIuc2hhcmVWYWx1ZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdWJsaXNoVmFsdWUoYSkucmVmQ291bnQoKX0sSGIucmVwbGF5PWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBhJiZrYShhKT90aGlzLm11bHRpY2FzdChmdW5jdGlvbigpe3JldHVybiBuZXcgSGMoYixjLGQpfSxhKTp0aGlzLm11bHRpY2FzdChuZXcgSGMoYixjLGQpKX0sSGIuc2hhcmVSZXBsYXk9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLnJlcGxheShudWxsLGEsYixjKS5yZWZDb3VudCgpfTt7dmFyIHVjPWNhLkNvbm5lY3RhYmxlT2JzZXJ2YWJsZT1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIsYyl7dmFyIGQsZT0hMSxmPWIuYXNPYnNlcnZhYmxlKCk7dGhpcy5jb25uZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGV8fChlPSEwLGQ9bmV3IGdiKGYuc3Vic2NyaWJlKGMpLGpiKGZ1bmN0aW9uKCl7ZT0hMX0pKSksZH0sYS5jYWxsKHRoaXMsZnVuY3Rpb24oYSl7cmV0dXJuIGMuc3Vic2NyaWJlKGEpfSl9cmV0dXJuIGNiKGIsYSksYi5wcm90b3R5cGUucmVmQ291bnQ9ZnVuY3Rpb24oKXt2YXIgYSxiPTAsYz10aGlzO3JldHVybiBuZXcgQWMoZnVuY3Rpb24oZCl7dmFyIGU9MT09PSsrYixmPWMuc3Vic2NyaWJlKGQpO3JldHVybiBlJiYoYT1jLmNvbm5lY3QoKSksZnVuY3Rpb24oKXtmLmRpc3Bvc2UoKSwwPT09LS1iJiZhLmRpc3Bvc2UoKX19KX0sYn0oT2IpLHZjPU9iLmludGVydmFsPWZ1bmN0aW9uKGEsYil7cmV0dXJuIFQoYSxhLHNiKGIpP2I6QWIpfTtPYi50aW1lcj1mdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuIHNiKGQpfHwoZD1BYiksYyE9PWEmJlwibnVtYmVyXCI9PXR5cGVvZiBjP2U9YzpzYihjKSYmKGQ9YyksYiBpbnN0YW5jZW9mIERhdGUmJmU9PT1hP1EoYi5nZXRUaW1lKCksZCk6YiBpbnN0YW5jZW9mIERhdGUmJmUhPT1hPyhlPWMsUihiLmdldFRpbWUoKSxlLGQpKTplPT09YT9TKGIsZCk6VChiLGUsZCl9fUhiLmRlbGF5PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHNiKGIpfHwoYj1BYiksYSBpbnN0YW5jZW9mIERhdGU/Vih0aGlzLGEuZ2V0VGltZSgpLGIpOlUodGhpcyxhLGIpfSxIYi5kZWJvdW5jZT1IYi50aHJvdHRsZVdpdGhUaW1lb3V0PWZ1bmN0aW9uKGEsYil7c2IoYil8fChiPUFiKTt2YXIgYz10aGlzO3JldHVybiBuZXcgQWMoZnVuY3Rpb24oZCl7dmFyIGUsZj1uZXcgb2IsZz0hMSxoPTAsaT1jLnN1YnNjcmliZShmdW5jdGlvbihjKXtnPSEwLGU9YyxoKys7dmFyIGk9aCxqPW5ldyBuYjtmLnNldERpc3Bvc2FibGUoaiksai5zZXREaXNwb3NhYmxlKGIuc2NoZWR1bGVXaXRoUmVsYXRpdmUoYSxmdW5jdGlvbigpe2cmJmg9PT1pJiZkLm9uTmV4dChlKSxnPSExfSkpfSxmdW5jdGlvbihhKXtmLmRpc3Bvc2UoKSxkLm9uRXJyb3IoYSksZz0hMSxoKyt9LGZ1bmN0aW9uKCl7Zi5kaXNwb3NlKCksZyYmZC5vbk5leHQoZSksZC5vbkNvbXBsZXRlZCgpLGc9ITEsaCsrfSk7cmV0dXJuIG5ldyBnYihpLGYpfSx0aGlzKX0sSGIudGhyb3R0bGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5kZWJvdW5jZShhLGIpfSxIYi50aW1lc3RhbXA9ZnVuY3Rpb24oYSl7cmV0dXJuIHNiKGEpfHwoYT1BYiksdGhpcy5tYXAoZnVuY3Rpb24oYil7cmV0dXJue3ZhbHVlOmIsdGltZXN0YW1wOmEubm93KCl9fSl9LEhiLnNhbXBsZT1IYi50aHJvdHRsZUxhdGVzdD1mdW5jdGlvbihhLGIpe3JldHVybiBzYihiKXx8KGI9QWIpLFwibnVtYmVyXCI9PXR5cGVvZiBhP1codGhpcyx2YyhhLGIpKTpXKHRoaXMsYSl9LEhiLnRpbWVvdXQ9ZnVuY3Rpb24oYSxiLGMpeyhudWxsPT1ifHxcInN0cmluZ1wiPT10eXBlb2YgYikmJihiPWdjKG5ldyBFcnJvcihifHxcIlRpbWVvdXRcIikpKSxzYihjKXx8KGM9QWIpO3ZhciBkPXRoaXMsZT1hIGluc3RhbmNlb2YgRGF0ZT9cInNjaGVkdWxlV2l0aEFic29sdXRlXCI6XCJzY2hlZHVsZVdpdGhSZWxhdGl2ZVwiO3JldHVybiBuZXcgQWMoZnVuY3Rpb24oZil7ZnVuY3Rpb24gZygpe3ZhciBkPWg7bC5zZXREaXNwb3NhYmxlKGNbZV0oYSxmdW5jdGlvbigpe2g9PT1kJiYoamEoYikmJihiPXRjKGIpKSxqLnNldERpc3Bvc2FibGUoYi5zdWJzY3JpYmUoZikpKX0pKX12YXIgaD0wLGk9bmV3IG5iLGo9bmV3IG9iLGs9ITEsbD1uZXcgb2I7cmV0dXJuIGouc2V0RGlzcG9zYWJsZShpKSxnKCksaS5zZXREaXNwb3NhYmxlKGQuc3Vic2NyaWJlKGZ1bmN0aW9uKGEpe2t8fChoKyssZi5vbk5leHQoYSksZygpKX0sZnVuY3Rpb24oYSl7a3x8KGgrKyxmLm9uRXJyb3IoYSkpfSxmdW5jdGlvbigpe2t8fChoKyssZi5vbkNvbXBsZXRlZCgpKX0pKSxuZXcgZ2IoaixsKX0sZCl9LEhiLnRocm90dGxlRmlyc3Q9ZnVuY3Rpb24oYSxiKXtzYihiKXx8KGI9QWIpO3ZhciBjPSthfHwwO2lmKDA+PWMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJ3aW5kb3dEdXJhdGlvbiBjYW5ub3QgYmUgbGVzcyBvciBlcXVhbCB6ZXJvLlwiKTt2YXIgZD10aGlzO3JldHVybiBuZXcgQWMoZnVuY3Rpb24oYSl7dmFyIGU9MDtyZXR1cm4gZC5zdWJzY3JpYmUoZnVuY3Rpb24oZCl7dmFyIGY9Yi5ub3coKTsoMD09PWV8fGYtZT49YykmJihlPWYsYS5vbk5leHQoZCkpfSxmdW5jdGlvbihiKXthLm9uRXJyb3IoYil9LGZ1bmN0aW9uKCl7YS5vbkNvbXBsZXRlZCgpfSl9LGQpfTt2YXIgd2M9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt2YXIgYj10aGlzLnNvdXJjZS5wdWJsaXNoKCksYz1iLnN1YnNjcmliZShhKSxkPWtiLGU9dGhpcy5wYXVzZXIuZGlzdGluY3RVbnRpbENoYW5nZWQoKS5zdWJzY3JpYmUoZnVuY3Rpb24oYSl7YT9kPWIuY29ubmVjdCgpOihkLmRpc3Bvc2UoKSxkPWtiKX0pO3JldHVybiBuZXcgZ2IoYyxkLGUpfWZ1bmN0aW9uIGMoYyxkKXt0aGlzLnNvdXJjZT1jLHRoaXMuY29udHJvbGxlcj1uZXcgRGMsdGhpcy5wYXVzZXI9ZCYmZC5zdWJzY3JpYmU/dGhpcy5jb250cm9sbGVyLm1lcmdlKGQpOnRoaXMuY29udHJvbGxlcixhLmNhbGwodGhpcyxiLGMpfXJldHVybiBjYihjLGEpLGMucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5jb250cm9sbGVyLm9uTmV4dCghMSl9LGMucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3RoaXMuY29udHJvbGxlci5vbk5leHQoITApfSxjfShPYik7SGIucGF1c2FibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyB3Yyh0aGlzLGEpfTt2YXIgeGM9ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYyhiKXt2YXIgYyxkPVtdLGU9WCh0aGlzLnNvdXJjZSx0aGlzLnBhdXNlci5kaXN0aW5jdFVudGlsQ2hhbmdlZCgpLnN0YXJ0V2l0aCghMSksZnVuY3Rpb24oYSxiKXtyZXR1cm57ZGF0YTphLHNob3VsZEZpcmU6Yn19KS5zdWJzY3JpYmUoZnVuY3Rpb24oZSl7aWYoYyE9PWEmJmUuc2hvdWxkRmlyZSE9Yyl7aWYoYz1lLnNob3VsZEZpcmUsZS5zaG91bGRGaXJlKWZvcig7ZC5sZW5ndGg+MDspYi5vbk5leHQoZC5zaGlmdCgpKX1lbHNlIGM9ZS5zaG91bGRGaXJlLGUuc2hvdWxkRmlyZT9iLm9uTmV4dChlLmRhdGEpOmQucHVzaChlLmRhdGEpfSxmdW5jdGlvbihhKXtmb3IoO2QubGVuZ3RoPjA7KWIub25OZXh0KGQuc2hpZnQoKSk7Yi5vbkVycm9yKGEpfSxmdW5jdGlvbigpe2Zvcig7ZC5sZW5ndGg+MDspYi5vbk5leHQoZC5zaGlmdCgpKTtiLm9uQ29tcGxldGVkKCl9KTtyZXR1cm4gZX1mdW5jdGlvbiBkKGEsZCl7dGhpcy5zb3VyY2U9YSx0aGlzLmNvbnRyb2xsZXI9bmV3IERjLHRoaXMucGF1c2VyPWQmJmQuc3Vic2NyaWJlP3RoaXMuY29udHJvbGxlci5tZXJnZShkKTp0aGlzLmNvbnRyb2xsZXIsYi5jYWxsKHRoaXMsYyxhKX1yZXR1cm4gY2IoZCxiKSxkLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3RoaXMuY29udHJvbGxlci5vbk5leHQoITEpfSxkLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXt0aGlzLmNvbnRyb2xsZXIub25OZXh0KCEwKX0sZH0oT2IpO0hiLnBhdXNhYmxlQnVmZmVyZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyB4Yyh0aGlzLGEpfTt2YXIgeWM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gdGhpcy5zb3VyY2Uuc3Vic2NyaWJlKGEpfWZ1bmN0aW9uIGMoYyxkLGUpe2EuY2FsbCh0aGlzLGIsYyksdGhpcy5zdWJqZWN0PW5ldyB6YyhkLGUpLHRoaXMuc291cmNlPWMubXVsdGljYXN0KHRoaXMuc3ViamVjdCkucmVmQ291bnQoKX1yZXR1cm4gY2IoYyxhKSxjLnByb3RvdHlwZS5yZXF1ZXN0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnN1YmplY3QucmVxdWVzdChudWxsPT1hPy0xOmEpfSxjfShPYiksemM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gdGhpcy5zdWJqZWN0LnN1YnNjcmliZShhKX1mdW5jdGlvbiBjKGMsZCl7bnVsbD09YyYmKGM9ITApLGEuY2FsbCh0aGlzLGIpLHRoaXMuc3ViamVjdD1uZXcgRGMsdGhpcy5lbmFibGVRdWV1ZT1jLHRoaXMucXVldWU9Yz9bXTpudWxsLHRoaXMucmVxdWVzdGVkQ291bnQ9MCx0aGlzLnJlcXVlc3RlZERpc3Bvc2FibGU9a2IsdGhpcy5lcnJvcj1udWxsLHRoaXMuaGFzRmFpbGVkPSExLHRoaXMuaGFzQ29tcGxldGVkPSExLHRoaXMuc2NoZWR1bGVyPWR8fHdifXJldHVybiBjYihjLGEpLGRiKGMucHJvdG90eXBlLEtiLHtvbkNvbXBsZXRlZDpmdW5jdGlvbigpe3RoaXMuaGFzQ29tcGxldGVkPSEwLHRoaXMuZW5hYmxlUXVldWUmJjAhPT10aGlzLnF1ZXVlLmxlbmd0aD90aGlzLnF1ZXVlLnB1c2goQmIuY3JlYXRlT25Db21wbGV0ZWQoKSk6dGhpcy5zdWJqZWN0Lm9uQ29tcGxldGVkKCl9LG9uRXJyb3I6ZnVuY3Rpb24oYSl7dGhpcy5oYXNGYWlsZWQ9ITAsdGhpcy5lcnJvcj1hLHRoaXMuZW5hYmxlUXVldWUmJjAhPT10aGlzLnF1ZXVlLmxlbmd0aD90aGlzLnF1ZXVlLnB1c2goQmIuY3JlYXRlT25FcnJvcihhKSk6dGhpcy5zdWJqZWN0Lm9uRXJyb3IoYSl9LG9uTmV4dDpmdW5jdGlvbihhKXt2YXIgYj0hMTswPT09dGhpcy5yZXF1ZXN0ZWRDb3VudD90aGlzLmVuYWJsZVF1ZXVlJiZ0aGlzLnF1ZXVlLnB1c2goQmIuY3JlYXRlT25OZXh0KGEpKTooLTEhPT10aGlzLnJlcXVlc3RlZENvdW50JiYwPT09dGhpcy5yZXF1ZXN0ZWRDb3VudC0tJiZ0aGlzLmRpc3Bvc2VDdXJyZW50UmVxdWVzdCgpLGI9ITApLGImJnRoaXMuc3ViamVjdC5vbk5leHQoYSl9LF9wcm9jZXNzUmVxdWVzdDpmdW5jdGlvbihhKXtpZih0aGlzLmVuYWJsZVF1ZXVlKXtmb3IoO3RoaXMucXVldWUubGVuZ3RoPj1hJiZhPjB8fHRoaXMucXVldWUubGVuZ3RoPjAmJlwiTlwiIT09dGhpcy5xdWV1ZVswXS5raW5kOyl7dmFyIGI9dGhpcy5xdWV1ZS5zaGlmdCgpO2IuYWNjZXB0KHRoaXMuc3ViamVjdCksXCJOXCI9PT1iLmtpbmQ/YS0tOih0aGlzLmRpc3Bvc2VDdXJyZW50UmVxdWVzdCgpLHRoaXMucXVldWU9W10pfXJldHVybntudW1iZXJPZkl0ZW1zOmEscmV0dXJuVmFsdWU6MCE9PXRoaXMucXVldWUubGVuZ3RofX1yZXR1cm57bnVtYmVyT2ZJdGVtczphLHJldHVyblZhbHVlOiExfX0scmVxdWVzdDpmdW5jdGlvbihhKXt0aGlzLmRpc3Bvc2VDdXJyZW50UmVxdWVzdCgpO3ZhciBiPXRoaXM7cmV0dXJuIHRoaXMucmVxdWVzdGVkRGlzcG9zYWJsZT10aGlzLnNjaGVkdWxlci5zY2hlZHVsZVdpdGhTdGF0ZShhLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9Yi5fcHJvY2Vzc1JlcXVlc3QoYyksZT1kLm51bWJlck9mSXRlbXM7ZC5yZXR1cm5WYWx1ZXx8KGIucmVxdWVzdGVkQ291bnQ9ZSxiLnJlcXVlc3RlZERpc3Bvc2FibGU9amIoZnVuY3Rpb24oKXtiLnJlcXVlc3RlZENvdW50PTB9KSl9KSx0aGlzLnJlcXVlc3RlZERpc3Bvc2FibGV9LGRpc3Bvc2VDdXJyZW50UmVxdWVzdDpmdW5jdGlvbigpe3RoaXMucmVxdWVzdGVkRGlzcG9zYWJsZS5kaXNwb3NlKCksdGhpcy5yZXF1ZXN0ZWREaXNwb3NhYmxlPWtifX0pLGN9KE9iKTtIYi5jb250cm9sbGVkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEmJnNiKGEpJiYoYj1hLGE9ITApLG51bGw9PWEmJihhPSEwKSxuZXcgeWModGhpcyxhLGIpfSxIYi5waXBlPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtjLnJlc3VtZSgpfXZhciBjPXRoaXMucGF1c2FibGVCdWZmZXJlZCgpO3JldHVybiBhLmFkZExpc3RlbmVyKFwiZHJhaW5cIixiKSxjLnN1YnNjcmliZShmdW5jdGlvbihiKXshYS53cml0ZShTdHJpbmcoYikpJiZjLnBhdXNlKCl9LGZ1bmN0aW9uKGIpe2EuZW1pdChcImVycm9yXCIsYil9LGZ1bmN0aW9uKCl7IWEuX2lzU3RkaW8mJmEuZW5kKCksYS5yZW1vdmVMaXN0ZW5lcihcImRyYWluXCIsYil9KSxjLnJlc3VtZSgpLGF9LEhiLnRyYW5zZHVjZT1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybntcIkBAdHJhbnNkdWNlci9pbml0XCI6ZnVuY3Rpb24oKXtyZXR1cm4gYX0sXCJAQHRyYW5zZHVjZXIvc3RlcFwiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEub25OZXh0KGIpfSxcIkBAdHJhbnNkdWNlci9yZXN1bHRcIjpmdW5jdGlvbihhKXtyZXR1cm4gYS5vbkNvbXBsZXRlZCgpfX19dmFyIGM9dGhpcztyZXR1cm4gbmV3IEFjKGZ1bmN0aW9uKGQpe3ZhciBlPWEoYihkKSk7cmV0dXJuIGMuc3Vic2NyaWJlKGZ1bmN0aW9uKGEpe3RyeXtlW1wiQEB0cmFuc2R1Y2VyL3N0ZXBcIl0oZCxhKX1jYXRjaChiKXtkLm9uRXJyb3IoYil9fSxmdW5jdGlvbihhKXtkLm9uRXJyb3IoYSl9LGZ1bmN0aW9uKCl7ZVtcIkBAdHJhbnNkdWNlci9yZXN1bHRcIl0oZCl9KX0sYyl9O3ZhciBBYz1jYS5Bbm9ueW1vdXNPYnNlcnZhYmxlPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEmJmthKGEuZGlzcG9zZSk/YTprYShhKT9qYihhKTprYn1mdW5jdGlvbiBjKGEsYyl7dmFyIGQ9Y1swXSxlPWNbMV0sZj1vKGUpKGQpO3JldHVybiBmIT09YWJ8fGQuZmFpbChhYi5lKT92b2lkIGQuc2V0RGlzcG9zYWJsZShiKGYpKTpwKGFiLmUpfWZ1bmN0aW9uIGQoYixkKXtmdW5jdGlvbiBlKGEpe3ZhciBkPW5ldyBCYyhhKSxlPVtkLGJdO3JldHVybiB3Yi5zY2hlZHVsZVJlcXVpcmVkKCk/d2Iuc2NoZWR1bGVXaXRoU3RhdGUoZSxjKTpjKG51bGwsZSksZH10aGlzLnNvdXJjZT1kLGEuY2FsbCh0aGlzLGUpfXJldHVybiBjYihkLGEpLGR9KE9iKSxCYz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe2EuY2FsbCh0aGlzKSx0aGlzLm9ic2VydmVyPWIsdGhpcy5tPW5ldyBuYn1jYihiLGEpO3ZhciBjPWIucHJvdG90eXBlO3JldHVybiBjLm5leHQ9ZnVuY3Rpb24oYSl7dmFyIGI9byh0aGlzLm9ic2VydmVyLm9uTmV4dCkuY2FsbCh0aGlzLm9ic2VydmVyLGEpO2I9PT1hYiYmKHRoaXMuZGlzcG9zZSgpLHAoYi5lKSl9LGMuZXJyb3I9ZnVuY3Rpb24oYSl7dmFyIGI9byh0aGlzLm9ic2VydmVyLm9uRXJyb3IpLmNhbGwodGhpcy5vYnNlcnZlcixhKTt0aGlzLmRpc3Bvc2UoKSxiPT09YWImJnAoYi5lKX0sYy5jb21wbGV0ZWQ9ZnVuY3Rpb24oKXt2YXIgYT1vKHRoaXMub2JzZXJ2ZXIub25Db21wbGV0ZWQpLmNhbGwodGhpcy5vYnNlcnZlcik7dGhpcy5kaXNwb3NlKCksYT09PWFiJiZwKGEuZSl9LGMuc2V0RGlzcG9zYWJsZT1mdW5jdGlvbihhKXt0aGlzLm0uc2V0RGlzcG9zYWJsZShhKX0sYy5nZXREaXNwb3NhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubS5nZXREaXNwb3NhYmxlKCl9LGMuZGlzcG9zZT1mdW5jdGlvbigpe2EucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLm0uZGlzcG9zZSgpfSxifShNYiksQ2M9ZnVuY3Rpb24oYSxiKXt0aGlzLnN1YmplY3Q9YSx0aGlzLm9ic2VydmVyPWJ9O0NjLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuc3ViamVjdC5pc0Rpc3Bvc2VkJiZudWxsIT09dGhpcy5vYnNlcnZlcil7dmFyIGE9dGhpcy5zdWJqZWN0Lm9ic2VydmVycy5pbmRleE9mKHRoaXMub2JzZXJ2ZXIpO3RoaXMuc3ViamVjdC5vYnNlcnZlcnMuc3BsaWNlKGEsMSksdGhpcy5vYnNlcnZlcj1udWxsfX07dmFyIERjPWNhLlN1YmplY3Q9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gbWIodGhpcyksdGhpcy5pc1N0b3BwZWQ/dGhpcy5oYXNFcnJvcj8oYS5vbkVycm9yKHRoaXMuZXJyb3IpLGtiKTooYS5vbkNvbXBsZXRlZCgpLGtiKToodGhpcy5vYnNlcnZlcnMucHVzaChhKSxuZXcgQ2ModGhpcyxhKSl9ZnVuY3Rpb24gZCgpe2EuY2FsbCh0aGlzLGMpLHRoaXMuaXNEaXNwb3NlZD0hMSx0aGlzLmlzU3RvcHBlZD0hMSx0aGlzLm9ic2VydmVycz1bXSx0aGlzLmhhc0Vycm9yPSExfXJldHVybiBjYihkLGEpLGRiKGQucHJvdG90eXBlLEtiLnByb3RvdHlwZSx7aGFzT2JzZXJ2ZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2JzZXJ2ZXJzLmxlbmd0aD4wfSxvbkNvbXBsZXRlZDpmdW5jdGlvbigpe2lmKG1iKHRoaXMpLCF0aGlzLmlzU3RvcHBlZCl7dGhpcy5pc1N0b3BwZWQ9ITA7Zm9yKHZhciBhPTAsYz1iKHRoaXMub2JzZXJ2ZXJzKSxkPWMubGVuZ3RoO2Q+YTthKyspY1thXS5vbkNvbXBsZXRlZCgpO3RoaXMub2JzZXJ2ZXJzLmxlbmd0aD0wfX0sb25FcnJvcjpmdW5jdGlvbihhKXtpZihtYih0aGlzKSwhdGhpcy5pc1N0b3BwZWQpe3RoaXMuaXNTdG9wcGVkPSEwLHRoaXMuZXJyb3I9YSx0aGlzLmhhc0Vycm9yPSEwO2Zvcih2YXIgYz0wLGQ9Yih0aGlzLm9ic2VydmVycyksZT1kLmxlbmd0aDtlPmM7YysrKWRbY10ub25FcnJvcihhKTt0aGlzLm9ic2VydmVycy5sZW5ndGg9MH19LG9uTmV4dDpmdW5jdGlvbihhKXtpZihtYih0aGlzKSwhdGhpcy5pc1N0b3BwZWQpZm9yKHZhciBjPTAsZD1iKHRoaXMub2JzZXJ2ZXJzKSxlPWQubGVuZ3RoO2U+YztjKyspZFtjXS5vbk5leHQoYSl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLmlzRGlzcG9zZWQ9ITAsdGhpcy5vYnNlcnZlcnM9bnVsbH19KSxkLmNyZWF0ZT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgRmMoYSxiKX0sZH0oT2IpLEVjPWNhLkFzeW5jU3ViamVjdD1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEpe3JldHVybiBtYih0aGlzKSx0aGlzLmlzU3RvcHBlZD8odGhpcy5oYXNFcnJvcj9hLm9uRXJyb3IodGhpcy5lcnJvcik6dGhpcy5oYXNWYWx1ZT8oYS5vbk5leHQodGhpcy52YWx1ZSksYS5vbkNvbXBsZXRlZCgpKTphLm9uQ29tcGxldGVkKCksa2IpOih0aGlzLm9ic2VydmVycy5wdXNoKGEpLG5ldyBDYyh0aGlzLGEpKX1mdW5jdGlvbiBkKCl7YS5jYWxsKHRoaXMsYyksdGhpcy5pc0Rpc3Bvc2VkPSExLHRoaXMuaXNTdG9wcGVkPSExLHRoaXMuaGFzVmFsdWU9ITEsdGhpcy5vYnNlcnZlcnM9W10sdGhpcy5oYXNFcnJvcj0hMX1yZXR1cm4gY2IoZCxhKSxkYihkLnByb3RvdHlwZSxLYix7aGFzT2JzZXJ2ZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIG1iKHRoaXMpLHRoaXMub2JzZXJ2ZXJzLmxlbmd0aD4wfSxvbkNvbXBsZXRlZDpmdW5jdGlvbigpe3ZhciBhLGM7aWYobWIodGhpcyksIXRoaXMuaXNTdG9wcGVkKXt0aGlzLmlzU3RvcHBlZD0hMDt2YXIgZD1iKHRoaXMub2JzZXJ2ZXJzKSxjPWQubGVuZ3RoO2lmKHRoaXMuaGFzVmFsdWUpZm9yKGE9MDtjPmE7YSsrKXt2YXIgZT1kW2FdO2Uub25OZXh0KHRoaXMudmFsdWUpLGUub25Db21wbGV0ZWQoKX1lbHNlIGZvcihhPTA7Yz5hO2ErKylkW2FdLm9uQ29tcGxldGVkKCk7dGhpcy5vYnNlcnZlcnMubGVuZ3RoPTB9fSxvbkVycm9yOmZ1bmN0aW9uKGEpe2lmKG1iKHRoaXMpLCF0aGlzLmlzU3RvcHBlZCl7dGhpcy5pc1N0b3BwZWQ9ITAsdGhpcy5oYXNFcnJvcj0hMCx0aGlzLmVycm9yPWE7Zm9yKHZhciBjPTAsZD1iKHRoaXMub2JzZXJ2ZXJzKSxlPWQubGVuZ3RoO2U+YztjKyspZFtjXS5vbkVycm9yKGEpO3RoaXMub2JzZXJ2ZXJzLmxlbmd0aD0wfX0sb25OZXh0OmZ1bmN0aW9uKGEpe21iKHRoaXMpLHRoaXMuaXNTdG9wcGVkfHwodGhpcy52YWx1ZT1hLHRoaXMuaGFzVmFsdWU9ITApfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5pc0Rpc3Bvc2VkPSEwLHRoaXMub2JzZXJ2ZXJzPW51bGwsdGhpcy5leGNlcHRpb249bnVsbCx0aGlzLnZhbHVlPW51bGx9fSksZH0oT2IpLEZjPWNhLkFub255bW91c1N1YmplY3Q9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gdGhpcy5vYnNlcnZhYmxlLnN1YnNjcmliZShhKX1mdW5jdGlvbiBjKGMsZCl7dGhpcy5vYnNlcnZlcj1jLHRoaXMub2JzZXJ2YWJsZT1kLGEuY2FsbCh0aGlzLGIpfXJldHVybiBjYihjLGEpLGRiKGMucHJvdG90eXBlLEtiLnByb3RvdHlwZSx7b25Db21wbGV0ZWQ6ZnVuY3Rpb24oKXt0aGlzLm9ic2VydmVyLm9uQ29tcGxldGVkKCl9LG9uRXJyb3I6ZnVuY3Rpb24oYSl7dGhpcy5vYnNlcnZlci5vbkVycm9yKGEpfSxvbk5leHQ6ZnVuY3Rpb24oYSl7dGhpcy5vYnNlcnZlci5vbk5leHQoYSl9fSksY30oT2IpLEdjPWNhLkJlaGF2aW9yU3ViamVjdD1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEpe3JldHVybiBtYih0aGlzKSx0aGlzLmlzU3RvcHBlZD8odGhpcy5oYXNFcnJvcj9hLm9uRXJyb3IodGhpcy5lcnJvcik6YS5vbkNvbXBsZXRlZCgpLGtiKToodGhpcy5vYnNlcnZlcnMucHVzaChhKSxhLm9uTmV4dCh0aGlzLnZhbHVlKSxuZXcgQ2ModGhpcyxhKSl9ZnVuY3Rpb24gZChiKXthLmNhbGwodGhpcyxjKSx0aGlzLnZhbHVlPWIsdGhpcy5vYnNlcnZlcnM9W10sdGhpcy5pc0Rpc3Bvc2VkPSExLHRoaXMuaXNTdG9wcGVkPSExLHRoaXMuaGFzRXJyb3I9ITF9cmV0dXJuIGNiKGQsYSksZGIoZC5wcm90b3R5cGUsS2Ise2dldFZhbHVlOmZ1bmN0aW9uKCl7aWYobWIodGhpcyksdGhpcy5oYXNFcnJvcil0aHJvdyB0aGlzLmVycm9yO3JldHVybiB0aGlzLnZhbHVlfSxoYXNPYnNlcnZlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYnNlcnZlcnMubGVuZ3RoPjB9LG9uQ29tcGxldGVkOmZ1bmN0aW9uKCl7aWYobWIodGhpcyksIXRoaXMuaXNTdG9wcGVkKXt0aGlzLmlzU3RvcHBlZD0hMDtmb3IodmFyIGE9MCxjPWIodGhpcy5vYnNlcnZlcnMpLGQ9Yy5sZW5ndGg7ZD5hO2ErKyljW2FdLm9uQ29tcGxldGVkKCk7dGhpcy5vYnNlcnZlcnMubGVuZ3RoPTB9fSxvbkVycm9yOmZ1bmN0aW9uKGEpe2lmKG1iKHRoaXMpLCF0aGlzLmlzU3RvcHBlZCl7dGhpcy5pc1N0b3BwZWQ9ITAsdGhpcy5oYXNFcnJvcj0hMCx0aGlzLmVycm9yPWE7Zm9yKHZhciBjPTAsZD1iKHRoaXMub2JzZXJ2ZXJzKSxlPWQubGVuZ3RoO2U+YztjKyspZFtjXS5vbkVycm9yKGEpO3RoaXMub2JzZXJ2ZXJzLmxlbmd0aD0wfX0sb25OZXh0OmZ1bmN0aW9uKGEpe2lmKG1iKHRoaXMpLCF0aGlzLmlzU3RvcHBlZCl7dGhpcy52YWx1ZT1hO2Zvcih2YXIgYz0wLGQ9Yih0aGlzLm9ic2VydmVycyksZT1kLmxlbmd0aDtlPmM7YysrKWRbY10ub25OZXh0KGEpfX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuaXNEaXNwb3NlZD0hMCx0aGlzLm9ic2VydmVycz1udWxsLHRoaXMudmFsdWU9bnVsbCx0aGlzLmV4Y2VwdGlvbj1udWxsfX0pLGR9KE9iKSxIYz1jYS5SZXBsYXlTdWJqZWN0PWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYSxiKXtyZXR1cm4gamIoZnVuY3Rpb24oKXtiLmRpc3Bvc2UoKSwhYS5pc0Rpc3Bvc2VkJiZhLm9ic2VydmVycy5zcGxpY2UoYS5vYnNlcnZlcnMuaW5kZXhPZihiKSwxKX0pfWZ1bmN0aW9uIGQoYSl7dmFyIGI9bmV3IFBiKHRoaXMuc2NoZWR1bGVyLGEpLGQ9Yyh0aGlzLGIpO21iKHRoaXMpLHRoaXMuX3RyaW0odGhpcy5zY2hlZHVsZXIubm93KCkpLHRoaXMub2JzZXJ2ZXJzLnB1c2goYik7Zm9yKHZhciBlPTAsZj10aGlzLnEubGVuZ3RoO2Y+ZTtlKyspYi5vbk5leHQodGhpcy5xW2VdLnZhbHVlKTtyZXR1cm4gdGhpcy5oYXNFcnJvcj9iLm9uRXJyb3IodGhpcy5lcnJvcik6dGhpcy5pc1N0b3BwZWQmJmIub25Db21wbGV0ZWQoKSxcbmIuZW5zdXJlQWN0aXZlKCksZH1mdW5jdGlvbiBlKGIsYyxlKXt0aGlzLmJ1ZmZlclNpemU9bnVsbD09Yj9mOmIsdGhpcy53aW5kb3dTaXplPW51bGw9PWM/ZjpjLHRoaXMuc2NoZWR1bGVyPWV8fHdiLHRoaXMucT1bXSx0aGlzLm9ic2VydmVycz1bXSx0aGlzLmlzU3RvcHBlZD0hMSx0aGlzLmlzRGlzcG9zZWQ9ITEsdGhpcy5oYXNFcnJvcj0hMSx0aGlzLmVycm9yPW51bGwsYS5jYWxsKHRoaXMsZCl9dmFyIGY9TWF0aC5wb3coMiw1MyktMTtyZXR1cm4gY2IoZSxhKSxkYihlLnByb3RvdHlwZSxLYi5wcm90b3R5cGUse2hhc09ic2VydmVyczpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9ic2VydmVycy5sZW5ndGg+MH0sX3RyaW06ZnVuY3Rpb24oYSl7Zm9yKDt0aGlzLnEubGVuZ3RoPnRoaXMuYnVmZmVyU2l6ZTspdGhpcy5xLnNoaWZ0KCk7Zm9yKDt0aGlzLnEubGVuZ3RoPjAmJmEtdGhpcy5xWzBdLmludGVydmFsPnRoaXMud2luZG93U2l6ZTspdGhpcy5xLnNoaWZ0KCl9LG9uTmV4dDpmdW5jdGlvbihhKXtpZihtYih0aGlzKSwhdGhpcy5pc1N0b3BwZWQpe3ZhciBjPXRoaXMuc2NoZWR1bGVyLm5vdygpO3RoaXMucS5wdXNoKHtpbnRlcnZhbDpjLHZhbHVlOmF9KSx0aGlzLl90cmltKGMpO2Zvcih2YXIgZD0wLGU9Yih0aGlzLm9ic2VydmVycyksZj1lLmxlbmd0aDtmPmQ7ZCsrKXt2YXIgZz1lW2RdO2cub25OZXh0KGEpLGcuZW5zdXJlQWN0aXZlKCl9fX0sb25FcnJvcjpmdW5jdGlvbihhKXtpZihtYih0aGlzKSwhdGhpcy5pc1N0b3BwZWQpe3RoaXMuaXNTdG9wcGVkPSEwLHRoaXMuZXJyb3I9YSx0aGlzLmhhc0Vycm9yPSEwO3ZhciBjPXRoaXMuc2NoZWR1bGVyLm5vdygpO3RoaXMuX3RyaW0oYyk7Zm9yKHZhciBkPTAsZT1iKHRoaXMub2JzZXJ2ZXJzKSxmPWUubGVuZ3RoO2Y+ZDtkKyspe3ZhciBnPWVbZF07Zy5vbkVycm9yKGEpLGcuZW5zdXJlQWN0aXZlKCl9dGhpcy5vYnNlcnZlcnMubGVuZ3RoPTB9fSxvbkNvbXBsZXRlZDpmdW5jdGlvbigpe2lmKG1iKHRoaXMpLCF0aGlzLmlzU3RvcHBlZCl7dGhpcy5pc1N0b3BwZWQ9ITA7dmFyIGE9dGhpcy5zY2hlZHVsZXIubm93KCk7dGhpcy5fdHJpbShhKTtmb3IodmFyIGM9MCxkPWIodGhpcy5vYnNlcnZlcnMpLGU9ZC5sZW5ndGg7ZT5jO2MrKyl7dmFyIGY9ZFtjXTtmLm9uQ29tcGxldGVkKCksZi5lbnN1cmVBY3RpdmUoKX10aGlzLm9ic2VydmVycy5sZW5ndGg9MH19LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLmlzRGlzcG9zZWQ9ITAsdGhpcy5vYnNlcnZlcnM9bnVsbH19KSxlfShPYik7Y2EuUGF1c2VyPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXthLmNhbGwodGhpcyl9cmV0dXJuIGNiKGIsYSksYi5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLm9uTmV4dCghMSl9LGIucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3RoaXMub25OZXh0KCEwKX0sYn0oRGMpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmXCJvYmplY3RcIj09dHlwZW9mIGRlZmluZS5hbWQmJmRlZmluZS5hbWQ/KFouUng9Y2EsZGVmaW5lKGZ1bmN0aW9uKCl7cmV0dXJuIGNhfSkpOiQmJl8/YWE/KF8uZXhwb3J0cz1jYSkuUng9Y2E6JC5SeD1jYTpaLlJ4PWNhO3ZhciBJYz1nKCl9KS5jYWxsKHRoaXMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cngubGl0ZS5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBPcGVuIFRlY2hub2xvZ2llcywgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgIHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiZcbiAgICAodHlwZW9mIHJvb3QgPT0gJ29iamVjdCcgJiYgcm9vdCAmJiByb290ID09IHJvb3QuZ2xvYmFsICYmICh3aW5kb3cgPSByb290KSwgZXhwb3J0cyk7XG5cbiAgICAvLyBCZWNhdXNlIG9mIGJ1aWxkIG9wdGltaXplcnNcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShbJ3J4JywgJ2pxdWVyeScsICdleHBvcnRzJ10sIGZ1bmN0aW9uIChSeCwgalF1ZXJ5LCBleHBvcnRzKSB7XG4gICAgICAgICAgICByb290LlJ4ID0gZmFjdG9yeShyb290LCBleHBvcnRzLCBSeCwgalF1ZXJ5KTtcbiAgICAgICAgICAgIHJldHVybiByb290LlJ4O1xuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmIG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyb290LCBtb2R1bGUuZXhwb3J0cywgcmVxdWlyZSgncngnKSwgcmVxdWlyZSgnanF1ZXJ5JykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3QuUnggPSBmYWN0b3J5KHJvb3QsIHt9LCByb290LlJ4LCBqUXVlcnkpO1xuICAgIH1cbn0odGhpcywgZnVuY3Rpb24gKGdsb2JhbCwgZXhwLCBSeCwgJCwgdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIEhlYWRlcnNcbiAgICB2YXIgb2JzZXJ2YWJsZSA9IFJ4Lk9ic2VydmFibGUsXG4gICAgICAgIG9ic2VydmFibGVQcm90byA9IG9ic2VydmFibGUucHJvdG90eXBlLFxuICAgICAgICBBc3luY1N1YmplY3QgPSBSeC5Bc3luY1N1YmplY3QsXG4gICAgICAgIG9ic2VydmFibGVDcmVhdGUgPSBvYnNlcnZhYmxlLmNyZWF0ZSxcbiAgICAgICAgb2JzZXJ2YWJsZUNyZWF0ZVdpdGhEaXNwb3NhYmxlID0gb2JzZXJ2YWJsZS5jcmVhdGVXaXRoRGlzcG9zYWJsZSxcbiAgICAgICAgZGlzcG9zYWJsZUVtcHR5ID0gUnguRGlzcG9zYWJsZS5lbXB0eSxcbiAgICAgICAgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UsXG4gICAgICAgIHByb3RvID0gJC5mbjtcblxuICAgIGZ1bmN0aW9uIG9ic2VydmFibGVDcmVhdGVSZWZDb3VudChzdWJzY3JpYmUpIHtcbiAgICBcdHJldHVybiBvYnNlcnZhYmxlQ3JlYXRlKHN1YnNjcmliZSkucHVibGlzaCgpLnJlZkNvdW50KCk7XG4gICAgfVxuICAgICAgICAvLyBDaGVjayBmb3IgZGVmZXJyZWQgYXMgb2YgalF1ZXJ5IDEuNVxuICAgIGlmICgkLkRlZmVycmVkKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb252ZXJ0cyB0aGUgalF1ZXJ5IERlZmVycmVkIHRvIGFuIE9ic2VydmFibGUgc2VxdWVuY2VcbiAgICAgICAgICogQHJldHVybnMge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgc2VxdWVuY2UgY3JlYXRlZCBmcm9tIGEgalF1ZXJ5IERlZmVycmVkIG9iamVjdC5cbiAgICAgICAgICovICAgIFxuICAgICAgICAkLkRlZmVycmVkLnRvT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uIChkZWZlcnJlZCkge1xuICAgICAgICAgICAgdmFyIHN1YmplY3QgPSBuZXcgQXN5bmNTdWJqZWN0KCk7XG4gICAgICAgICAgICBkZWZlcnJlZC5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0Lm9uTmV4dChzbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgICAgICAgICAgIHN1YmplY3Qub25Db21wbGV0ZWQoKTtcbiAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHN1YmplY3Qub25FcnJvcihzbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gc3ViamVjdDtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVydHMgYW4gZXhpc3RpbmcgT2JzZXJ2YWJsZSBzZXF1ZW5jZSB0byBhIGpRdWVyeSBEZWZlcnJlZCBvYmplY3QuXG4gICAgICAgICAqIEByZXR1cm5zIHtEZWZlcnJlZH0gQSBqUXVlcnkgRGVmZXJyZWQgb2JqZWN0IHdyYXBwaW5nIHRoZSBPYnNlcnZhYmxlIHNlcXVlbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgb2JzZXJ2YWJsZVByb3RvLnRvRGVmZXJyZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmliZShmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7IFxuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkOyAgXG4gICAgICAgIH07ICAgICAgICBcbiAgICB9XG4gICAgICAgIC8vaW4gb3JkZXIgdG8gc3VwcG9ydCBqUXVlcnkgMS42LipcbiAgICBpZiAoJC5DYWxsYmFja3MpIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVydHMgYW4gZXhpc3RpbmcgQ2FsbGJhY2tzIG9iamVjdCB0byBhbiBPYnNlcnZhYmxlIHNlcXVlbmNlXG4gICAgICAgICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIHNlcXVlbmNlIGNyZWF0ZWQgZnJvbSBhIGpRdWVyeSBDYWxsYmFja3Mgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgJC5DYWxsYmFja3MucHJvdG90eXBlLnRvT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIG9ic2VydmFibGVDcmVhdGUoZnVuY3Rpb24gKG9ic2VydmVyKSB7XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVyKHZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5vbk5leHQodmFsdWVzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwYXJlbnQuYWRkKGhhbmRsZXIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZShoYW5kbGVyKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfSAgaWYgKCEhcHJvdG8ub24pIHtcbiAgICAvKipcbiAgICAgKiBBdHRhY2ggYW4gZXZlbnQgaGFuZGxlciBmdW5jdGlvbiBmb3Igb25lIG9yIG1vcmUgZXZlbnRzIHRvIHRoZSBzZWxlY3RlZCBlbGVtZW50cyBhcyBhbiBPYnNlcnZhYmxlIHNlcXVlbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50cyBPbmUgb3IgbW9yZSBzcGFjZS1zZXBhcmF0ZWQgZXZlbnQgdHlwZXMgYW5kIG9wdGlvbmFsIG5hbWVzcGFjZXMsIHN1Y2ggYXMgXCJjbGlja1wiIG9yIFwia2V5ZG93bi5teVBsdWdpblwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbc2VsZWN0b3JdIEEgc2VsZWN0b3Igc3RyaW5nIHRvIGZpbHRlciB0aGUgZGVzY2VuZGFudHMgb2YgdGhlIHNlbGVjdGVkIGVsZW1lbnRzIHRoYXQgdHJpZ2dlciB0aGUgZXZlbnQuIElmIHRoZSBzZWxlY3RvciBpcyBudWxsIG9yIG9taXR0ZWQsIHRoZSBldmVudCBpcyBhbHdheXMgdHJpZ2dlcmVkIHdoZW4gaXQgcmVhY2hlcyB0aGUgc2VsZWN0ZWQgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0FueX0gW2RhdGFdIERhdGEgdG8gYmUgcGFzc2VkIHRvIHRoZSBoYW5kbGVyIGluIGV2ZW50LmRhdGEgd2hlbiBhbiBldmVudCBpcyB0cmlnZ2VyZWQuXG4gICAgICogQHJldHVybnMge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgc2VxdWVuY2Ugd2hpY2ggd3JhcHMgdGhlIGpRdWVyeSBvbiBtZXRob2QuXG4gICAgICovXG4gICAgcHJvdG8ub25Bc09ic2VydmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLCBvYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSwgYXJncztcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGVDcmVhdGVSZWZDb3VudChmdW5jdGlvbihvYnNlcnZlcikge1xuICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZXIoZXZlbnRPYmplY3QpIHtcbiAgICAgICAgICAgIGV2ZW50T2JqZWN0LmFkZGl0aW9uYWxBcmd1bWVudHMgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgICAgICBvYnNlcnZlci5vbk5leHQoZXZlbnRPYmplY3QpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFyZ3MgPSBvYXJncy5zbGljZSgpO1xuICAgICAgICAgIGFyZ3MucHVzaChoYW5kbGVyKTtcblxuICAgICAgICAgIHBhcmVudC5vbi5hcHBseShwYXJlbnQsIGFyZ3MpO1xuXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcGFyZW50Lm9mZi5hcHBseShwYXJlbnQsIGFyZ3MpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pOyAgICAgICAgIFxuICAgIH07XG4gIH1cblxuICAvKiogXG4gICAqIEF0dGFjaCBhIGhhbmRsZXIgdG8gYW4gZXZlbnQgZm9yIHRoZSBlbGVtZW50cyBhcyBhbiBPYnNlcnZhYmxlIHNlcXVlbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRUeXBlIEEgc3RyaW5nIGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgRE9NIGV2ZW50IHR5cGVzLCBzdWNoIGFzIFwiY2xpY2tcIiBvciBcInN1Ym1pdCxcIiBvciBjdXN0b20gZXZlbnQgbmFtZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudERhdGEgQW4gb2JqZWN0IGNvbnRhaW5pbmcgZGF0YSB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBldmVudCBoYW5kbGVyLlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZSB3aGljaCB3cmFwcyB0aGUgalF1ZXJ5IGJpbmQgbWV0aG9kLlxuICAgKi9cbiAgcHJvdG8uYmluZEFzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uKGV2ZW50VHlwZSwgZXZlbnREYXRhKSB7XG4gICAgdmFyIHBhcmVudCA9IHRoaXM7XG4gICAgcmV0dXJuIG9ic2VydmFibGVDcmVhdGVSZWZDb3VudChmdW5jdGlvbihvYnNlcnZlcikge1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVyKGV2ZW50T2JqZWN0KSB7XG4gICAgICAgIGV2ZW50T2JqZWN0LmFkZGl0aW9uYWxBcmd1bWVudHMgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgIG9ic2VydmVyLm9uTmV4dChldmVudE9iamVjdCk7XG4gICAgICB9XG5cbiAgICAgIHBhcmVudC5iaW5kKGV2ZW50VHlwZSwgZXZlbnREYXRhLCBoYW5kbGVyKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBwYXJlbnQudW5iaW5kKGV2ZW50VHlwZSwgZXZlbnREYXRhLCBoYW5kbGVyKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEF0dGFjaCBhIGhhbmRsZXIgdG8gb25lIG9yIG1vcmUgZXZlbnRzIGZvciBhbGwgZWxlbWVudHMgdGhhdCBtYXRjaCB0aGUgc2VsZWN0b3IsIG5vdyBvciBpbiB0aGUgZnV0dXJlLCBiYXNlZCBvbiBhIHNwZWNpZmljIHNldCBvZiByb290IGVsZW1lbnRzIGFzIGFuIE9ic2VydmFibGUgc2VxdWVuY2VcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yIEEgc2VsZWN0b3IgdG8gZmlsdGVyIHRoZSBlbGVtZW50cyB0aGF0IHRyaWdnZXIgdGhlIGV2ZW50LlxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRUeXBlIEEgc3RyaW5nIGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgc3BhY2Utc2VwYXJhdGVkIEphdmFTY3JpcHQgZXZlbnQgdHlwZXMsIHN1Y2ggYXMgXCJjbGlja1wiIG9yIFwia2V5ZG93bixcIiBvciBjdXN0b20gZXZlbnQgbmFtZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudERhdGEgQW4gb2JqZWN0IGNvbnRhaW5pbmcgZGF0YSB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBldmVudCBoYW5kbGVyLlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZSB3aGljaCB3cmFwcyB0aGUgalF1ZXJ5IGRlbGVnYXRlIG1ldGhvZFxuICAgKi9cbiAgcHJvdG8uZGVsZWdhdGVBc09ic2VydmFibGUgPSBmdW5jdGlvbihzZWxlY3RvciwgZXZlbnRUeXBlLCBldmVudERhdGEpIHtcbiAgICB2YXIgcGFyZW50ID0gdGhpcztcbiAgICByZXR1cm4gb2JzZXJ2YWJsZUNyZWF0ZVJlZkNvdW50KGZ1bmN0aW9uKG9ic2VydmVyKSB7XG4gICAgICBmdW5jdGlvbiBoYW5kbGVyKGV2ZW50T2JqZWN0KSB7XG4gICAgICAgIGV2ZW50T2JqZWN0LmFkZGl0aW9uYWxBcmd1bWVudHMgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgIG9ic2VydmVyLm9uTmV4dChldmVudE9iamVjdCk7XG4gICAgICB9XG5cbiAgICAgIHBhcmVudC5kZWxlZ2F0ZShzZWxlY3RvciwgZXZlbnRUeXBlLCBldmVudERhdGEsIGhhbmRsZXIpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHBhcmVudC51bmRlbGVnYXRlKHNlbGVjdG9yLCBldmVudFR5cGUsIGhhbmRsZXIpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBSZW1vdmVkIGFzIG9mIDEuOVxuICBpZiAoISFwcm90by5saXZlKSB7XG4gICAgLyoqXG4gICAgICogQXR0YWNoIGFuIGV2ZW50IGhhbmRsZXIgZm9yIGFsbCBlbGVtZW50cyB3aGljaCBtYXRjaCB0aGUgY3VycmVudCBzZWxlY3Rvciwgbm93IGFuZCBpbiB0aGUgZnV0dXJlIGFzIGFuIE9ic2VydmFibGUgc2VxdWVuY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFR5cGUgQSBzdHJpbmcgY29udGFpbmluZyBhIEphdmFTY3JpcHQgZXZlbnQgdHlwZSwgc3VjaCBhcyBcImNsaWNrXCIgb3IgXCJrZXlkb3duLlwiIEFzIG9mIGpRdWVyeSAxLjQgdGhlIHN0cmluZyBjYW4gY29udGFpbiBtdWx0aXBsZSwgc3BhY2Utc2VwYXJhdGVkIGV2ZW50IHR5cGVzIG9yIGN1c3RvbSBldmVudCBuYW1lcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBBbiBvYmplY3QgY29udGFpbmluZyBkYXRhIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGV2ZW50IGhhbmRsZXIuXG4gICAgICogQHJldHVybnMge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgc2VxdWVuY2Ugd2hpY2ggd3JhcHMgdGhlIGpRdWVyeSBsaXZlIG1ldGhvZFxuICAgICAqL1xuICAgIHByb3RvLmxpdmVBc09ic2VydmFibGUgPSBmdW5jdGlvbihldmVudFR5cGUsIGRhdGEpIHtcbiAgICAgIHZhciBwYXJlbnQgPSB0aGlzO1xuICAgICAgcmV0dXJuIG9ic2VydmFibGVDcmVhdGVSZWZDb3VudChmdW5jdGlvbihvYnNlcnZlcikge1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVyKGV2ZW50T2JqZWN0KSB7XG4gICAgICAgICAgZXZlbnRPYmplY3QuYWRkaXRpb25hbEFyZ3VtZW50cyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgICBvYnNlcnZlci5vbk5leHQoZXZlbnRPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyZW50LmxpdmUoZXZlbnRUeXBlLCBkYXRhLCBoYW5kbGVyKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBwYXJlbnQuZGllKGV2ZW50VHlwZSwgZGF0YSwgaGFuZGxlcik7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEJpbmQgYW4gZXZlbnQgaGFuZGxlciB0byB0aGUg4oCcY2hhbmdl4oCdIEphdmFTY3JpcHQgZXZlbnQsIG9yIHRyaWdnZXIgdGhhdCBldmVudCBvbiBhbiBlbGVtZW50IGFzIGFuIE9ic2VydmFibGUgc2VxdWVuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbZXZlbnREYXRhXSBBbiBvYmplY3QgY29udGFpbmluZyBkYXRhIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGV2ZW50IGhhbmRsZXIuXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIHNlcXVlbmNlIHdoaWNoIHdyYXBzIHRoZSBqUXVlcnkg4oCcY2hhbmdl4oCdIGV2ZW50LlxuICAgKi9cbiAgcHJvdG8uY2hhbmdlQXNPYnNlcnZhYmxlID0gZnVuY3Rpb24gKGV2ZW50RGF0YSkge1xuICAgIHJldHVybiB0aGlzLmJpbmRBc09ic2VydmFibGUoJ2NoYW5nZScsIGV2ZW50RGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmQgYW4gZXZlbnQgaGFuZGxlciB0byB0aGUg4oCcY2xpY2vigJ0gSmF2YVNjcmlwdCBldmVudCwgb3IgdHJpZ2dlciB0aGF0IGV2ZW50IG9uIGFuIGVsZW1lbnQgYXMgYW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtldmVudERhdGFdIEFuIG9iamVjdCBjb250YWluaW5nIGRhdGEgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZXZlbnQgaGFuZGxlci5cbiAgICogQHJldHVybnMge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgc2VxdWVuY2Ugd2hpY2ggd3JhcHMgdGhlIGpRdWVyeSDigJxjbGlja+KAnSBldmVudC5cbiAgICovXG4gIHByb3RvLmNsaWNrQXNPYnNlcnZhYmxlID0gZnVuY3Rpb24gKGV2ZW50RGF0YSkge1xuICAgIHJldHVybiB0aGlzLmJpbmRBc09ic2VydmFibGUoJ2NsaWNrJywgZXZlbnREYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZCBhbiBldmVudCBoYW5kbGVyIHRvIHRoZSDigJxkYmxjbGlja+KAnSBKYXZhU2NyaXB0IGV2ZW50LCBvciB0cmlnZ2VyIHRoYXQgZXZlbnQgb24gYW4gZWxlbWVudCBhcyBhbiBPYnNlcnZhYmxlIHNlcXVlbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW2V2ZW50RGF0YV0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgZGF0YSB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBldmVudCBoYW5kbGVyLlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZSB3aGljaCB3cmFwcyB0aGUgalF1ZXJ5IFwi4oCcZGJsY2xpY2vigJ1cIiBldmVudC5cbiAgICovXG4gIHByb3RvLmRibGNsaWNrQXNPYnNlcnZhYmxlID0gZnVuY3Rpb24gKGV2ZW50RGF0YSkge1xuICAgIHJldHVybiB0aGlzLmJpbmRBc09ic2VydmFibGUoJ2RibGNsaWNrJywgZXZlbnREYXRhKTtcbiAgfTsgICAgXG5cbiAgLyoqXG4gICAqIEJpbmQgYW4gZXZlbnQgaGFuZGxlciB0byB0aGUg4oCcZm9jdXPigJ0gSmF2YVNjcmlwdCBldmVudCwgb3IgdHJpZ2dlciB0aGF0IGV2ZW50IG9uIGFuIGVsZW1lbnQgYXMgYW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtldmVudERhdGFdIEFuIG9iamVjdCBjb250YWluaW5nIGRhdGEgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZXZlbnQgaGFuZGxlci5cbiAgICogQHJldHVybnMge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgc2VxdWVuY2Ugd2hpY2ggd3JhcHMgdGhlIGpRdWVyeSBcIuKAnGZvY3Vz4oCdXCIgZXZlbnQuXG4gICAqL1xuICBwcm90by5mb2N1c0FzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uKGV2ZW50RGF0YSkge1xuICAgIHJldHVybiB0aGlzLmJpbmRBc09ic2VydmFibGUoJ2ZvY3VzJywgZXZlbnREYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZCBhbiBldmVudCBoYW5kbGVyIHRvIHRoZSDigJxmb2N1c2lu4oCdIGV2ZW50IGFzIGFuIE9ic2VydmFibGUgc2VxdWVuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbZXZlbnREYXRhXSBBbiBvYmplY3QgY29udGFpbmluZyBkYXRhIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGV2ZW50IGhhbmRsZXIuXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIHNlcXVlbmNlIHdoaWNoIHdyYXBzIHRoZSBqUXVlcnkg4oCcZm9jdXNpbuKAnSBldmVudC5cbiAgICovXG4gIHByb3RvLmZvY3VzaW5Bc09ic2VydmFibGUgPSBmdW5jdGlvbihldmVudERhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5iaW5kQXNPYnNlcnZhYmxlKCdmb2N1c2luJywgZXZlbnREYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZCBhbiBldmVudCBoYW5kbGVyIHRvIHRoZSDigJxmb2N1c2lu4oCdIGV2ZW50IGFzIGFuIE9ic2VydmFibGUgc2VxdWVuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbZXZlbnREYXRhXSBBbiBvYmplY3QgY29udGFpbmluZyBkYXRhIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGV2ZW50IGhhbmRsZXIuXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIHNlcXVlbmNlIHdoaWNoIHdyYXBzIHRoZSBqUXVlcnkg4oCcZm9jdXNpbuKAnSBldmVudC5cbiAgICovXG4gIHByb3RvLmZvY3Vzb3V0QXNPYnNlcnZhYmxlID0gZnVuY3Rpb24oZXZlbnREYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMuYmluZEFzT2JzZXJ2YWJsZSgnZm9jdXNvdXQnLCBldmVudERhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kIGFuIGV2ZW50IGhhbmRsZXIgdG8gdGhlIFwia2V5cHJlc3NcIiBKYXZhU2NyaXB0IGV2ZW50LCBvciB0cmlnZ2VyIHRoYXQgZXZlbnQgb24gYW4gZWxlbWVudCBhcyBhbiBPYnNlcnZhYmxlIHNlcXVlbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW2V2ZW50RGF0YV0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgZGF0YSB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBldmVudCBoYW5kbGVyLlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZSB3aGljaCB3cmFwcyB0aGUgalF1ZXJ5IOKAnGtleXByZXNz4oCdIGV2ZW50LlxuICAgKi9cbiAgcHJvdG8ua2V5cHJlc3NBc09ic2VydmFibGUgPSBmdW5jdGlvbihldmVudERhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5iaW5kQXNPYnNlcnZhYmxlKCdrZXlwcmVzcycsIGV2ZW50RGF0YSk7XG4gIH07XG5cblxuICAvKipcbiAgICogQmluZCBhbiBldmVudCBoYW5kbGVyIHRvIHRoZSDigJxrZXlkb3du4oCdIEphdmFTY3JpcHQgZXZlbnQsIG9yIHRyaWdnZXIgdGhhdCBldmVudCBvbiBhbiBlbGVtZW50IGFzIGFuIE9ic2VydmFibGUgc2VxdWVuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbZXZlbnREYXRhXSBBbiBvYmplY3QgY29udGFpbmluZyBkYXRhIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGV2ZW50IGhhbmRsZXIuXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIHNlcXVlbmNlIHdoaWNoIHdyYXBzIHRoZSBqUXVlcnkg4oCca2V5ZG93buKAnSBldmVudC5cbiAgICovXG4gIHByb3RvLmtleWRvd25Bc09ic2VydmFibGUgPSBmdW5jdGlvbihldmVudERhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5iaW5kQXNPYnNlcnZhYmxlKCdrZXlkb3duJywgZXZlbnREYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZCBhbiBldmVudCBoYW5kbGVyIHRvIHRoZSDigJxrZXl1cOKAnSBKYXZhU2NyaXB0IGV2ZW50LCBvciB0cmlnZ2VyIHRoYXQgZXZlbnQgb24gYW4gZWxlbWVudCBhcyBhbiBPYnNlcnZhYmxlIHNlcXVlbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW2V2ZW50RGF0YV0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgZGF0YSB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBldmVudCBoYW5kbGVyLlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZSB3aGljaCB3cmFwcyB0aGUgalF1ZXJ5IOKAnGtleXVw4oCdIGV2ZW50LlxuICAgKi9cbiAgcHJvdG8ua2V5dXBBc09ic2VydmFibGUgPSBmdW5jdGlvbihldmVudERhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5iaW5kQXNPYnNlcnZhYmxlKCdrZXl1cCcsIGV2ZW50RGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmQgYW4gZXZlbnQgaGFuZGxlciB0byB0aGUg4oCcbG9hZOKAnSBKYXZhU2NyaXB0IGV2ZW50IGFzIGFuIE9ic2VydmFibGUgc2VxdWVuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbZXZlbnREYXRhXSBBbiBvYmplY3QgY29udGFpbmluZyBkYXRhIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGV2ZW50IGhhbmRsZXIuXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIHNlcXVlbmNlIHdoaWNoIHdyYXBzIHRoZSBqUXVlcnkg4oCcbG9hZOKAnSBldmVudC5cbiAgICovXG4gIHByb3RvLmxvYWRBc09ic2VydmFibGUgPSBmdW5jdGlvbihldmVudERhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5iaW5kQXNPYnNlcnZhYmxlKCdsb2FkJywgZXZlbnREYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZCBhbiBldmVudCBoYW5kbGVyIHRvIHRoZSDigJxtb3VzZWRvd27igJ0gSmF2YVNjcmlwdCBldmVudCwgb3IgdHJpZ2dlciB0aGF0IGV2ZW50IG9uIGFuIGVsZW1lbnQgYXMgYW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtldmVudERhdGFdIEFuIG9iamVjdCBjb250YWluaW5nIGRhdGEgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZXZlbnQgaGFuZGxlci5cbiAgICogQHJldHVybnMge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgc2VxdWVuY2Ugd2hpY2ggd3JhcHMgdGhlIGpRdWVyeSDigJxtb3VzZWRvd27igJ0gZXZlbnQuXG4gICAqL1xuICBwcm90by5tb3VzZWRvd25Bc09ic2VydmFibGUgPSBmdW5jdGlvbihldmVudERhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5iaW5kQXNPYnNlcnZhYmxlKCdtb3VzZWRvd24nLCBldmVudERhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kIGFuIGV2ZW50IGhhbmRsZXIgdG8gYmUgZmlyZWQgd2hlbiB0aGUgbW91c2UgZW50ZXJzIGFuIGVsZW1lbnQsIG9yIHRyaWdnZXIgdGhhdCBoYW5kbGVyIG9uIGFuIGVsZW1lbnQgYXMgYW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtldmVudERhdGFdIEFuIG9iamVjdCBjb250YWluaW5nIGRhdGEgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZXZlbnQgaGFuZGxlci5cbiAgICogQHJldHVybnMge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgc2VxdWVuY2Ugd2hpY2ggd3JhcHMgdGhlIGpRdWVyeSDigJxtb3VzZWVudGVy4oCdIGV2ZW50LlxuICAgKi9cbiAgcHJvdG8ubW91c2VlbnRlckFzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uKGV2ZW50RGF0YSkge1xuICAgIHJldHVybiB0aGlzLmJpbmRBc09ic2VydmFibGUoJ21vdXNlZW50ZXInLCBldmVudERhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kIGFuIGV2ZW50IGhhbmRsZXIgdG8gYmUgZmlyZWQgd2hlbiB0aGUgbW91c2UgbGVhdmVzIGFuIGVsZW1lbnQsIG9yIHRyaWdnZXIgdGhhdCBoYW5kbGVyIG9uIGFuIGVsZW1lbnQgYXMgYW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtldmVudERhdGFdIEFuIG9iamVjdCBjb250YWluaW5nIGRhdGEgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZXZlbnQgaGFuZGxlci5cbiAgICogQHJldHVybnMge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgc2VxdWVuY2Ugd2hpY2ggd3JhcHMgdGhlIGpRdWVyeSDigJxtb3VzZWxlYXZl4oCdIGV2ZW50LlxuICAgKi9cbiAgcHJvdG8ubW91c2VsZWF2ZUFzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uKGV2ZW50RGF0YSkge1xuICAgIHJldHVybiB0aGlzLmJpbmRBc09ic2VydmFibGUoJ21vdXNlbGVhdmUnLCBldmVudERhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kIGFuIGV2ZW50IGhhbmRsZXIgdG8gdGhlIOKAnG1vdXNlbW92ZeKAnSBKYXZhU2NyaXB0IGV2ZW50LCBvciB0cmlnZ2VyIHRoYXQgZXZlbnQgb24gYW4gZWxlbWVudCBhcyBhbiBPYnNlcnZhYmxlIHNlcXVlbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW2V2ZW50RGF0YV0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgZGF0YSB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBldmVudCBoYW5kbGVyLlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZSB3aGljaCB3cmFwcyB0aGUgalF1ZXJ5IOKAnG1vdXNlbW92ZeKAnSBldmVudC5cbiAgICovXG4gIHByb3RvLm1vdXNlbW92ZUFzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uKGV2ZW50RGF0YSkge1xuICAgIHJldHVybiB0aGlzLmJpbmRBc09ic2VydmFibGUoJ21vdXNlbW92ZScsIGV2ZW50RGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmQgYW4gZXZlbnQgaGFuZGxlciB0byB0aGUg4oCcbW91c2VvdXTigJ0gSmF2YVNjcmlwdCBldmVudCwgb3IgdHJpZ2dlciB0aGF0IGV2ZW50IG9uIGFuIGVsZW1lbnQgYXMgYW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtldmVudERhdGFdIEFuIG9iamVjdCBjb250YWluaW5nIGRhdGEgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZXZlbnQgaGFuZGxlci5cbiAgICogQHJldHVybnMge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgc2VxdWVuY2Ugd2hpY2ggd3JhcHMgdGhlIGpRdWVyeSDigJxtb3VzZW91dOKAnSBldmVudC5cbiAgICovXG4gIHByb3RvLm1vdXNlb3V0QXNPYnNlcnZhYmxlID0gZnVuY3Rpb24oZXZlbnREYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMuYmluZEFzT2JzZXJ2YWJsZSgnbW91c2VvdXQnLCBldmVudERhdGEpOyAgXG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmQgYW4gZXZlbnQgaGFuZGxlciB0byB0aGUg4oCcbW91c2VvdmVy4oCdIEphdmFTY3JpcHQgZXZlbnQsIG9yIHRyaWdnZXIgdGhhdCBldmVudCBvbiBhbiBlbGVtZW50IGFzIGFuIE9ic2VydmFibGUgc2VxdWVuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbZXZlbnREYXRhXSBBbiBvYmplY3QgY29udGFpbmluZyBkYXRhIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGV2ZW50IGhhbmRsZXIuXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIHNlcXVlbmNlIHdoaWNoIHdyYXBzIHRoZSBqUXVlcnkg4oCcbW91c2VvdmVy4oCdIGV2ZW50LlxuICAgKi9cbiAgcHJvdG8ubW91c2VvdmVyQXNPYnNlcnZhYmxlID0gZnVuY3Rpb24oZXZlbnREYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMuYmluZEFzT2JzZXJ2YWJsZSgnbW91c2VvdmVyJywgZXZlbnREYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZCBhbiBldmVudCBoYW5kbGVyIHRvIHRoZSDigJxtb3VzZXVw4oCdIEphdmFTY3JpcHQgZXZlbnQsIG9yIHRyaWdnZXIgdGhhdCBldmVudCBvbiBhbiBlbGVtZW50IGFzIGFuIE9ic2VydmFibGUgc2VxdWVuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbZXZlbnREYXRhXSBBbiBvYmplY3QgY29udGFpbmluZyBkYXRhIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGV2ZW50IGhhbmRsZXIuXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIHNlcXVlbmNlIHdoaWNoIHdyYXBzIHRoZSBqUXVlcnkg4oCcbW91c2V1cOKAnSBldmVudC5cbiAgICovXG4gIHByb3RvLm1vdXNldXBBc09ic2VydmFibGUgPSBmdW5jdGlvbihldmVudERhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5iaW5kQXNPYnNlcnZhYmxlKCdtb3VzZXVwJywgZXZlbnREYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZCBhbiBldmVudCBoYW5kbGVyIHRvIHRoZSDigJxyZXNpemXigJ0gSmF2YVNjcmlwdCBldmVudCwgb3IgdHJpZ2dlciB0aGF0IGV2ZW50IG9uIGFuIGVsZW1lbnQgYXMgYW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtldmVudERhdGFdIEFuIG9iamVjdCBjb250YWluaW5nIGRhdGEgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZXZlbnQgaGFuZGxlci5cbiAgICogQHJldHVybnMge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgc2VxdWVuY2Ugd2hpY2ggd3JhcHMgdGhlIGpRdWVyeSDigJxyZXNpemXigJ0gZXZlbnQuXG4gICAqL1xuICBwcm90by5yZXNpemVBc09ic2VydmFibGUgPSBmdW5jdGlvbihldmVudERhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5iaW5kQXNPYnNlcnZhYmxlKCdyZXNpemUnLCBldmVudERhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kIGFuIGV2ZW50IGhhbmRsZXIgdG8gdGhlIOKAnHNjcm9sbOKAnSBKYXZhU2NyaXB0IGV2ZW50LCBvciB0cmlnZ2VyIHRoYXQgZXZlbnQgb24gYW4gZWxlbWVudCBhcyBhbiBPYnNlcnZhYmxlIHNlcXVlbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW2V2ZW50RGF0YV0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgZGF0YSB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBldmVudCBoYW5kbGVyLlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZSB3aGljaCB3cmFwcyB0aGUgalF1ZXJ5IOKAnHNjcm9sbOKAnSBldmVudC5cbiAgICovXG4gIHByb3RvLnNjcm9sbEFzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uKGV2ZW50RGF0YSkge1xuICAgIHJldHVybiB0aGlzLmJpbmRBc09ic2VydmFibGUoJ3Njcm9sbCcsIGV2ZW50RGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmQgYW4gZXZlbnQgaGFuZGxlciB0byB0aGUg4oCcc2VsZWN04oCdIEphdmFTY3JpcHQgZXZlbnQsIG9yIHRyaWdnZXIgdGhhdCBldmVudCBvbiBhbiBlbGVtZW50IGFzIGFuIE9ic2VydmFibGUgc2VxdWVuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbZXZlbnREYXRhXSBBbiBvYmplY3QgY29udGFpbmluZyBkYXRhIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGV2ZW50IGhhbmRsZXIuXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIHNlcXVlbmNlIHdoaWNoIHdyYXBzIHRoZSBqUXVlcnkg4oCcc2VsZWN04oCdIGV2ZW50LlxuICAgKi9cbiAgcHJvdG8uc2VsZWN0QXNPYnNlcnZhYmxlID0gZnVuY3Rpb24oZXZlbnREYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMuYmluZEFzT2JzZXJ2YWJsZSgnc2VsZWN0JywgZXZlbnREYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZCBhbiBldmVudCBoYW5kbGVyIHRvIHRoZSDigJxzZWxlY3TigJ0gSmF2YVNjcmlwdCBldmVudCwgb3IgdHJpZ2dlciB0aGF0IGV2ZW50IG9uIGFuIGVsZW1lbnQgYXMgYW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtldmVudERhdGFdIEFuIG9iamVjdCBjb250YWluaW5nIGRhdGEgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZXZlbnQgaGFuZGxlci5cbiAgICogQHJldHVybnMge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgc2VxdWVuY2Ugd2hpY2ggd3JhcHMgdGhlIGpRdWVyeSDigJxzZWxlY3TigJ0gZXZlbnQuXG4gICAqL1xuICBwcm90by5zdWJtaXRBc09ic2VydmFibGUgPSBmdW5jdGlvbihldmVudERhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5iaW5kQXNPYnNlcnZhYmxlKCdzdWJtaXQnLCBldmVudERhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kIGFuIGV2ZW50IGhhbmRsZXIgdG8gdGhlIOKAnHVubG9hZOKAnSBKYXZhU2NyaXB0IGV2ZW50IGFzIGFuIE9ic2VydmFibGUgc2VxdWVuY2UuICBUaGlzIGlzIGRlcHJlY2F0ZWQgYXMgb2YgalF1ZXJ5IDEuOC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtldmVudERhdGFdIEFuIG9iamVjdCBjb250YWluaW5nIGRhdGEgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZXZlbnQgaGFuZGxlci5cbiAgICogQHJldHVybnMge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgc2VxdWVuY2Ugd2hpY2ggd3JhcHMgdGhlIGpRdWVyeSDigJx1bmxvYWTigJ0gZXZlbnQuXG4gICAqL1xuICBwcm90by51bmxvYWRBc09ic2VydmFibGUgPSBmdW5jdGlvbihldmVudERhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5iaW5kQXNPYnNlcnZhYmxlKCd1bmxvYWQnLCBldmVudERhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBdHRhY2ggYSBoYW5kbGVyIHRvIGFuIGV2ZW50IGZvciB0aGUgZWxlbWVudHMgYXMgYW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZS4gVGhlIGhhbmRsZXIgaXMgZXhlY3V0ZWQgYXQgbW9zdCBvbmNlIHBlciBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzIEEgc3RyaW5nIGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgSmF2YVNjcmlwdCBldmVudCB0eXBlcywgc3VjaCBhcyBcImNsaWNrXCIgb3IgXCJzdWJtaXQsXCIgb3IgY3VzdG9tIGV2ZW50IG5hbWVzLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3NlbGVjdG9yXSBBIHNlbGVjdG9yIHN0cmluZyB0byBmaWx0ZXIgdGhlIGRlc2NlbmRhbnRzIG9mIHRoZSBzZWxlY3RlZCBlbGVtZW50cyB0aGF0IHRyaWdnZXIgdGhlIGV2ZW50LiBJZiB0aGUgc2VsZWN0b3IgaXMgbnVsbCBvciBvbWl0dGVkLCB0aGUgZXZlbnQgaXMgYWx3YXlzIHRyaWdnZXJlZCB3aGVuIGl0IHJlYWNoZXMgdGhlIHNlbGVjdGVkIGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbZGF0YV0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgZGF0YSB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBldmVudCBoYW5kbGVyLlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZSB3aGljaCB3cmFwcyB0aGUgalF1ZXJ5IG9uZSBtZXRob2QuXG4gICAqL1xuICBwcm90by5vbmVBc09ic2VydmFibGUgPSBmdW5jdGlvbihldmVudHMpIHtcbiAgICB2YXIgcGFyZW50ID0gdGhpcywgb2FyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMCksIGFyZ3M7XG4gICAgcmV0dXJuIG9ic2VydmFibGVDcmVhdGVSZWZDb3VudChmdW5jdGlvbihvYnNlcnZlcikge1xuICAgICAgZnVuY3Rpb24gaGFuZGxlciAoZXZlbnRPYmplY3QpIHtcbiAgICAgICAgZXZlbnRPYmplY3QuYWRkaXRpb25hbEFyZ3VtZW50cyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgb2JzZXJ2ZXIub25OZXh0KGV2ZW50T2JqZWN0KTtcdFxuICAgICAgfVxuXG4gICAgICBhcmdzID0gb2FyZ3Muc2xpY2UoKTtcbiAgICAgIGFyZ3MucHVzaChoYW5kbGVyKTtcbiAgICAgIFxuICAgICAgcGFyZW50Lm9uZS5hcHBseShwYXJlbnQsIGFyZ3MpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZ5IGEgZnVuY3Rpb24gdG8gZXhlY3V0ZSB3aGVuIHRoZSBET00gaXMgZnVsbHkgbG9hZGVkIGFzIGFuIE9ic2VydmFibGUgc2VxdWVuY2UuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIHNlcXVlbmNlIHdoaWNoIHdyYXBzIHRoZSBqUXVlcnkgcmVhZHkgbWV0aG9kLlxuICAgKi9cbiAgcHJvdG8ucmVhZHlBc09ic2VydmFibGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcGFyZW50ID0gdGhpcztcbiAgICByZXR1cm4gb2JzZXJ2YWJsZUNyZWF0ZVJlZkNvdW50KGZ1bmN0aW9uKG9ic2VydmVyKSB7XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZXIoZXZlbnRPYmplY3QpIHtcbiAgICAgICAgb2JzZXJ2ZXIub25OZXh0KGV2ZW50T2JqZWN0KTtcbiAgICAgIH1cblxuICAgICAgcGFyZW50LnJlYWR5KGhhbmRsZXIpO1xuICAgIH0pO1xuICB9O1xuICAgIGZ1bmN0aW9uIGhhbmRsZUFuaW1hdGlvbihqUXVlcnlQcm90bywgbWV0aG9kLCBhcmdzKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJnc1swXTtcblxuICAgICAgICAvLyBDaGVjayBmb3IgZHVyYXRpb25cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJyB8fCB0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IGR1cmF0aW9uOiBvcHRpb25zIH07XG4gICAgICAgIH0gZWxzZSBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGZvciBlYXNpbmdcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBvcHRpb25zLmVhc2luZyA9IGFyZ3NbMV07XG4gICAgICAgIH0gICAgXG5cbiAgICAgICAgdmFyIHN1YmplY3QgPSBuZXcgQXN5bmNTdWJqZWN0KCk7XG5cbiAgICAgICAgb3B0aW9ucy5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc3ViamVjdC5vbk5leHQoalF1ZXJ5UHJvdG8pO1xuICAgICAgICAgICAgc3ViamVjdC5vbkNvbXBsZXRlZCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGpRdWVyeVByb3RvW21ldGhvZF0ob3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIHN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGlkZSB0aGUgbWF0Y2hlZCBlbGVtZW50cyBhcyBhbiBPYnNlcnZhYmxlIHNlcXVlbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBbZHVyYXRpb25dIEEgc3RyaW5nIG9yIG51bWJlciBkZXRlcm1pbmluZyBob3cgbG9uZyB0aGUgYW5pbWF0aW9uIHdpbGwgcnVuLiAgSWYgbm90IHNwZWNpZmllZCwgZGVmYXVsdHMgdG8gNDAwLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbZWFzaW5nXSBBIHN0cmluZyBpbmRpY2F0aW5nIHdoaWNoIGVhc2luZyBmdW5jdGlvbiB0byB1c2UgZm9yIHRoZSB0cmFuc2l0aW9uLiAgICAgICAgXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBBIG1hcCBvZiBhZGRpdGlvbmFsIG9wdGlvbnMgdG8gcGFzcyB0byB0aGUgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gW29wdGlvbnMuZHVyYXRpb25dIEEgc3RyaW5nIG9yIG51bWJlciBkZXRlcm1pbmluZyBob3cgbG9uZyB0aGUgYW5pbWF0aW9uIHdpbGwgcnVuLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5lYXNpbmddIEEgc3RyaW5nIGluZGljYXRpbmcgd2hpY2ggZWFzaW5nIGZ1bmN0aW9uIHRvIHVzZSBmb3IgdGhlIHRyYW5zaXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd8Qm9vbGVhbn0gW29wdGlvbnMucXVldWVdIEEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdG8gcGxhY2UgdGhlIGFuaW1hdGlvbiBpbiB0aGUgZWZmZWN0cyBxdWV1ZS4gSWYgZmFsc2UsIHRoZSBhbmltYXRpb24gd2lsbCBiZWdpbiBpbW1lZGlhdGVseS4gQXMgb2YgalF1ZXJ5IDEuNywgdGhlIHF1ZXVlIG9wdGlvbiBjYW4gYWxzbyBhY2NlcHQgYSBzdHJpbmcsIGluIHdoaWNoIGNhc2UgdGhlIGFuaW1hdGlvbiBpcyBhZGRlZCB0byB0aGUgcXVldWUgcmVwcmVzZW50ZWQgYnkgdGhhdCBzdHJpbmcuIFdoZW4gYSBjdXN0b20gcXVldWUgbmFtZSBpcyB1c2VkIHRoZSBhbmltYXRpb24gZG9lcyBub3QgYXV0b21hdGljYWxseSBzdGFydDsgeW91IG11c3QgY2FsbCAuZGVxdWV1ZShcInF1ZXVlbmFtZVwiKSB0byBzdGFydCBpdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuc3BlY2lhbEVhc2luZ10gQSBtYXAgb2Ygb25lIG9yIG1vcmUgb2YgdGhlIENTUyBwcm9wZXJ0aWVzIGRlZmluZWQgYnkgdGhlIHByb3BlcnRpZXMgYXJndW1lbnQgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgZWFzaW5nIGZ1bmN0aW9ucy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuc3RlcF0gQSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgZm9yIGVhY2ggYW5pbWF0ZWQgcHJvcGVydHkgb2YgZWFjaCBhbmltYXRlZCBlbGVtZW50LiBUaGlzIGZ1bmN0aW9uIHByb3ZpZGVzIGFuIG9wcG9ydHVuaXR5IHRvIG1vZGlmeSB0aGUgVHdlZW4gb2JqZWN0IHRvIGNoYW5nZSB0aGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IGJlZm9yZSBpdCBpcyBzZXQuXG4gICAgICogQHJldHVybnMge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgc2VxdWVuY2Ugd2hpY2ggd3JhcHMgdGhlIGpRdWVyeSBoaWRlIG1ldGhvZC4gICAgIFxuICAgICAqL1xuICAgIHByb3RvLmhpZGVBc09ic2VydmFibGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gaGFuZGxlQW5pbWF0aW9uKHRoaXMsICdoaWRlJywgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGlzcGxheSB0aGUgbWF0Y2hlZCBlbGVtZW50cyBhcyBhbiBPYnNlcnZhYmxlIHNlcXVlbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBbZHVyYXRpb25dIEEgc3RyaW5nIG9yIG51bWJlciBkZXRlcm1pbmluZyBob3cgbG9uZyB0aGUgYW5pbWF0aW9uIHdpbGwgcnVuLiAgSWYgbm90IHNwZWNpZmllZCwgZGVmYXVsdHMgdG8gNDAwLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbZWFzaW5nXSBBIHN0cmluZyBpbmRpY2F0aW5nIHdoaWNoIGVhc2luZyBmdW5jdGlvbiB0byB1c2UgZm9yIHRoZSB0cmFuc2l0aW9uLiAgICAgXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBBIG1hcCBvZiBhZGRpdGlvbmFsIG9wdGlvbnMgdG8gcGFzcyB0byB0aGUgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gW29wdGlvbnMuZHVyYXRpb25dIEEgc3RyaW5nIG9yIG51bWJlciBkZXRlcm1pbmluZyBob3cgbG9uZyB0aGUgYW5pbWF0aW9uIHdpbGwgcnVuLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5lYXNpbmddIEEgc3RyaW5nIGluZGljYXRpbmcgd2hpY2ggZWFzaW5nIGZ1bmN0aW9uIHRvIHVzZSBmb3IgdGhlIHRyYW5zaXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd8Qm9vbGVhbn0gW29wdGlvbnMucXVldWVdIEEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdG8gcGxhY2UgdGhlIGFuaW1hdGlvbiBpbiB0aGUgZWZmZWN0cyBxdWV1ZS4gSWYgZmFsc2UsIHRoZSBhbmltYXRpb24gd2lsbCBiZWdpbiBpbW1lZGlhdGVseS4gQXMgb2YgalF1ZXJ5IDEuNywgdGhlIHF1ZXVlIG9wdGlvbiBjYW4gYWxzbyBhY2NlcHQgYSBzdHJpbmcsIGluIHdoaWNoIGNhc2UgdGhlIGFuaW1hdGlvbiBpcyBhZGRlZCB0byB0aGUgcXVldWUgcmVwcmVzZW50ZWQgYnkgdGhhdCBzdHJpbmcuIFdoZW4gYSBjdXN0b20gcXVldWUgbmFtZSBpcyB1c2VkIHRoZSBhbmltYXRpb24gZG9lcyBub3QgYXV0b21hdGljYWxseSBzdGFydDsgeW91IG11c3QgY2FsbCAuZGVxdWV1ZShcInF1ZXVlbmFtZVwiKSB0byBzdGFydCBpdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuc3BlY2lhbEVhc2luZ10gQSBtYXAgb2Ygb25lIG9yIG1vcmUgb2YgdGhlIENTUyBwcm9wZXJ0aWVzIGRlZmluZWQgYnkgdGhlIHByb3BlcnRpZXMgYXJndW1lbnQgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgZWFzaW5nIGZ1bmN0aW9ucy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuc3RlcF0gQSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgZm9yIGVhY2ggYW5pbWF0ZWQgcHJvcGVydHkgb2YgZWFjaCBhbmltYXRlZCBlbGVtZW50LiBUaGlzIGZ1bmN0aW9uIHByb3ZpZGVzIGFuIG9wcG9ydHVuaXR5IHRvIG1vZGlmeSB0aGUgVHdlZW4gb2JqZWN0IHRvIGNoYW5nZSB0aGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IGJlZm9yZSBpdCBpcyBzZXQuXG4gICAgICogQHJldHVybnMge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgc2VxdWVuY2Ugd2hpY2ggd3JhcHMgdGhlIGpRdWVyeSBzaG93IG1ldGhvZC4gICAgIFxuICAgICAqL1xuICAgIHByb3RvLnNob3dBc09ic2VydmFibGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVBbmltYXRpb24odGhpcywgJ3Nob3cnLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEaXNwbGF5IHRoZSBtYXRjaGVkIGVsZW1lbnRzIGFzIGFuIE9ic2VydmFibGUgc2VxdWVuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyBBbiBvYmplY3Qgb2YgQ1NTIHByb3BlcnRpZXMgYW5kIHZhbHVlcyB0aGF0IHRoZSBhbmltYXRpb24gd2lsbCBtb3ZlIHRvd2FyZC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IFtkdXJhdGlvbl0gQSBzdHJpbmcgb3IgbnVtYmVyIGRldGVybWluaW5nIGhvdyBsb25nIHRoZSBhbmltYXRpb24gd2lsbCBydW4uICBJZiBub3Qgc3BlY2lmaWVkLCBkZWZhdWx0cyB0byA0MDAuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtlYXNpbmddIEEgc3RyaW5nIGluZGljYXRpbmcgd2hpY2ggZWFzaW5nIGZ1bmN0aW9uIHRvIHVzZSBmb3IgdGhlIHRyYW5zaXRpb24uICAgICBcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIEEgbWFwIG9mIGFkZGl0aW9uYWwgb3B0aW9ucyB0byBwYXNzIHRvIHRoZSBtZXRob2QuXG4gICAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBbb3B0aW9ucy5kdXJhdGlvbl0gQSBzdHJpbmcgb3IgbnVtYmVyIGRldGVybWluaW5nIGhvdyBsb25nIHRoZSBhbmltYXRpb24gd2lsbCBydW4uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmVhc2luZ10gQSBzdHJpbmcgaW5kaWNhdGluZyB3aGljaCBlYXNpbmcgZnVuY3Rpb24gdG8gdXNlIGZvciB0aGUgdHJhbnNpdGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xCb29sZWFufSBbb3B0aW9ucy5xdWV1ZV0gQSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0byBwbGFjZSB0aGUgYW5pbWF0aW9uIGluIHRoZSBlZmZlY3RzIHF1ZXVlLiBJZiBmYWxzZSwgdGhlIGFuaW1hdGlvbiB3aWxsIGJlZ2luIGltbWVkaWF0ZWx5LiBBcyBvZiBqUXVlcnkgMS43LCB0aGUgcXVldWUgb3B0aW9uIGNhbiBhbHNvIGFjY2VwdCBhIHN0cmluZywgaW4gd2hpY2ggY2FzZSB0aGUgYW5pbWF0aW9uIGlzIGFkZGVkIHRvIHRoZSBxdWV1ZSByZXByZXNlbnRlZCBieSB0aGF0IHN0cmluZy4gV2hlbiBhIGN1c3RvbSBxdWV1ZSBuYW1lIGlzIHVzZWQgdGhlIGFuaW1hdGlvbiBkb2VzIG5vdCBhdXRvbWF0aWNhbGx5IHN0YXJ0OyB5b3UgbXVzdCBjYWxsIC5kZXF1ZXVlKFwicXVldWVuYW1lXCIpIHRvIHN0YXJ0IGl0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5zcGVjaWFsRWFzaW5nXSBBIG1hcCBvZiBvbmUgb3IgbW9yZSBvZiB0aGUgQ1NTIHByb3BlcnRpZXMgZGVmaW5lZCBieSB0aGUgcHJvcGVydGllcyBhcmd1bWVudCBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBlYXNpbmcgZnVuY3Rpb25zLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5zdGVwXSBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBmb3IgZWFjaCBhbmltYXRlZCBwcm9wZXJ0eSBvZiBlYWNoIGFuaW1hdGVkIGVsZW1lbnQuIFRoaXMgZnVuY3Rpb24gcHJvdmlkZXMgYW4gb3Bwb3J0dW5pdHkgdG8gbW9kaWZ5IHRoZSBUd2VlbiBvYmplY3QgdG8gY2hhbmdlIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgYmVmb3JlIGl0IGlzIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZSB3aGljaCB3cmFwcyB0aGUgalF1ZXJ5IHNob3cgbWV0aG9kLiAgICAgXG4gICAgICovXG4gICAgcHJvdG8uYW5pbWF0ZUFzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uKHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGR1cmF0aW9uXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicgfHwgdHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBvcHRpb25zID0geyBkdXJhdGlvbjogb3B0aW9ucyB9O1xuICAgICAgICB9IGVsc2UgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBmb3IgZWFzaW5nXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICBvcHRpb25zLmVhc2luZyA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgfSAgXG5cbiAgICAgICAgdmFyIHN1YmplY3QgPSBuZXcgQXN5bmNTdWJqZWN0KCk7XG5cbiAgICAgICAgb3B0aW9ucy5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc3ViamVjdC5vbk5leHQodGhpcyk7XG4gICAgICAgICAgICBzdWJqZWN0Lm9uQ29tcGxldGVkKCk7XG4gICAgICAgIH07ICAgICAgICBcblxuICAgICAgICB0aGlzLmFuaW1hdGUocHJvcGVydGllcywgb3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIHN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERpc3BsYXkgdGhlIG1hdGNoZWQgZWxlbWVudHMgYXMgYW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gW2R1cmF0aW9uXSBBIHN0cmluZyBvciBudW1iZXIgZGV0ZXJtaW5pbmcgaG93IGxvbmcgdGhlIGFuaW1hdGlvbiB3aWxsIHJ1bi4gIElmIG5vdCBzcGVjaWZpZWQsIGRlZmF1bHRzIHRvIDQwMC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2Vhc2luZ10gQSBzdHJpbmcgaW5kaWNhdGluZyB3aGljaCBlYXNpbmcgZnVuY3Rpb24gdG8gdXNlIGZvciB0aGUgdHJhbnNpdGlvbi4gICAgIFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gQSBtYXAgb2YgYWRkaXRpb25hbCBvcHRpb25zIHRvIHBhc3MgdG8gdGhlIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IFtvcHRpb25zLmR1cmF0aW9uXSBBIHN0cmluZyBvciBudW1iZXIgZGV0ZXJtaW5pbmcgaG93IGxvbmcgdGhlIGFuaW1hdGlvbiB3aWxsIHJ1bi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuZWFzaW5nXSBBIHN0cmluZyBpbmRpY2F0aW5nIHdoaWNoIGVhc2luZyBmdW5jdGlvbiB0byB1c2UgZm9yIHRoZSB0cmFuc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEJvb2xlYW59IFtvcHRpb25zLnF1ZXVlXSBBIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRvIHBsYWNlIHRoZSBhbmltYXRpb24gaW4gdGhlIGVmZmVjdHMgcXVldWUuIElmIGZhbHNlLCB0aGUgYW5pbWF0aW9uIHdpbGwgYmVnaW4gaW1tZWRpYXRlbHkuIEFzIG9mIGpRdWVyeSAxLjcsIHRoZSBxdWV1ZSBvcHRpb24gY2FuIGFsc28gYWNjZXB0IGEgc3RyaW5nLCBpbiB3aGljaCBjYXNlIHRoZSBhbmltYXRpb24gaXMgYWRkZWQgdG8gdGhlIHF1ZXVlIHJlcHJlc2VudGVkIGJ5IHRoYXQgc3RyaW5nLiBXaGVuIGEgY3VzdG9tIHF1ZXVlIG5hbWUgaXMgdXNlZCB0aGUgYW5pbWF0aW9uIGRvZXMgbm90IGF1dG9tYXRpY2FsbHkgc3RhcnQ7IHlvdSBtdXN0IGNhbGwgLmRlcXVldWUoXCJxdWV1ZW5hbWVcIikgdG8gc3RhcnQgaXQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnNwZWNpYWxFYXNpbmddIEEgbWFwIG9mIG9uZSBvciBtb3JlIG9mIHRoZSBDU1MgcHJvcGVydGllcyBkZWZpbmVkIGJ5IHRoZSBwcm9wZXJ0aWVzIGFyZ3VtZW50IGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIGVhc2luZyBmdW5jdGlvbnMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnN0ZXBdIEEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGZvciBlYWNoIGFuaW1hdGVkIHByb3BlcnR5IG9mIGVhY2ggYW5pbWF0ZWQgZWxlbWVudC4gVGhpcyBmdW5jdGlvbiBwcm92aWRlcyBhbiBvcHBvcnR1bml0eSB0byBtb2RpZnkgdGhlIFR3ZWVuIG9iamVjdCB0byBjaGFuZ2UgdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSBiZWZvcmUgaXQgaXMgc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIHNlcXVlbmNlIHdoaWNoIHdyYXBzIHRoZSBqUXVlcnkgZmFkZUluIG1ldGhvZC4gICAgIFxuICAgICAqL1xuICAgIHByb3RvLmZhZGVJbkFzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZUFuaW1hdGlvbih0aGlzLCAnZmFkZUluJywgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRqdXN0IHRoZSBvcGFjaXR5IG9mIHRoZSBtYXRjaGVkIGVsZW1lbnRzIGFzIGFuIE9ic2VydmFibGUgc2VxdWVuY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gZHVyYXRpb24gQSBzdHJpbmcgb3IgbnVtYmVyIGRldGVybWluaW5nIGhvdyBsb25nIHRoZSBhbmltYXRpb24gd2lsbCBydW4uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9wYWNpdHkgQSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxIGRlbm90aW5nIHRoZSB0YXJnZXQgb3BhY2l0eS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2Vhc2luZ10gQSBzdHJpbmcgaW5kaWNhdGluZyB3aGljaCBlYXNpbmcgZnVuY3Rpb24gdG8gdXNlIGZvciB0aGUgdHJhbnNpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZSB3aGljaCB3cmFwcyB0aGUgalF1ZXJ5IGZhZGVUbyBtZXRob2QuICAgXG4gICAgICovXG4gICAgcHJvdG8uZmFkZVRvQXNPYnNlcnZhYmxlID0gZnVuY3Rpb24oZHVyYXRpb24sIG9wYWNpdHksIGVhc2luZykge1xuICAgICAgICB2YXIgc3ViamVjdCA9IG5ldyBBc3luY1N1YmplY3QoKTtcblxuICAgICAgICB0aGlzLmZhZGVUbyhkdXJhdGlvbiwgb3BhY2l0eSwgZWFzaW5nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHN1YmplY3Qub25OZXh0KHByb3RvKTtcbiAgICAgICAgICAgIHN1YmplY3Qub25Db21wbGV0ZWQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhpZGUgdGhlIG1hdGNoZWQgZWxlbWVudHMgYnkgZmFkaW5nIHRoZW0gdG8gdHJhbnNwYXJlbnQgYXMgYW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gW2R1cmF0aW9uXSBBIHN0cmluZyBvciBudW1iZXIgZGV0ZXJtaW5pbmcgaG93IGxvbmcgdGhlIGFuaW1hdGlvbiB3aWxsIHJ1bi4gIElmIG5vdCBzcGVjaWZpZWQsIGRlZmF1bHRzIHRvIDQwMC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2Vhc2luZ10gQSBzdHJpbmcgaW5kaWNhdGluZyB3aGljaCBlYXNpbmcgZnVuY3Rpb24gdG8gdXNlIGZvciB0aGUgdHJhbnNpdGlvbi4gICAgIFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gQSBtYXAgb2YgYWRkaXRpb25hbCBvcHRpb25zIHRvIHBhc3MgdG8gdGhlIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IFtvcHRpb25zLmR1cmF0aW9uXSBBIHN0cmluZyBvciBudW1iZXIgZGV0ZXJtaW5pbmcgaG93IGxvbmcgdGhlIGFuaW1hdGlvbiB3aWxsIHJ1bi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuZWFzaW5nXSBBIHN0cmluZyBpbmRpY2F0aW5nIHdoaWNoIGVhc2luZyBmdW5jdGlvbiB0byB1c2UgZm9yIHRoZSB0cmFuc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEJvb2xlYW59IFtvcHRpb25zLnF1ZXVlXSBBIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRvIHBsYWNlIHRoZSBhbmltYXRpb24gaW4gdGhlIGVmZmVjdHMgcXVldWUuIElmIGZhbHNlLCB0aGUgYW5pbWF0aW9uIHdpbGwgYmVnaW4gaW1tZWRpYXRlbHkuIEFzIG9mIGpRdWVyeSAxLjcsIHRoZSBxdWV1ZSBvcHRpb24gY2FuIGFsc28gYWNjZXB0IGEgc3RyaW5nLCBpbiB3aGljaCBjYXNlIHRoZSBhbmltYXRpb24gaXMgYWRkZWQgdG8gdGhlIHF1ZXVlIHJlcHJlc2VudGVkIGJ5IHRoYXQgc3RyaW5nLiBXaGVuIGEgY3VzdG9tIHF1ZXVlIG5hbWUgaXMgdXNlZCB0aGUgYW5pbWF0aW9uIGRvZXMgbm90IGF1dG9tYXRpY2FsbHkgc3RhcnQ7IHlvdSBtdXN0IGNhbGwgLmRlcXVldWUoXCJxdWV1ZW5hbWVcIikgdG8gc3RhcnQgaXQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnNwZWNpYWxFYXNpbmddIEEgbWFwIG9mIG9uZSBvciBtb3JlIG9mIHRoZSBDU1MgcHJvcGVydGllcyBkZWZpbmVkIGJ5IHRoZSBwcm9wZXJ0aWVzIGFyZ3VtZW50IGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIGVhc2luZyBmdW5jdGlvbnMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnN0ZXBdIEEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGZvciBlYWNoIGFuaW1hdGVkIHByb3BlcnR5IG9mIGVhY2ggYW5pbWF0ZWQgZWxlbWVudC4gVGhpcyBmdW5jdGlvbiBwcm92aWRlcyBhbiBvcHBvcnR1bml0eSB0byBtb2RpZnkgdGhlIFR3ZWVuIG9iamVjdCB0byBjaGFuZ2UgdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSBiZWZvcmUgaXQgaXMgc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIHNlcXVlbmNlIHdoaWNoIHdyYXBzIHRoZSBqUXVlcnkgZmFkZU91dCBtZXRob2QuICAgICBcbiAgICAgKi9cbiAgICBwcm90by5mYWRlT3V0QXNPYnNlcnZhYmxlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gaGFuZGxlQW5pbWF0aW9uKHRoaXMsICdmYWRlT3V0JywgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGlzcGxheSBvciBoaWRlIHRoZSBtYXRjaGVkIGVsZW1lbnRzIGJ5IGFuaW1hdGluZyB0aGVpciBvcGFjaXR5IGFzIGFuIE9ic2VydmFibGUgc2VxdWVuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IFtkdXJhdGlvbl0gQSBzdHJpbmcgb3IgbnVtYmVyIGRldGVybWluaW5nIGhvdyBsb25nIHRoZSBhbmltYXRpb24gd2lsbCBydW4uICBJZiBub3Qgc3BlY2lmaWVkLCBkZWZhdWx0cyB0byA0MDAuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtlYXNpbmddIEEgc3RyaW5nIGluZGljYXRpbmcgd2hpY2ggZWFzaW5nIGZ1bmN0aW9uIHRvIHVzZSBmb3IgdGhlIHRyYW5zaXRpb24uICAgICBcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIEEgbWFwIG9mIGFkZGl0aW9uYWwgb3B0aW9ucyB0byBwYXNzIHRvIHRoZSBtZXRob2QuXG4gICAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBbb3B0aW9ucy5kdXJhdGlvbl0gQSBzdHJpbmcgb3IgbnVtYmVyIGRldGVybWluaW5nIGhvdyBsb25nIHRoZSBhbmltYXRpb24gd2lsbCBydW4uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmVhc2luZ10gQSBzdHJpbmcgaW5kaWNhdGluZyB3aGljaCBlYXNpbmcgZnVuY3Rpb24gdG8gdXNlIGZvciB0aGUgdHJhbnNpdGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xCb29sZWFufSBbb3B0aW9ucy5xdWV1ZV0gQSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0byBwbGFjZSB0aGUgYW5pbWF0aW9uIGluIHRoZSBlZmZlY3RzIHF1ZXVlLiBJZiBmYWxzZSwgdGhlIGFuaW1hdGlvbiB3aWxsIGJlZ2luIGltbWVkaWF0ZWx5LiBBcyBvZiBqUXVlcnkgMS43LCB0aGUgcXVldWUgb3B0aW9uIGNhbiBhbHNvIGFjY2VwdCBhIHN0cmluZywgaW4gd2hpY2ggY2FzZSB0aGUgYW5pbWF0aW9uIGlzIGFkZGVkIHRvIHRoZSBxdWV1ZSByZXByZXNlbnRlZCBieSB0aGF0IHN0cmluZy4gV2hlbiBhIGN1c3RvbSBxdWV1ZSBuYW1lIGlzIHVzZWQgdGhlIGFuaW1hdGlvbiBkb2VzIG5vdCBhdXRvbWF0aWNhbGx5IHN0YXJ0OyB5b3UgbXVzdCBjYWxsIC5kZXF1ZXVlKFwicXVldWVuYW1lXCIpIHRvIHN0YXJ0IGl0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5zcGVjaWFsRWFzaW5nXSBBIG1hcCBvZiBvbmUgb3IgbW9yZSBvZiB0aGUgQ1NTIHByb3BlcnRpZXMgZGVmaW5lZCBieSB0aGUgcHJvcGVydGllcyBhcmd1bWVudCBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBlYXNpbmcgZnVuY3Rpb25zLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5zdGVwXSBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBmb3IgZWFjaCBhbmltYXRlZCBwcm9wZXJ0eSBvZiBlYWNoIGFuaW1hdGVkIGVsZW1lbnQuIFRoaXMgZnVuY3Rpb24gcHJvdmlkZXMgYW4gb3Bwb3J0dW5pdHkgdG8gbW9kaWZ5IHRoZSBUd2VlbiBvYmplY3QgdG8gY2hhbmdlIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgYmVmb3JlIGl0IGlzIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZSB3aGljaCB3cmFwcyB0aGUgalF1ZXJ5IGZhZGVUb2dnbGUgbWV0aG9kLiAgICAgXG4gICAgICovXG4gICAgcHJvdG8uZmFkZVRvZ2dsZUFzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZUFuaW1hdGlvbih0aGlzLCAnZmFkZVRvZ2dsZScsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERpc3BsYXkgdGhlIG1hdGNoZWQgZWxlbWVudHMgd2l0aCBhIHNsaWRpbmcgbW90aW9uIGFzIGFuIE9ic2VydmFibGUgc2VxdWVuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IFtkdXJhdGlvbl0gQSBzdHJpbmcgb3IgbnVtYmVyIGRldGVybWluaW5nIGhvdyBsb25nIHRoZSBhbmltYXRpb24gd2lsbCBydW4uICBJZiBub3Qgc3BlY2lmaWVkLCBkZWZhdWx0cyB0byA0MDAuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtlYXNpbmddIEEgc3RyaW5nIGluZGljYXRpbmcgd2hpY2ggZWFzaW5nIGZ1bmN0aW9uIHRvIHVzZSBmb3IgdGhlIHRyYW5zaXRpb24uICAgICBcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIEEgbWFwIG9mIGFkZGl0aW9uYWwgb3B0aW9ucyB0byBwYXNzIHRvIHRoZSBtZXRob2QuXG4gICAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBbb3B0aW9ucy5kdXJhdGlvbl0gQSBzdHJpbmcgb3IgbnVtYmVyIGRldGVybWluaW5nIGhvdyBsb25nIHRoZSBhbmltYXRpb24gd2lsbCBydW4uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmVhc2luZ10gQSBzdHJpbmcgaW5kaWNhdGluZyB3aGljaCBlYXNpbmcgZnVuY3Rpb24gdG8gdXNlIGZvciB0aGUgdHJhbnNpdGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xCb29sZWFufSBbb3B0aW9ucy5xdWV1ZV0gQSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0byBwbGFjZSB0aGUgYW5pbWF0aW9uIGluIHRoZSBlZmZlY3RzIHF1ZXVlLiBJZiBmYWxzZSwgdGhlIGFuaW1hdGlvbiB3aWxsIGJlZ2luIGltbWVkaWF0ZWx5LiBBcyBvZiBqUXVlcnkgMS43LCB0aGUgcXVldWUgb3B0aW9uIGNhbiBhbHNvIGFjY2VwdCBhIHN0cmluZywgaW4gd2hpY2ggY2FzZSB0aGUgYW5pbWF0aW9uIGlzIGFkZGVkIHRvIHRoZSBxdWV1ZSByZXByZXNlbnRlZCBieSB0aGF0IHN0cmluZy4gV2hlbiBhIGN1c3RvbSBxdWV1ZSBuYW1lIGlzIHVzZWQgdGhlIGFuaW1hdGlvbiBkb2VzIG5vdCBhdXRvbWF0aWNhbGx5IHN0YXJ0OyB5b3UgbXVzdCBjYWxsIC5kZXF1ZXVlKFwicXVldWVuYW1lXCIpIHRvIHN0YXJ0IGl0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5zcGVjaWFsRWFzaW5nXSBBIG1hcCBvZiBvbmUgb3IgbW9yZSBvZiB0aGUgQ1NTIHByb3BlcnRpZXMgZGVmaW5lZCBieSB0aGUgcHJvcGVydGllcyBhcmd1bWVudCBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBlYXNpbmcgZnVuY3Rpb25zLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5zdGVwXSBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBmb3IgZWFjaCBhbmltYXRlZCBwcm9wZXJ0eSBvZiBlYWNoIGFuaW1hdGVkIGVsZW1lbnQuIFRoaXMgZnVuY3Rpb24gcHJvdmlkZXMgYW4gb3Bwb3J0dW5pdHkgdG8gbW9kaWZ5IHRoZSBUd2VlbiBvYmplY3QgdG8gY2hhbmdlIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgYmVmb3JlIGl0IGlzIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZSB3aGljaCB3cmFwcyB0aGUgalF1ZXJ5IHNsaWRlRG93biBtZXRob2QuICAgICBcbiAgICAgKi9cbiAgICBwcm90by5zbGlkZURvd25Bc09ic2VydmFibGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVBbmltYXRpb24odGhpcywgJ3NsaWRlRG93bicsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhpZGUgdGhlIG1hdGNoZWQgZWxlbWVudHMgd2l0aCBhIHNsaWRpbmcgbW90aW9uIGFzIGFuIE9ic2VydmFibGUgc2VxdWVuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IFtkdXJhdGlvbl0gQSBzdHJpbmcgb3IgbnVtYmVyIGRldGVybWluaW5nIGhvdyBsb25nIHRoZSBhbmltYXRpb24gd2lsbCBydW4uICBJZiBub3Qgc3BlY2lmaWVkLCBkZWZhdWx0cyB0byA0MDAuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtlYXNpbmddIEEgc3RyaW5nIGluZGljYXRpbmcgd2hpY2ggZWFzaW5nIGZ1bmN0aW9uIHRvIHVzZSBmb3IgdGhlIHRyYW5zaXRpb24uICAgICBcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIEEgbWFwIG9mIGFkZGl0aW9uYWwgb3B0aW9ucyB0byBwYXNzIHRvIHRoZSBtZXRob2QuXG4gICAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBbb3B0aW9ucy5kdXJhdGlvbl0gQSBzdHJpbmcgb3IgbnVtYmVyIGRldGVybWluaW5nIGhvdyBsb25nIHRoZSBhbmltYXRpb24gd2lsbCBydW4uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmVhc2luZ10gQSBzdHJpbmcgaW5kaWNhdGluZyB3aGljaCBlYXNpbmcgZnVuY3Rpb24gdG8gdXNlIGZvciB0aGUgdHJhbnNpdGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xCb29sZWFufSBbb3B0aW9ucy5xdWV1ZV0gQSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0byBwbGFjZSB0aGUgYW5pbWF0aW9uIGluIHRoZSBlZmZlY3RzIHF1ZXVlLiBJZiBmYWxzZSwgdGhlIGFuaW1hdGlvbiB3aWxsIGJlZ2luIGltbWVkaWF0ZWx5LiBBcyBvZiBqUXVlcnkgMS43LCB0aGUgcXVldWUgb3B0aW9uIGNhbiBhbHNvIGFjY2VwdCBhIHN0cmluZywgaW4gd2hpY2ggY2FzZSB0aGUgYW5pbWF0aW9uIGlzIGFkZGVkIHRvIHRoZSBxdWV1ZSByZXByZXNlbnRlZCBieSB0aGF0IHN0cmluZy4gV2hlbiBhIGN1c3RvbSBxdWV1ZSBuYW1lIGlzIHVzZWQgdGhlIGFuaW1hdGlvbiBkb2VzIG5vdCBhdXRvbWF0aWNhbGx5IHN0YXJ0OyB5b3UgbXVzdCBjYWxsIC5kZXF1ZXVlKFwicXVldWVuYW1lXCIpIHRvIHN0YXJ0IGl0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5zcGVjaWFsRWFzaW5nXSBBIG1hcCBvZiBvbmUgb3IgbW9yZSBvZiB0aGUgQ1NTIHByb3BlcnRpZXMgZGVmaW5lZCBieSB0aGUgcHJvcGVydGllcyBhcmd1bWVudCBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBlYXNpbmcgZnVuY3Rpb25zLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5zdGVwXSBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBmb3IgZWFjaCBhbmltYXRlZCBwcm9wZXJ0eSBvZiBlYWNoIGFuaW1hdGVkIGVsZW1lbnQuIFRoaXMgZnVuY3Rpb24gcHJvdmlkZXMgYW4gb3Bwb3J0dW5pdHkgdG8gbW9kaWZ5IHRoZSBUd2VlbiBvYmplY3QgdG8gY2hhbmdlIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgYmVmb3JlIGl0IGlzIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZSB3aGljaCB3cmFwcyB0aGUgalF1ZXJ5IHNsaWRlVXAgbWV0aG9kLiAgICAgXG4gICAgICovXG4gICAgcHJvdG8uc2xpZGVVcEFzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZUFuaW1hdGlvbih0aGlzLCAnc2xpZGVVcCcsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhpZGUgdGhlIG1hdGNoZWQgZWxlbWVudHMgd2l0aCBhIHNsaWRpbmcgbW90aW9uIGFzIGFuIE9ic2VydmFibGUgc2VxdWVuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IFtkdXJhdGlvbl0gQSBzdHJpbmcgb3IgbnVtYmVyIGRldGVybWluaW5nIGhvdyBsb25nIHRoZSBhbmltYXRpb24gd2lsbCBydW4uICBJZiBub3Qgc3BlY2lmaWVkLCBkZWZhdWx0cyB0byA0MDAuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtlYXNpbmddIEEgc3RyaW5nIGluZGljYXRpbmcgd2hpY2ggZWFzaW5nIGZ1bmN0aW9uIHRvIHVzZSBmb3IgdGhlIHRyYW5zaXRpb24uICAgICBcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIEEgbWFwIG9mIGFkZGl0aW9uYWwgb3B0aW9ucyB0byBwYXNzIHRvIHRoZSBtZXRob2QuXG4gICAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBbb3B0aW9ucy5kdXJhdGlvbl0gQSBzdHJpbmcgb3IgbnVtYmVyIGRldGVybWluaW5nIGhvdyBsb25nIHRoZSBhbmltYXRpb24gd2lsbCBydW4uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmVhc2luZ10gQSBzdHJpbmcgaW5kaWNhdGluZyB3aGljaCBlYXNpbmcgZnVuY3Rpb24gdG8gdXNlIGZvciB0aGUgdHJhbnNpdGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xCb29sZWFufSBbb3B0aW9ucy5xdWV1ZV0gQSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0byBwbGFjZSB0aGUgYW5pbWF0aW9uIGluIHRoZSBlZmZlY3RzIHF1ZXVlLiBJZiBmYWxzZSwgdGhlIGFuaW1hdGlvbiB3aWxsIGJlZ2luIGltbWVkaWF0ZWx5LiBBcyBvZiBqUXVlcnkgMS43LCB0aGUgcXVldWUgb3B0aW9uIGNhbiBhbHNvIGFjY2VwdCBhIHN0cmluZywgaW4gd2hpY2ggY2FzZSB0aGUgYW5pbWF0aW9uIGlzIGFkZGVkIHRvIHRoZSBxdWV1ZSByZXByZXNlbnRlZCBieSB0aGF0IHN0cmluZy4gV2hlbiBhIGN1c3RvbSBxdWV1ZSBuYW1lIGlzIHVzZWQgdGhlIGFuaW1hdGlvbiBkb2VzIG5vdCBhdXRvbWF0aWNhbGx5IHN0YXJ0OyB5b3UgbXVzdCBjYWxsIC5kZXF1ZXVlKFwicXVldWVuYW1lXCIpIHRvIHN0YXJ0IGl0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5zcGVjaWFsRWFzaW5nXSBBIG1hcCBvZiBvbmUgb3IgbW9yZSBvZiB0aGUgQ1NTIHByb3BlcnRpZXMgZGVmaW5lZCBieSB0aGUgcHJvcGVydGllcyBhcmd1bWVudCBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBlYXNpbmcgZnVuY3Rpb25zLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5zdGVwXSBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBmb3IgZWFjaCBhbmltYXRlZCBwcm9wZXJ0eSBvZiBlYWNoIGFuaW1hdGVkIGVsZW1lbnQuIFRoaXMgZnVuY3Rpb24gcHJvdmlkZXMgYW4gb3Bwb3J0dW5pdHkgdG8gbW9kaWZ5IHRoZSBUd2VlbiBvYmplY3QgdG8gY2hhbmdlIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgYmVmb3JlIGl0IGlzIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZSB3aGljaCB3cmFwcyB0aGUgalF1ZXJ5IHNsaWRlVG9nZ2xlIG1ldGhvZC4gICAgIFxuICAgICAqL1xuICAgIHByb3RvLnNsaWRlVG9nZ2xlQXNPYnNlcnZhYmxlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gaGFuZGxlQW5pbWF0aW9uKHRoaXMsICdzbGlkZVRvZ2dsZScsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERpc3BsYXkgb3IgaGlkZSB0aGUgbWF0Y2hlZCBlbGVtZW50cyBhcyBhbiBPYnNlcnZhYmxlIHNlcXVlbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBbZHVyYXRpb25dIEEgc3RyaW5nIG9yIG51bWJlciBkZXRlcm1pbmluZyBob3cgbG9uZyB0aGUgYW5pbWF0aW9uIHdpbGwgcnVuLiAgSWYgbm90IHNwZWNpZmllZCwgZGVmYXVsdHMgdG8gNDAwLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbZWFzaW5nXSBBIHN0cmluZyBpbmRpY2F0aW5nIHdoaWNoIGVhc2luZyBmdW5jdGlvbiB0byB1c2UgZm9yIHRoZSB0cmFuc2l0aW9uLiAgICAgXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBBIG1hcCBvZiBhZGRpdGlvbmFsIG9wdGlvbnMgdG8gcGFzcyB0byB0aGUgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gW29wdGlvbnMuZHVyYXRpb25dIEEgc3RyaW5nIG9yIG51bWJlciBkZXRlcm1pbmluZyBob3cgbG9uZyB0aGUgYW5pbWF0aW9uIHdpbGwgcnVuLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5lYXNpbmddIEEgc3RyaW5nIGluZGljYXRpbmcgd2hpY2ggZWFzaW5nIGZ1bmN0aW9uIHRvIHVzZSBmb3IgdGhlIHRyYW5zaXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd8Qm9vbGVhbn0gW29wdGlvbnMucXVldWVdIEEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdG8gcGxhY2UgdGhlIGFuaW1hdGlvbiBpbiB0aGUgZWZmZWN0cyBxdWV1ZS4gSWYgZmFsc2UsIHRoZSBhbmltYXRpb24gd2lsbCBiZWdpbiBpbW1lZGlhdGVseS4gQXMgb2YgalF1ZXJ5IDEuNywgdGhlIHF1ZXVlIG9wdGlvbiBjYW4gYWxzbyBhY2NlcHQgYSBzdHJpbmcsIGluIHdoaWNoIGNhc2UgdGhlIGFuaW1hdGlvbiBpcyBhZGRlZCB0byB0aGUgcXVldWUgcmVwcmVzZW50ZWQgYnkgdGhhdCBzdHJpbmcuIFdoZW4gYSBjdXN0b20gcXVldWUgbmFtZSBpcyB1c2VkIHRoZSBhbmltYXRpb24gZG9lcyBub3QgYXV0b21hdGljYWxseSBzdGFydDsgeW91IG11c3QgY2FsbCAuZGVxdWV1ZShcInF1ZXVlbmFtZVwiKSB0byBzdGFydCBpdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuc3BlY2lhbEVhc2luZ10gQSBtYXAgb2Ygb25lIG9yIG1vcmUgb2YgdGhlIENTUyBwcm9wZXJ0aWVzIGRlZmluZWQgYnkgdGhlIHByb3BlcnRpZXMgYXJndW1lbnQgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgZWFzaW5nIGZ1bmN0aW9ucy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuc3RlcF0gQSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgZm9yIGVhY2ggYW5pbWF0ZWQgcHJvcGVydHkgb2YgZWFjaCBhbmltYXRlZCBlbGVtZW50LiBUaGlzIGZ1bmN0aW9uIHByb3ZpZGVzIGFuIG9wcG9ydHVuaXR5IHRvIG1vZGlmeSB0aGUgVHdlZW4gb2JqZWN0IHRvIGNoYW5nZSB0aGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IGJlZm9yZSBpdCBpcyBzZXQuXG4gICAgICogQHJldHVybnMge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgc2VxdWVuY2Ugd2hpY2ggd3JhcHMgdGhlIGpRdWVyeSBzbGlkZVRvZ2dsZSBtZXRob2QuICAgICBcbiAgICAgKi9cbiAgICBwcm90by50b2dnbGVBc09ic2VydmFibGUgPSBmdW5jdGlvbihkdXJhdGlvbiwgZWFzaW5nKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVBbmltYXRpb24odGhpcywgJ3RvZ2dsZScsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgICB2YXIgYWpheEFzT2JzZXJ2YWJsZSA9ICQuYWpheEFzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uKHNldHRpbmdzKSB7ICAgICAgXG4gICAgICAgIHZhciBzdWJqZWN0ID0gbmV3IEFzeW5jU3ViamVjdCgpO1xuXG4gICAgICAgIHZhciBpbnRlcm5hbFNldHRpbmdzID0ge1xuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0Lm9uTmV4dCh7IGRhdGE6IGRhdGEsIHRleHRTdGF0dXM6IHRleHRTdGF0dXMsIGpxWEhSOiBqcVhIUiB9KTtcbiAgICAgICAgICAgICAgICBzdWJqZWN0Lm9uQ29tcGxldGVkKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgIHN1YmplY3Qub25FcnJvcih7IGpxWEhSOiBqcVhIUiwgdGV4dFN0YXR1czogdGV4dFN0YXR1cywgZXJyb3JUaHJvd246IGVycm9yVGhyb3duIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgJC5leHRlbmQodHJ1ZSwgaW50ZXJuYWxTZXR0aW5ncywgc2V0dGluZ3MpO1xuXG4gICAgICAgICQuYWpheChpbnRlcm5hbFNldHRpbmdzKTtcblxuICAgICAgICByZXR1cm4gc3ViamVjdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZCBkYXRhIGZyb20gdGhlIHNlcnZlciB1c2luZyBhIEhUVFAgR0VUIHJlcXVlc3QgYXMgYW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgQSBzdHJpbmcgY29udGFpbmluZyB0aGUgVVJMIHRvIHdoaWNoIHRoZSByZXF1ZXN0IGlzIHNlbnQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtkYXRhXSBBIHBsYWluIG9iamVjdCBvciBzdHJpbmcgdGhhdCBpcyBzZW50IHRvIHRoZSBzZXJ2ZXIgd2l0aCB0aGUgcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2RhdGFUeXBlXSBUaGUgdHlwZSBvZiBkYXRhIGV4cGVjdGVkIGZyb20gdGhlIHNlcnZlci4gRGVmYXVsdDogSW50ZWxsaWdlbnQgR3Vlc3MgKHhtbCwganNvbiwgc2NyaXB0LCBvciBodG1sKS5cbiAgICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZSB3aGljaCB3cmFwcyB0aGUgalF1ZXJ5IGdldCBtZXRob2QuICAgICAgIFxuICAgICAqL1xuICAgICQuZ2V0QXNPYnNlcnZhYmxlID0gZnVuY3Rpb24odXJsLCBkYXRhLCBkYXRhVHlwZSkge1xuICAgICAgICByZXR1cm4gYWpheEFzT2JzZXJ2YWJsZSh7IHVybDogdXJsLCBkYXRhVHlwZTogZGF0YVR5cGUsIGRhdGE6IGRhdGEgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWQgSlNPTi1lbmNvZGVkIGRhdGEgZnJvbSB0aGUgc2VydmVyIHVzaW5nIGEgR0VUIEhUVFAgcmVxdWVzdCBhcyBhbiBPYnNlcnZhYmxlIHNlcXVlbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBBIHN0cmluZyBjb250YWluaW5nIHRoZSBVUkwgdG8gd2hpY2ggdGhlIHJlcXVlc3QgaXMgc2VudC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2RhdGFdIEEgcGxhaW4gb2JqZWN0IG9yIHN0cmluZyB0aGF0IGlzIHNlbnQgdG8gdGhlIHNlcnZlciB3aXRoIHRoZSByZXF1ZXN0LlxuICAgICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIHNlcXVlbmNlIHdoaWNoIHdyYXBzIHRoZSBqUXVlcnkgZ2V0SlNPTiBtZXRob2QuICAgICAgIFxuICAgICAqL1xuICAgICQuZ2V0SlNPTkFzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uKHVybCwgZGF0YSkge1xuICAgICAgICByZXR1cm4gYWpheEFzT2JzZXJ2YWJsZSh7IHVybDogdXJsLCBkYXRhVHlwZTogJ2pzb24nLCBkYXRhOiBkYXRhIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIGEgSmF2YVNjcmlwdCBmaWxlIGZyb20gdGhlIHNlcnZlciB1c2luZyBhIEdFVCBIVFRQIHJlcXVlc3QsIHRoZW4gZXhlY3V0ZSBpdCBhcyBhbiBPYnNlcnZhYmxlIHNlcXVlbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBBIHN0cmluZyBjb250YWluaW5nIHRoZSBVUkwgdG8gd2hpY2ggdGhlIHJlcXVlc3QgaXMgc2VudC5cbiAgICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSBzZXF1ZW5jZSB3aGljaCB3cmFwcyB0aGUgalF1ZXJ5IGdldEpTT04gbWV0aG9kLiAgICAgICBcbiAgICAgKi9cbiAgICAkLmdldFNjcmlwdEFzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uKHVybCkge1xuICAgICAgICByZXR1cm4gYWpheEFzT2JzZXJ2YWJsZSh7IHVybDogdXJsLCBkYXRhVHlwZTogJ3NjcmlwdCd9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZCBkYXRhIGZyb20gdGhlIHNlcnZlciB1c2luZyBhIEhUVFAgUE9TVCByZXF1ZXN0IGFzIGFuIE9ic2VydmFibGUgc2VxdWVuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIEEgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIFVSTCB0byB3aGljaCB0aGUgcmVxdWVzdCBpcyBzZW50LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbZGF0YV0gQSBwbGFpbiBvYmplY3Qgb3Igc3RyaW5nIHRoYXQgaXMgc2VudCB0byB0aGUgc2VydmVyIHdpdGggdGhlIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtkYXRhVHlwZV0gVGhlIHR5cGUgb2YgZGF0YSBleHBlY3RlZCBmcm9tIHRoZSBzZXJ2ZXIuIERlZmF1bHQ6IEludGVsbGlnZW50IEd1ZXNzICh4bWwsIGpzb24sIHNjcmlwdCwgb3IgaHRtbCkuXG4gICAgICogQHJldHVybnMge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgc2VxdWVuY2Ugd2hpY2ggd3JhcHMgdGhlIGpRdWVyeSBnZXQgbWV0aG9kLiAgICAgICBcbiAgICAgKi9cbiAgICAkLnBvc3RBc09ic2VydmFibGUgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGRhdGFUeXBlKSB7XG4gICAgICAgIHJldHVybiBhamF4QXNPYnNlcnZhYmxlKHsgdXJsOiB1cmwsIGRhdGFUeXBlOiBkYXRhVHlwZSwgZGF0YTogZGF0YSwgdHlwZTogJ1BPU1QnfSk7XHRcbiAgICB9O1xuICAgIHJldHVybiBSeDtcbn0pKTsiLCIvKiFcbiAqIEJvb3RzdHJhcCB2My4zLjIgKGh0dHA6Ly9nZXRib290c3RyYXAuY29tKVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNSBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICovXG5pZihcInVuZGVmaW5lZFwiPT10eXBlb2YgalF1ZXJ5KXRocm93IG5ldyBFcnJvcihcIkJvb3RzdHJhcCdzIEphdmFTY3JpcHQgcmVxdWlyZXMgalF1ZXJ5XCIpOytmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjt2YXIgYj1hLmZuLmpxdWVyeS5zcGxpdChcIiBcIilbMF0uc3BsaXQoXCIuXCIpO2lmKGJbMF08MiYmYlsxXTw5fHwxPT1iWzBdJiY5PT1iWzFdJiZiWzJdPDEpdGhyb3cgbmV3IEVycm9yKFwiQm9vdHN0cmFwJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnkgdmVyc2lvbiAxLjkuMSBvciBoaWdoZXJcIil9KGpRdWVyeSksK2Z1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYm9vdHN0cmFwXCIpLGI9e1dlYmtpdFRyYW5zaXRpb246XCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCIsTW96VHJhbnNpdGlvbjpcInRyYW5zaXRpb25lbmRcIixPVHJhbnNpdGlvbjpcIm9UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kXCIsdHJhbnNpdGlvbjpcInRyYW5zaXRpb25lbmRcIn07Zm9yKHZhciBjIGluIGIpaWYodm9pZCAwIT09YS5zdHlsZVtjXSlyZXR1cm57ZW5kOmJbY119O3JldHVybiExfWEuZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQ9ZnVuY3Rpb24oYil7dmFyIGM9ITEsZD10aGlzO2EodGhpcykub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsZnVuY3Rpb24oKXtjPSEwfSk7dmFyIGU9ZnVuY3Rpb24oKXtjfHxhKGQpLnRyaWdnZXIoYS5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKX07cmV0dXJuIHNldFRpbWVvdXQoZSxiKSx0aGlzfSxhKGZ1bmN0aW9uKCl7YS5zdXBwb3J0LnRyYW5zaXRpb249YigpLGEuc3VwcG9ydC50cmFuc2l0aW9uJiYoYS5ldmVudC5zcGVjaWFsLmJzVHJhbnNpdGlvbkVuZD17YmluZFR5cGU6YS5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLGRlbGVnYXRlVHlwZTphLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsaGFuZGxlOmZ1bmN0aW9uKGIpe3JldHVybiBhKGIudGFyZ2V0KS5pcyh0aGlzKT9iLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp2b2lkIDB9fSl9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxlPWMuZGF0YShcImJzLmFsZXJ0XCIpO2V8fGMuZGF0YShcImJzLmFsZXJ0XCIsZT1uZXcgZCh0aGlzKSksXCJzdHJpbmdcIj09dHlwZW9mIGImJmVbYl0uY2FsbChjKX0pfXZhciBjPSdbZGF0YS1kaXNtaXNzPVwiYWxlcnRcIl0nLGQ9ZnVuY3Rpb24oYil7YShiKS5vbihcImNsaWNrXCIsYyx0aGlzLmNsb3NlKX07ZC5WRVJTSU9OPVwiMy4zLjJcIixkLlRSQU5TSVRJT05fRFVSQVRJT049MTUwLGQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoKXtnLmRldGFjaCgpLnRyaWdnZXIoXCJjbG9zZWQuYnMuYWxlcnRcIikucmVtb3ZlKCl9dmFyIGU9YSh0aGlzKSxmPWUuYXR0cihcImRhdGEtdGFyZ2V0XCIpO2Z8fChmPWUuYXR0cihcImhyZWZcIiksZj1mJiZmLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sXCJcIikpO3ZhciBnPWEoZik7YiYmYi5wcmV2ZW50RGVmYXVsdCgpLGcubGVuZ3RofHwoZz1lLmNsb3Nlc3QoXCIuYWxlcnRcIikpLGcudHJpZ2dlcihiPWEuRXZlbnQoXCJjbG9zZS5icy5hbGVydFwiKSksYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGcucmVtb3ZlQ2xhc3MoXCJpblwiKSxhLnN1cHBvcnQudHJhbnNpdGlvbiYmZy5oYXNDbGFzcyhcImZhZGVcIik/Zy5vbmUoXCJic1RyYW5zaXRpb25FbmRcIixjKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChkLlRSQU5TSVRJT05fRFVSQVRJT04pOmMoKSl9O3ZhciBlPWEuZm4uYWxlcnQ7YS5mbi5hbGVydD1iLGEuZm4uYWxlcnQuQ29uc3RydWN0b3I9ZCxhLmZuLmFsZXJ0Lm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5mbi5hbGVydD1lLHRoaXN9LGEoZG9jdW1lbnQpLm9uKFwiY2xpY2suYnMuYWxlcnQuZGF0YS1hcGlcIixjLGQucHJvdG90eXBlLmNsb3NlKX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxlPWQuZGF0YShcImJzLmJ1dHRvblwiKSxmPVwib2JqZWN0XCI9PXR5cGVvZiBiJiZiO2V8fGQuZGF0YShcImJzLmJ1dHRvblwiLGU9bmV3IGModGhpcyxmKSksXCJ0b2dnbGVcIj09Yj9lLnRvZ2dsZSgpOmImJmUuc2V0U3RhdGUoYil9KX12YXIgYz1mdW5jdGlvbihiLGQpe3RoaXMuJGVsZW1lbnQ9YShiKSx0aGlzLm9wdGlvbnM9YS5leHRlbmQoe30sYy5ERUZBVUxUUyxkKSx0aGlzLmlzTG9hZGluZz0hMX07Yy5WRVJTSU9OPVwiMy4zLjJcIixjLkRFRkFVTFRTPXtsb2FkaW5nVGV4dDpcImxvYWRpbmcuLi5cIn0sYy5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oYil7dmFyIGM9XCJkaXNhYmxlZFwiLGQ9dGhpcy4kZWxlbWVudCxlPWQuaXMoXCJpbnB1dFwiKT9cInZhbFwiOlwiaHRtbFwiLGY9ZC5kYXRhKCk7Yis9XCJUZXh0XCIsbnVsbD09Zi5yZXNldFRleHQmJmQuZGF0YShcInJlc2V0VGV4dFwiLGRbZV0oKSksc2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7ZFtlXShudWxsPT1mW2JdP3RoaXMub3B0aW9uc1tiXTpmW2JdKSxcImxvYWRpbmdUZXh0XCI9PWI/KHRoaXMuaXNMb2FkaW5nPSEwLGQuYWRkQ2xhc3MoYykuYXR0cihjLGMpKTp0aGlzLmlzTG9hZGluZyYmKHRoaXMuaXNMb2FkaW5nPSExLGQucmVtb3ZlQ2xhc3MoYykucmVtb3ZlQXR0cihjKSl9LHRoaXMpLDApfSxjLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oKXt2YXIgYT0hMCxiPXRoaXMuJGVsZW1lbnQuY2xvc2VzdCgnW2RhdGEtdG9nZ2xlPVwiYnV0dG9uc1wiXScpO2lmKGIubGVuZ3RoKXt2YXIgYz10aGlzLiRlbGVtZW50LmZpbmQoXCJpbnB1dFwiKTtcInJhZGlvXCI9PWMucHJvcChcInR5cGVcIikmJihjLnByb3AoXCJjaGVja2VkXCIpJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKFwiYWN0aXZlXCIpP2E9ITE6Yi5maW5kKFwiLmFjdGl2ZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKSksYSYmYy5wcm9wKFwiY2hlY2tlZFwiLCF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKFwiYWN0aXZlXCIpKS50cmlnZ2VyKFwiY2hhbmdlXCIpfWVsc2UgdGhpcy4kZWxlbWVudC5hdHRyKFwiYXJpYS1wcmVzc2VkXCIsIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoXCJhY3RpdmVcIikpO2EmJnRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIil9O3ZhciBkPWEuZm4uYnV0dG9uO2EuZm4uYnV0dG9uPWIsYS5mbi5idXR0b24uQ29uc3RydWN0b3I9YyxhLmZuLmJ1dHRvbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4uYnV0dG9uPWQsdGhpc30sYShkb2N1bWVudCkub24oXCJjbGljay5icy5idXR0b24uZGF0YS1hcGlcIiwnW2RhdGEtdG9nZ2xlXj1cImJ1dHRvblwiXScsZnVuY3Rpb24oYyl7dmFyIGQ9YShjLnRhcmdldCk7ZC5oYXNDbGFzcyhcImJ0blwiKXx8KGQ9ZC5jbG9zZXN0KFwiLmJ0blwiKSksYi5jYWxsKGQsXCJ0b2dnbGVcIiksYy5wcmV2ZW50RGVmYXVsdCgpfSkub24oXCJmb2N1cy5icy5idXR0b24uZGF0YS1hcGkgYmx1ci5icy5idXR0b24uZGF0YS1hcGlcIiwnW2RhdGEtdG9nZ2xlXj1cImJ1dHRvblwiXScsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuY2xvc2VzdChcIi5idG5cIikudG9nZ2xlQ2xhc3MoXCJmb2N1c1wiLC9eZm9jdXMoaW4pPyQvLnRlc3QoYi50eXBlKSl9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxlPWQuZGF0YShcImJzLmNhcm91c2VsXCIpLGY9YS5leHRlbmQoe30sYy5ERUZBVUxUUyxkLmRhdGEoKSxcIm9iamVjdFwiPT10eXBlb2YgYiYmYiksZz1cInN0cmluZ1wiPT10eXBlb2YgYj9iOmYuc2xpZGU7ZXx8ZC5kYXRhKFwiYnMuY2Fyb3VzZWxcIixlPW5ldyBjKHRoaXMsZikpLFwibnVtYmVyXCI9PXR5cGVvZiBiP2UudG8oYik6Zz9lW2ddKCk6Zi5pbnRlcnZhbCYmZS5wYXVzZSgpLmN5Y2xlKCl9KX12YXIgYz1mdW5jdGlvbihiLGMpe3RoaXMuJGVsZW1lbnQ9YShiKSx0aGlzLiRpbmRpY2F0b3JzPXRoaXMuJGVsZW1lbnQuZmluZChcIi5jYXJvdXNlbC1pbmRpY2F0b3JzXCIpLHRoaXMub3B0aW9ucz1jLHRoaXMucGF1c2VkPXRoaXMuc2xpZGluZz10aGlzLmludGVydmFsPXRoaXMuJGFjdGl2ZT10aGlzLiRpdGVtcz1udWxsLHRoaXMub3B0aW9ucy5rZXlib2FyZCYmdGhpcy4kZWxlbWVudC5vbihcImtleWRvd24uYnMuY2Fyb3VzZWxcIixhLnByb3h5KHRoaXMua2V5ZG93bix0aGlzKSksXCJob3ZlclwiPT10aGlzLm9wdGlvbnMucGF1c2UmJiEoXCJvbnRvdWNoc3RhcnRcImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkmJnRoaXMuJGVsZW1lbnQub24oXCJtb3VzZWVudGVyLmJzLmNhcm91c2VsXCIsYS5wcm94eSh0aGlzLnBhdXNlLHRoaXMpKS5vbihcIm1vdXNlbGVhdmUuYnMuY2Fyb3VzZWxcIixhLnByb3h5KHRoaXMuY3ljbGUsdGhpcykpfTtjLlZFUlNJT049XCIzLjMuMlwiLGMuVFJBTlNJVElPTl9EVVJBVElPTj02MDAsYy5ERUZBVUxUUz17aW50ZXJ2YWw6NWUzLHBhdXNlOlwiaG92ZXJcIix3cmFwOiEwLGtleWJvYXJkOiEwfSxjLnByb3RvdHlwZS5rZXlkb3duPWZ1bmN0aW9uKGEpe2lmKCEvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KGEudGFyZ2V0LnRhZ05hbWUpKXtzd2l0Y2goYS53aGljaCl7Y2FzZSAzNzp0aGlzLnByZXYoKTticmVhaztjYXNlIDM5OnRoaXMubmV4dCgpO2JyZWFrO2RlZmF1bHQ6cmV0dXJufWEucHJldmVudERlZmF1bHQoKX19LGMucHJvdG90eXBlLmN5Y2xlPWZ1bmN0aW9uKGIpe3JldHVybiBifHwodGhpcy5wYXVzZWQ9ITEpLHRoaXMuaW50ZXJ2YWwmJmNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCksdGhpcy5vcHRpb25zLmludGVydmFsJiYhdGhpcy5wYXVzZWQmJih0aGlzLmludGVydmFsPXNldEludGVydmFsKGEucHJveHkodGhpcy5uZXh0LHRoaXMpLHRoaXMub3B0aW9ucy5pbnRlcnZhbCkpLHRoaXN9LGMucHJvdG90eXBlLmdldEl0ZW1JbmRleD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy4kaXRlbXM9YS5wYXJlbnQoKS5jaGlsZHJlbihcIi5pdGVtXCIpLHRoaXMuJGl0ZW1zLmluZGV4KGF8fHRoaXMuJGFjdGl2ZSl9LGMucHJvdG90eXBlLmdldEl0ZW1Gb3JEaXJlY3Rpb249ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldEl0ZW1JbmRleChiKSxkPVwicHJldlwiPT1hJiYwPT09Y3x8XCJuZXh0XCI9PWEmJmM9PXRoaXMuJGl0ZW1zLmxlbmd0aC0xO2lmKGQmJiF0aGlzLm9wdGlvbnMud3JhcClyZXR1cm4gYjt2YXIgZT1cInByZXZcIj09YT8tMToxLGY9KGMrZSkldGhpcy4kaXRlbXMubGVuZ3RoO3JldHVybiB0aGlzLiRpdGVtcy5lcShmKX0sYy5wcm90b3R5cGUudG89ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPXRoaXMuZ2V0SXRlbUluZGV4KHRoaXMuJGFjdGl2ZT10aGlzLiRlbGVtZW50LmZpbmQoXCIuaXRlbS5hY3RpdmVcIikpO3JldHVybiBhPnRoaXMuJGl0ZW1zLmxlbmd0aC0xfHwwPmE/dm9pZCAwOnRoaXMuc2xpZGluZz90aGlzLiRlbGVtZW50Lm9uZShcInNsaWQuYnMuY2Fyb3VzZWxcIixmdW5jdGlvbigpe2IudG8oYSl9KTpjPT1hP3RoaXMucGF1c2UoKS5jeWNsZSgpOnRoaXMuc2xpZGUoYT5jP1wibmV4dFwiOlwicHJldlwiLHRoaXMuJGl0ZW1zLmVxKGEpKX0sYy5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oYil7cmV0dXJuIGJ8fCh0aGlzLnBhdXNlZD0hMCksdGhpcy4kZWxlbWVudC5maW5kKFwiLm5leHQsIC5wcmV2XCIpLmxlbmd0aCYmYS5zdXBwb3J0LnRyYW5zaXRpb24mJih0aGlzLiRlbGVtZW50LnRyaWdnZXIoYS5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKSx0aGlzLmN5Y2xlKCEwKSksdGhpcy5pbnRlcnZhbD1jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpLHRoaXN9LGMucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zbGlkaW5nP3ZvaWQgMDp0aGlzLnNsaWRlKFwibmV4dFwiKX0sYy5wcm90b3R5cGUucHJldj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNsaWRpbmc/dm9pZCAwOnRoaXMuc2xpZGUoXCJwcmV2XCIpfSxjLnByb3RvdHlwZS5zbGlkZT1mdW5jdGlvbihiLGQpe3ZhciBlPXRoaXMuJGVsZW1lbnQuZmluZChcIi5pdGVtLmFjdGl2ZVwiKSxmPWR8fHRoaXMuZ2V0SXRlbUZvckRpcmVjdGlvbihiLGUpLGc9dGhpcy5pbnRlcnZhbCxoPVwibmV4dFwiPT1iP1wibGVmdFwiOlwicmlnaHRcIixpPXRoaXM7aWYoZi5oYXNDbGFzcyhcImFjdGl2ZVwiKSlyZXR1cm4gdGhpcy5zbGlkaW5nPSExO3ZhciBqPWZbMF0saz1hLkV2ZW50KFwic2xpZGUuYnMuY2Fyb3VzZWxcIix7cmVsYXRlZFRhcmdldDpqLGRpcmVjdGlvbjpofSk7aWYodGhpcy4kZWxlbWVudC50cmlnZ2VyKGspLCFrLmlzRGVmYXVsdFByZXZlbnRlZCgpKXtpZih0aGlzLnNsaWRpbmc9ITAsZyYmdGhpcy5wYXVzZSgpLHRoaXMuJGluZGljYXRvcnMubGVuZ3RoKXt0aGlzLiRpbmRpY2F0b3JzLmZpbmQoXCIuYWN0aXZlXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO3ZhciBsPWEodGhpcy4kaW5kaWNhdG9ycy5jaGlsZHJlbigpW3RoaXMuZ2V0SXRlbUluZGV4KGYpXSk7bCYmbC5hZGRDbGFzcyhcImFjdGl2ZVwiKX12YXIgbT1hLkV2ZW50KFwic2xpZC5icy5jYXJvdXNlbFwiLHtyZWxhdGVkVGFyZ2V0OmosZGlyZWN0aW9uOmh9KTtyZXR1cm4gYS5zdXBwb3J0LnRyYW5zaXRpb24mJnRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoXCJzbGlkZVwiKT8oZi5hZGRDbGFzcyhiKSxmWzBdLm9mZnNldFdpZHRoLGUuYWRkQ2xhc3MoaCksZi5hZGRDbGFzcyhoKSxlLm9uZShcImJzVHJhbnNpdGlvbkVuZFwiLGZ1bmN0aW9uKCl7Zi5yZW1vdmVDbGFzcyhbYixoXS5qb2luKFwiIFwiKSkuYWRkQ2xhc3MoXCJhY3RpdmVcIiksZS5yZW1vdmVDbGFzcyhbXCJhY3RpdmVcIixoXS5qb2luKFwiIFwiKSksaS5zbGlkaW5nPSExLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLiRlbGVtZW50LnRyaWdnZXIobSl9LDApfSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoYy5UUkFOU0lUSU9OX0RVUkFUSU9OKSk6KGUucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIiksZi5hZGRDbGFzcyhcImFjdGl2ZVwiKSx0aGlzLnNsaWRpbmc9ITEsdGhpcy4kZWxlbWVudC50cmlnZ2VyKG0pKSxnJiZ0aGlzLmN5Y2xlKCksdGhpc319O3ZhciBkPWEuZm4uY2Fyb3VzZWw7YS5mbi5jYXJvdXNlbD1iLGEuZm4uY2Fyb3VzZWwuQ29uc3RydWN0b3I9YyxhLmZuLmNhcm91c2VsLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5mbi5jYXJvdXNlbD1kLHRoaXN9O3ZhciBlPWZ1bmN0aW9uKGMpe3ZhciBkLGU9YSh0aGlzKSxmPWEoZS5hdHRyKFwiZGF0YS10YXJnZXRcIil8fChkPWUuYXR0cihcImhyZWZcIikpJiZkLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sXCJcIikpO2lmKGYuaGFzQ2xhc3MoXCJjYXJvdXNlbFwiKSl7dmFyIGc9YS5leHRlbmQoe30sZi5kYXRhKCksZS5kYXRhKCkpLGg9ZS5hdHRyKFwiZGF0YS1zbGlkZS10b1wiKTtoJiYoZy5pbnRlcnZhbD0hMSksYi5jYWxsKGYsZyksaCYmZi5kYXRhKFwiYnMuY2Fyb3VzZWxcIikudG8oaCksYy5wcmV2ZW50RGVmYXVsdCgpfX07YShkb2N1bWVudCkub24oXCJjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaVwiLFwiW2RhdGEtc2xpZGVdXCIsZSkub24oXCJjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaVwiLFwiW2RhdGEtc2xpZGUtdG9dXCIsZSksYSh3aW5kb3cpLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7YSgnW2RhdGEtcmlkZT1cImNhcm91c2VsXCJdJykuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7Yi5jYWxsKGMsYy5kYXRhKCkpfSl9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihiKXt2YXIgYyxkPWIuYXR0cihcImRhdGEtdGFyZ2V0XCIpfHwoYz1iLmF0dHIoXCJocmVmXCIpKSYmYy5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLFwiXCIpO3JldHVybiBhKGQpfWZ1bmN0aW9uIGMoYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZT1jLmRhdGEoXCJicy5jb2xsYXBzZVwiKSxmPWEuZXh0ZW5kKHt9LGQuREVGQVVMVFMsYy5kYXRhKCksXCJvYmplY3RcIj09dHlwZW9mIGImJmIpOyFlJiZmLnRvZ2dsZSYmXCJzaG93XCI9PWImJihmLnRvZ2dsZT0hMSksZXx8Yy5kYXRhKFwiYnMuY29sbGFwc2VcIixlPW5ldyBkKHRoaXMsZikpLFwic3RyaW5nXCI9PXR5cGVvZiBiJiZlW2JdKCl9KX12YXIgZD1mdW5jdGlvbihiLGMpe3RoaXMuJGVsZW1lbnQ9YShiKSx0aGlzLm9wdGlvbnM9YS5leHRlbmQoe30sZC5ERUZBVUxUUyxjKSx0aGlzLiR0cmlnZ2VyPWEodGhpcy5vcHRpb25zLnRyaWdnZXIpLmZpbHRlcignW2hyZWY9XCIjJytiLmlkKydcIl0sIFtkYXRhLXRhcmdldD1cIiMnK2IuaWQrJ1wiXScpLHRoaXMudHJhbnNpdGlvbmluZz1udWxsLHRoaXMub3B0aW9ucy5wYXJlbnQ/dGhpcy4kcGFyZW50PXRoaXMuZ2V0UGFyZW50KCk6dGhpcy5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3ModGhpcy4kZWxlbWVudCx0aGlzLiR0cmlnZ2VyKSx0aGlzLm9wdGlvbnMudG9nZ2xlJiZ0aGlzLnRvZ2dsZSgpfTtkLlZFUlNJT049XCIzLjMuMlwiLGQuVFJBTlNJVElPTl9EVVJBVElPTj0zNTAsZC5ERUZBVUxUUz17dG9nZ2xlOiEwLHRyaWdnZXI6J1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdJ30sZC5wcm90b3R5cGUuZGltZW5zaW9uPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kZWxlbWVudC5oYXNDbGFzcyhcIndpZHRoXCIpO3JldHVybiBhP1wid2lkdGhcIjpcImhlaWdodFwifSxkLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7aWYoIXRoaXMudHJhbnNpdGlvbmluZyYmIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoXCJpblwiKSl7dmFyIGIsZT10aGlzLiRwYXJlbnQmJnRoaXMuJHBhcmVudC5jaGlsZHJlbihcIi5wYW5lbFwiKS5jaGlsZHJlbihcIi5pbiwgLmNvbGxhcHNpbmdcIik7aWYoIShlJiZlLmxlbmd0aCYmKGI9ZS5kYXRhKFwiYnMuY29sbGFwc2VcIiksYiYmYi50cmFuc2l0aW9uaW5nKSkpe3ZhciBmPWEuRXZlbnQoXCJzaG93LmJzLmNvbGxhcHNlXCIpO2lmKHRoaXMuJGVsZW1lbnQudHJpZ2dlcihmKSwhZi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7ZSYmZS5sZW5ndGgmJihjLmNhbGwoZSxcImhpZGVcIiksYnx8ZS5kYXRhKFwiYnMuY29sbGFwc2VcIixudWxsKSk7dmFyIGc9dGhpcy5kaW1lbnNpb24oKTt0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwiY29sbGFwc2VcIikuYWRkQ2xhc3MoXCJjb2xsYXBzaW5nXCIpW2ddKDApLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsITApLHRoaXMuJHRyaWdnZXIucmVtb3ZlQ2xhc3MoXCJjb2xsYXBzZWRcIikuYXR0cihcImFyaWEtZXhwYW5kZWRcIiwhMCksdGhpcy50cmFuc2l0aW9uaW5nPTE7dmFyIGg9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwiY29sbGFwc2luZ1wiKS5hZGRDbGFzcyhcImNvbGxhcHNlIGluXCIpW2ddKFwiXCIpLHRoaXMudHJhbnNpdGlvbmluZz0wLHRoaXMuJGVsZW1lbnQudHJpZ2dlcihcInNob3duLmJzLmNvbGxhcHNlXCIpfTtpZighYS5zdXBwb3J0LnRyYW5zaXRpb24pcmV0dXJuIGguY2FsbCh0aGlzKTt2YXIgaT1hLmNhbWVsQ2FzZShbXCJzY3JvbGxcIixnXS5qb2luKFwiLVwiKSk7dGhpcy4kZWxlbWVudC5vbmUoXCJic1RyYW5zaXRpb25FbmRcIixhLnByb3h5KGgsdGhpcykpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGQuVFJBTlNJVElPTl9EVVJBVElPTilbZ10odGhpcy4kZWxlbWVudFswXVtpXSl9fX19LGQucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXtpZighdGhpcy50cmFuc2l0aW9uaW5nJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKFwiaW5cIikpe3ZhciBiPWEuRXZlbnQoXCJoaWRlLmJzLmNvbGxhcHNlXCIpO2lmKHRoaXMuJGVsZW1lbnQudHJpZ2dlcihiKSwhYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGM9dGhpcy5kaW1lbnNpb24oKTt0aGlzLiRlbGVtZW50W2NdKHRoaXMuJGVsZW1lbnRbY10oKSlbMF0ub2Zmc2V0SGVpZ2h0LHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoXCJjb2xsYXBzaW5nXCIpLnJlbW92ZUNsYXNzKFwiY29sbGFwc2UgaW5cIikuYXR0cihcImFyaWEtZXhwYW5kZWRcIiwhMSksdGhpcy4kdHJpZ2dlci5hZGRDbGFzcyhcImNvbGxhcHNlZFwiKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLCExKSx0aGlzLnRyYW5zaXRpb25pbmc9MTt2YXIgZT1mdW5jdGlvbigpe3RoaXMudHJhbnNpdGlvbmluZz0wLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJjb2xsYXBzaW5nXCIpLmFkZENsYXNzKFwiY29sbGFwc2VcIikudHJpZ2dlcihcImhpZGRlbi5icy5jb2xsYXBzZVwiKX07cmV0dXJuIGEuc3VwcG9ydC50cmFuc2l0aW9uP3ZvaWQgdGhpcy4kZWxlbWVudFtjXSgwKS5vbmUoXCJic1RyYW5zaXRpb25FbmRcIixhLnByb3h5KGUsdGhpcykpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGQuVFJBTlNJVElPTl9EVVJBVElPTik6ZS5jYWxsKHRoaXMpfX19LGQucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbigpe3RoaXNbdGhpcy4kZWxlbWVudC5oYXNDbGFzcyhcImluXCIpP1wiaGlkZVwiOlwic2hvd1wiXSgpfSxkLnByb3RvdHlwZS5nZXRQYXJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLm9wdGlvbnMucGFyZW50KS5maW5kKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXBhcmVudD1cIicrdGhpcy5vcHRpb25zLnBhcmVudCsnXCJdJykuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGMsZCl7dmFyIGU9YShkKTt0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhiKGUpLGUpfSx0aGlzKSkuZW5kKCl9LGQucHJvdG90eXBlLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcz1mdW5jdGlvbihhLGIpe3ZhciBjPWEuaGFzQ2xhc3MoXCJpblwiKTthLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsYyksYi50b2dnbGVDbGFzcyhcImNvbGxhcHNlZFwiLCFjKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLGMpfTt2YXIgZT1hLmZuLmNvbGxhcHNlO2EuZm4uY29sbGFwc2U9YyxhLmZuLmNvbGxhcHNlLkNvbnN0cnVjdG9yPWQsYS5mbi5jb2xsYXBzZS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4uY29sbGFwc2U9ZSx0aGlzfSxhKGRvY3VtZW50KS5vbihcImNsaWNrLmJzLmNvbGxhcHNlLmRhdGEtYXBpXCIsJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdJyxmdW5jdGlvbihkKXt2YXIgZT1hKHRoaXMpO2UuYXR0cihcImRhdGEtdGFyZ2V0XCIpfHxkLnByZXZlbnREZWZhdWx0KCk7dmFyIGY9YihlKSxnPWYuZGF0YShcImJzLmNvbGxhcHNlXCIpLGg9Zz9cInRvZ2dsZVwiOmEuZXh0ZW5kKHt9LGUuZGF0YSgpLHt0cmlnZ2VyOnRoaXN9KTtjLmNhbGwoZixoKX0pfShqUXVlcnkpLCtmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGIpe2ImJjM9PT1iLndoaWNofHwoYShlKS5yZW1vdmUoKSxhKGYpLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGU9YyhkKSxmPXtyZWxhdGVkVGFyZ2V0OnRoaXN9O2UuaGFzQ2xhc3MoXCJvcGVuXCIpJiYoZS50cmlnZ2VyKGI9YS5FdmVudChcImhpZGUuYnMuZHJvcGRvd25cIixmKSksYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGQuYXR0cihcImFyaWEtZXhwYW5kZWRcIixcImZhbHNlXCIpLGUucmVtb3ZlQ2xhc3MoXCJvcGVuXCIpLnRyaWdnZXIoXCJoaWRkZW4uYnMuZHJvcGRvd25cIixmKSkpfSkpfWZ1bmN0aW9uIGMoYil7dmFyIGM9Yi5hdHRyKFwiZGF0YS10YXJnZXRcIik7Y3x8KGM9Yi5hdHRyKFwiaHJlZlwiKSxjPWMmJi8jW0EtWmEtel0vLnRlc3QoYykmJmMucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLyxcIlwiKSk7dmFyIGQ9YyYmYShjKTtyZXR1cm4gZCYmZC5sZW5ndGg/ZDpiLnBhcmVudCgpfWZ1bmN0aW9uIGQoYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZD1jLmRhdGEoXCJicy5kcm9wZG93blwiKTtkfHxjLmRhdGEoXCJicy5kcm9wZG93blwiLGQ9bmV3IGcodGhpcykpLFwic3RyaW5nXCI9PXR5cGVvZiBiJiZkW2JdLmNhbGwoYyl9KX12YXIgZT1cIi5kcm9wZG93bi1iYWNrZHJvcFwiLGY9J1tkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJdJyxnPWZ1bmN0aW9uKGIpe2EoYikub24oXCJjbGljay5icy5kcm9wZG93blwiLHRoaXMudG9nZ2xlKX07Zy5WRVJTSU9OPVwiMy4zLjJcIixnLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oZCl7dmFyIGU9YSh0aGlzKTtpZighZS5pcyhcIi5kaXNhYmxlZCwgOmRpc2FibGVkXCIpKXt2YXIgZj1jKGUpLGc9Zi5oYXNDbGFzcyhcIm9wZW5cIik7aWYoYigpLCFnKXtcIm9udG91Y2hzdGFydFwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiYhZi5jbG9zZXN0KFwiLm5hdmJhci1uYXZcIikubGVuZ3RoJiZhKCc8ZGl2IGNsYXNzPVwiZHJvcGRvd24tYmFja2Ryb3BcIi8+JykuaW5zZXJ0QWZ0ZXIoYSh0aGlzKSkub24oXCJjbGlja1wiLGIpO3ZhciBoPXtyZWxhdGVkVGFyZ2V0OnRoaXN9O2lmKGYudHJpZ2dlcihkPWEuRXZlbnQoXCJzaG93LmJzLmRyb3Bkb3duXCIsaCkpLGQuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuO2UudHJpZ2dlcihcImZvY3VzXCIpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpLGYudG9nZ2xlQ2xhc3MoXCJvcGVuXCIpLnRyaWdnZXIoXCJzaG93bi5icy5kcm9wZG93blwiLGgpfXJldHVybiExfX0sZy5wcm90b3R5cGUua2V5ZG93bj1mdW5jdGlvbihiKXtpZigvKDM4fDQwfDI3fDMyKS8udGVzdChiLndoaWNoKSYmIS9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoYi50YXJnZXQudGFnTmFtZSkpe3ZhciBkPWEodGhpcyk7aWYoYi5wcmV2ZW50RGVmYXVsdCgpLGIuc3RvcFByb3BhZ2F0aW9uKCksIWQuaXMoXCIuZGlzYWJsZWQsIDpkaXNhYmxlZFwiKSl7dmFyIGU9YyhkKSxnPWUuaGFzQ2xhc3MoXCJvcGVuXCIpO2lmKCFnJiYyNyE9Yi53aGljaHx8ZyYmMjc9PWIud2hpY2gpcmV0dXJuIDI3PT1iLndoaWNoJiZlLmZpbmQoZikudHJpZ2dlcihcImZvY3VzXCIpLGQudHJpZ2dlcihcImNsaWNrXCIpO3ZhciBoPVwiIGxpOm5vdCguZGl2aWRlcik6dmlzaWJsZSBhXCIsaT1lLmZpbmQoJ1tyb2xlPVwibWVudVwiXScraCsnLCBbcm9sZT1cImxpc3Rib3hcIl0nK2gpO2lmKGkubGVuZ3RoKXt2YXIgaj1pLmluZGV4KGIudGFyZ2V0KTszOD09Yi53aGljaCYmaj4wJiZqLS0sNDA9PWIud2hpY2gmJmo8aS5sZW5ndGgtMSYmaisrLH5qfHwoaj0wKSxpLmVxKGopLnRyaWdnZXIoXCJmb2N1c1wiKX19fX07dmFyIGg9YS5mbi5kcm9wZG93bjthLmZuLmRyb3Bkb3duPWQsYS5mbi5kcm9wZG93bi5Db25zdHJ1Y3Rvcj1nLGEuZm4uZHJvcGRvd24ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLmRyb3Bkb3duPWgsdGhpc30sYShkb2N1bWVudCkub24oXCJjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaVwiLGIpLm9uKFwiY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGlcIixcIi5kcm9wZG93biBmb3JtXCIsZnVuY3Rpb24oYSl7YS5zdG9wUHJvcGFnYXRpb24oKX0pLm9uKFwiY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGlcIixmLGcucHJvdG90eXBlLnRvZ2dsZSkub24oXCJrZXlkb3duLmJzLmRyb3Bkb3duLmRhdGEtYXBpXCIsZixnLnByb3RvdHlwZS5rZXlkb3duKS5vbihcImtleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGlcIiwnW3JvbGU9XCJtZW51XCJdJyxnLnByb3RvdHlwZS5rZXlkb3duKS5vbihcImtleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGlcIiwnW3JvbGU9XCJsaXN0Ym94XCJdJyxnLnByb3RvdHlwZS5rZXlkb3duKX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihiLGQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1hKHRoaXMpLGY9ZS5kYXRhKFwiYnMubW9kYWxcIiksZz1hLmV4dGVuZCh7fSxjLkRFRkFVTFRTLGUuZGF0YSgpLFwib2JqZWN0XCI9PXR5cGVvZiBiJiZiKTtmfHxlLmRhdGEoXCJicy5tb2RhbFwiLGY9bmV3IGModGhpcyxnKSksXCJzdHJpbmdcIj09dHlwZW9mIGI/ZltiXShkKTpnLnNob3cmJmYuc2hvdyhkKX0pfXZhciBjPWZ1bmN0aW9uKGIsYyl7dGhpcy5vcHRpb25zPWMsdGhpcy4kYm9keT1hKGRvY3VtZW50LmJvZHkpLHRoaXMuJGVsZW1lbnQ9YShiKSx0aGlzLiRiYWNrZHJvcD10aGlzLmlzU2hvd249bnVsbCx0aGlzLnNjcm9sbGJhcldpZHRoPTAsdGhpcy5vcHRpb25zLnJlbW90ZSYmdGhpcy4kZWxlbWVudC5maW5kKFwiLm1vZGFsLWNvbnRlbnRcIikubG9hZCh0aGlzLm9wdGlvbnMucmVtb3RlLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LnRyaWdnZXIoXCJsb2FkZWQuYnMubW9kYWxcIil9LHRoaXMpKX07Yy5WRVJTSU9OPVwiMy4zLjJcIixjLlRSQU5TSVRJT05fRFVSQVRJT049MzAwLGMuQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTj0xNTAsYy5ERUZBVUxUUz17YmFja2Ryb3A6ITAsa2V5Ym9hcmQ6ITAsc2hvdzohMH0sYy5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzU2hvd24/dGhpcy5oaWRlKCk6dGhpcy5zaG93KGEpfSxjLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMsZT1hLkV2ZW50KFwic2hvdy5icy5tb2RhbFwiLHtyZWxhdGVkVGFyZ2V0OmJ9KTt0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSksdGhpcy5pc1Nob3dufHxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwodGhpcy5pc1Nob3duPSEwLHRoaXMuY2hlY2tTY3JvbGxiYXIoKSx0aGlzLnNldFNjcm9sbGJhcigpLHRoaXMuJGJvZHkuYWRkQ2xhc3MoXCJtb2RhbC1vcGVuXCIpLHRoaXMuZXNjYXBlKCksdGhpcy5yZXNpemUoKSx0aGlzLiRlbGVtZW50Lm9uKFwiY2xpY2suZGlzbWlzcy5icy5tb2RhbFwiLCdbZGF0YS1kaXNtaXNzPVwibW9kYWxcIl0nLGEucHJveHkodGhpcy5oaWRlLHRoaXMpKSx0aGlzLmJhY2tkcm9wKGZ1bmN0aW9uKCl7dmFyIGU9YS5zdXBwb3J0LnRyYW5zaXRpb24mJmQuJGVsZW1lbnQuaGFzQ2xhc3MoXCJmYWRlXCIpO2QuJGVsZW1lbnQucGFyZW50KCkubGVuZ3RofHxkLiRlbGVtZW50LmFwcGVuZFRvKGQuJGJvZHkpLGQuJGVsZW1lbnQuc2hvdygpLnNjcm9sbFRvcCgwKSxkLm9wdGlvbnMuYmFja2Ryb3AmJmQuYWRqdXN0QmFja2Ryb3AoKSxkLmFkanVzdERpYWxvZygpLGUmJmQuJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsZC4kZWxlbWVudC5hZGRDbGFzcyhcImluXCIpLmF0dHIoXCJhcmlhLWhpZGRlblwiLCExKSxkLmVuZm9yY2VGb2N1cygpO3ZhciBmPWEuRXZlbnQoXCJzaG93bi5icy5tb2RhbFwiLHtyZWxhdGVkVGFyZ2V0OmJ9KTtlP2QuJGVsZW1lbnQuZmluZChcIi5tb2RhbC1kaWFsb2dcIikub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsZnVuY3Rpb24oKXtkLiRlbGVtZW50LnRyaWdnZXIoXCJmb2N1c1wiKS50cmlnZ2VyKGYpfSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoYy5UUkFOU0lUSU9OX0RVUkFUSU9OKTpkLiRlbGVtZW50LnRyaWdnZXIoXCJmb2N1c1wiKS50cmlnZ2VyKGYpfSkpfSxjLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKGIpe2ImJmIucHJldmVudERlZmF1bHQoKSxiPWEuRXZlbnQoXCJoaWRlLmJzLm1vZGFsXCIpLHRoaXMuJGVsZW1lbnQudHJpZ2dlcihiKSx0aGlzLmlzU2hvd24mJiFiLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYodGhpcy5pc1Nob3duPSExLHRoaXMuZXNjYXBlKCksdGhpcy5yZXNpemUoKSxhKGRvY3VtZW50KS5vZmYoXCJmb2N1c2luLmJzLm1vZGFsXCIpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJpblwiKS5hdHRyKFwiYXJpYS1oaWRkZW5cIiwhMCkub2ZmKFwiY2xpY2suZGlzbWlzcy5icy5tb2RhbFwiKSxhLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kZWxlbWVudC5oYXNDbGFzcyhcImZhZGVcIik/dGhpcy4kZWxlbWVudC5vbmUoXCJic1RyYW5zaXRpb25FbmRcIixhLnByb3h5KHRoaXMuaGlkZU1vZGFsLHRoaXMpKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChjLlRSQU5TSVRJT05fRFVSQVRJT04pOnRoaXMuaGlkZU1vZGFsKCkpfSxjLnByb3RvdHlwZS5lbmZvcmNlRm9jdXM9ZnVuY3Rpb24oKXthKGRvY3VtZW50KS5vZmYoXCJmb2N1c2luLmJzLm1vZGFsXCIpLm9uKFwiZm9jdXNpbi5icy5tb2RhbFwiLGEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy4kZWxlbWVudFswXT09PWEudGFyZ2V0fHx0aGlzLiRlbGVtZW50LmhhcyhhLnRhcmdldCkubGVuZ3RofHx0aGlzLiRlbGVtZW50LnRyaWdnZXIoXCJmb2N1c1wiKX0sdGhpcykpfSxjLnByb3RvdHlwZS5lc2NhcGU9ZnVuY3Rpb24oKXt0aGlzLmlzU2hvd24mJnRoaXMub3B0aW9ucy5rZXlib2FyZD90aGlzLiRlbGVtZW50Lm9uKFwia2V5ZG93bi5kaXNtaXNzLmJzLm1vZGFsXCIsYS5wcm94eShmdW5jdGlvbihhKXsyNz09YS53aGljaCYmdGhpcy5oaWRlKCl9LHRoaXMpKTp0aGlzLmlzU2hvd258fHRoaXMuJGVsZW1lbnQub2ZmKFwia2V5ZG93bi5kaXNtaXNzLmJzLm1vZGFsXCIpfSxjLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt0aGlzLmlzU2hvd24/YSh3aW5kb3cpLm9uKFwicmVzaXplLmJzLm1vZGFsXCIsYS5wcm94eSh0aGlzLmhhbmRsZVVwZGF0ZSx0aGlzKSk6YSh3aW5kb3cpLm9mZihcInJlc2l6ZS5icy5tb2RhbFwiKX0sYy5wcm90b3R5cGUuaGlkZU1vZGFsPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLiRlbGVtZW50LmhpZGUoKSx0aGlzLmJhY2tkcm9wKGZ1bmN0aW9uKCl7YS4kYm9keS5yZW1vdmVDbGFzcyhcIm1vZGFsLW9wZW5cIiksYS5yZXNldEFkanVzdG1lbnRzKCksYS5yZXNldFNjcm9sbGJhcigpLGEuJGVsZW1lbnQudHJpZ2dlcihcImhpZGRlbi5icy5tb2RhbFwiKX0pfSxjLnByb3RvdHlwZS5yZW1vdmVCYWNrZHJvcD1mdW5jdGlvbigpe3RoaXMuJGJhY2tkcm9wJiZ0aGlzLiRiYWNrZHJvcC5yZW1vdmUoKSx0aGlzLiRiYWNrZHJvcD1udWxsfSxjLnByb3RvdHlwZS5iYWNrZHJvcD1mdW5jdGlvbihiKXt2YXIgZD10aGlzLGU9dGhpcy4kZWxlbWVudC5oYXNDbGFzcyhcImZhZGVcIik/XCJmYWRlXCI6XCJcIjtpZih0aGlzLmlzU2hvd24mJnRoaXMub3B0aW9ucy5iYWNrZHJvcCl7dmFyIGY9YS5zdXBwb3J0LnRyYW5zaXRpb24mJmU7aWYodGhpcy4kYmFja2Ryb3A9YSgnPGRpdiBjbGFzcz1cIm1vZGFsLWJhY2tkcm9wICcrZSsnXCIgLz4nKS5wcmVwZW5kVG8odGhpcy4kZWxlbWVudCkub24oXCJjbGljay5kaXNtaXNzLmJzLm1vZGFsXCIsYS5wcm94eShmdW5jdGlvbihhKXthLnRhcmdldD09PWEuY3VycmVudFRhcmdldCYmKFwic3RhdGljXCI9PXRoaXMub3B0aW9ucy5iYWNrZHJvcD90aGlzLiRlbGVtZW50WzBdLmZvY3VzLmNhbGwodGhpcy4kZWxlbWVudFswXSk6dGhpcy5oaWRlLmNhbGwodGhpcykpfSx0aGlzKSksZiYmdGhpcy4kYmFja2Ryb3BbMF0ub2Zmc2V0V2lkdGgsdGhpcy4kYmFja2Ryb3AuYWRkQ2xhc3MoXCJpblwiKSwhYilyZXR1cm47Zj90aGlzLiRiYWNrZHJvcC5vbmUoXCJic1RyYW5zaXRpb25FbmRcIixiKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChjLkJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT04pOmIoKX1lbHNlIGlmKCF0aGlzLmlzU2hvd24mJnRoaXMuJGJhY2tkcm9wKXt0aGlzLiRiYWNrZHJvcC5yZW1vdmVDbGFzcyhcImluXCIpO3ZhciBnPWZ1bmN0aW9uKCl7ZC5yZW1vdmVCYWNrZHJvcCgpLGImJmIoKX07YS5zdXBwb3J0LnRyYW5zaXRpb24mJnRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoXCJmYWRlXCIpP3RoaXMuJGJhY2tkcm9wLm9uZShcImJzVHJhbnNpdGlvbkVuZFwiLGcpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGMuQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTik6ZygpfWVsc2UgYiYmYigpfSxjLnByb3RvdHlwZS5oYW5kbGVVcGRhdGU9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuYmFja2Ryb3AmJnRoaXMuYWRqdXN0QmFja2Ryb3AoKSx0aGlzLmFkanVzdERpYWxvZygpfSxjLnByb3RvdHlwZS5hZGp1c3RCYWNrZHJvcD1mdW5jdGlvbigpe3RoaXMuJGJhY2tkcm9wLmNzcyhcImhlaWdodFwiLDApLmNzcyhcImhlaWdodFwiLHRoaXMuJGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0KX0sYy5wcm90b3R5cGUuYWRqdXN0RGlhbG9nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kZWxlbWVudFswXS5zY3JvbGxIZWlnaHQ+ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDt0aGlzLiRlbGVtZW50LmNzcyh7cGFkZGluZ0xlZnQ6IXRoaXMuYm9keUlzT3ZlcmZsb3dpbmcmJmE/dGhpcy5zY3JvbGxiYXJXaWR0aDpcIlwiLHBhZGRpbmdSaWdodDp0aGlzLmJvZHlJc092ZXJmbG93aW5nJiYhYT90aGlzLnNjcm9sbGJhcldpZHRoOlwiXCJ9KX0sYy5wcm90b3R5cGUucmVzZXRBZGp1c3RtZW50cz1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQuY3NzKHtwYWRkaW5nTGVmdDpcIlwiLHBhZGRpbmdSaWdodDpcIlwifSl9LGMucHJvdG90eXBlLmNoZWNrU2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dGhpcy5ib2R5SXNPdmVyZmxvd2luZz1kb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodD5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LHRoaXMuc2Nyb2xsYmFyV2lkdGg9dGhpcy5tZWFzdXJlU2Nyb2xsYmFyKCl9LGMucHJvdG90eXBlLnNldFNjcm9sbGJhcj1mdW5jdGlvbigpe3ZhciBhPXBhcnNlSW50KHRoaXMuJGJvZHkuY3NzKFwicGFkZGluZy1yaWdodFwiKXx8MCwxMCk7dGhpcy5ib2R5SXNPdmVyZmxvd2luZyYmdGhpcy4kYm9keS5jc3MoXCJwYWRkaW5nLXJpZ2h0XCIsYSt0aGlzLnNjcm9sbGJhcldpZHRoKX0sYy5wcm90b3R5cGUucmVzZXRTY3JvbGxiYXI9ZnVuY3Rpb24oKXt0aGlzLiRib2R5LmNzcyhcInBhZGRpbmctcmlnaHRcIixcIlwiKX0sYy5wcm90b3R5cGUubWVhc3VyZVNjcm9sbGJhcj1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5jbGFzc05hbWU9XCJtb2RhbC1zY3JvbGxiYXItbWVhc3VyZVwiLHRoaXMuJGJvZHkuYXBwZW5kKGEpO3ZhciBiPWEub2Zmc2V0V2lkdGgtYS5jbGllbnRXaWR0aDtyZXR1cm4gdGhpcy4kYm9keVswXS5yZW1vdmVDaGlsZChhKSxifTt2YXIgZD1hLmZuLm1vZGFsO2EuZm4ubW9kYWw9YixhLmZuLm1vZGFsLkNvbnN0cnVjdG9yPWMsYS5mbi5tb2RhbC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4ubW9kYWw9ZCx0aGlzfSxhKGRvY3VtZW50KS5vbihcImNsaWNrLmJzLm1vZGFsLmRhdGEtYXBpXCIsJ1tkYXRhLXRvZ2dsZT1cIm1vZGFsXCJdJyxmdW5jdGlvbihjKXt2YXIgZD1hKHRoaXMpLGU9ZC5hdHRyKFwiaHJlZlwiKSxmPWEoZC5hdHRyKFwiZGF0YS10YXJnZXRcIil8fGUmJmUucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLyxcIlwiKSksZz1mLmRhdGEoXCJicy5tb2RhbFwiKT9cInRvZ2dsZVwiOmEuZXh0ZW5kKHtyZW1vdGU6IS8jLy50ZXN0KGUpJiZlfSxmLmRhdGEoKSxkLmRhdGEoKSk7ZC5pcyhcImFcIikmJmMucHJldmVudERlZmF1bHQoKSxmLm9uZShcInNob3cuYnMubW9kYWxcIixmdW5jdGlvbihhKXthLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxmLm9uZShcImhpZGRlbi5icy5tb2RhbFwiLGZ1bmN0aW9uKCl7ZC5pcyhcIjp2aXNpYmxlXCIpJiZkLnRyaWdnZXIoXCJmb2N1c1wiKX0pfSksYi5jYWxsKGYsZyx0aGlzKX0pfShqUXVlcnkpLCtmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGU9ZC5kYXRhKFwiYnMudG9vbHRpcFwiKSxmPVwib2JqZWN0XCI9PXR5cGVvZiBiJiZiOyhlfHxcImRlc3Ryb3lcIiE9YikmJihlfHxkLmRhdGEoXCJicy50b29sdGlwXCIsZT1uZXcgYyh0aGlzLGYpKSxcInN0cmluZ1wiPT10eXBlb2YgYiYmZVtiXSgpKX0pfXZhciBjPWZ1bmN0aW9uKGEsYil7dGhpcy50eXBlPXRoaXMub3B0aW9ucz10aGlzLmVuYWJsZWQ9dGhpcy50aW1lb3V0PXRoaXMuaG92ZXJTdGF0ZT10aGlzLiRlbGVtZW50PW51bGwsdGhpcy5pbml0KFwidG9vbHRpcFwiLGEsYil9O2MuVkVSU0lPTj1cIjMuMy4yXCIsYy5UUkFOU0lUSU9OX0RVUkFUSU9OPTE1MCxjLkRFRkFVTFRTPXthbmltYXRpb246ITAscGxhY2VtZW50OlwidG9wXCIsc2VsZWN0b3I6ITEsdGVtcGxhdGU6JzxkaXYgY2xhc3M9XCJ0b29sdGlwXCIgcm9sZT1cInRvb2x0aXBcIj48ZGl2IGNsYXNzPVwidG9vbHRpcC1hcnJvd1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJ0b29sdGlwLWlubmVyXCI+PC9kaXY+PC9kaXY+Jyx0cmlnZ2VyOlwiaG92ZXIgZm9jdXNcIix0aXRsZTpcIlwiLGRlbGF5OjAsaHRtbDohMSxjb250YWluZXI6ITEsdmlld3BvcnQ6e3NlbGVjdG9yOlwiYm9keVwiLHBhZGRpbmc6MH19LGMucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oYixjLGQpe3RoaXMuZW5hYmxlZD0hMCx0aGlzLnR5cGU9Yix0aGlzLiRlbGVtZW50PWEoYyksdGhpcy5vcHRpb25zPXRoaXMuZ2V0T3B0aW9ucyhkKSx0aGlzLiR2aWV3cG9ydD10aGlzLm9wdGlvbnMudmlld3BvcnQmJmEodGhpcy5vcHRpb25zLnZpZXdwb3J0LnNlbGVjdG9yfHx0aGlzLm9wdGlvbnMudmlld3BvcnQpO2Zvcih2YXIgZT10aGlzLm9wdGlvbnMudHJpZ2dlci5zcGxpdChcIiBcIiksZj1lLmxlbmd0aDtmLS07KXt2YXIgZz1lW2ZdO2lmKFwiY2xpY2tcIj09Zyl0aGlzLiRlbGVtZW50Lm9uKFwiY2xpY2suXCIrdGhpcy50eXBlLHRoaXMub3B0aW9ucy5zZWxlY3RvcixhLnByb3h5KHRoaXMudG9nZ2xlLHRoaXMpKTtlbHNlIGlmKFwibWFudWFsXCIhPWcpe3ZhciBoPVwiaG92ZXJcIj09Zz9cIm1vdXNlZW50ZXJcIjpcImZvY3VzaW5cIixpPVwiaG92ZXJcIj09Zz9cIm1vdXNlbGVhdmVcIjpcImZvY3Vzb3V0XCI7dGhpcy4kZWxlbWVudC5vbihoK1wiLlwiK3RoaXMudHlwZSx0aGlzLm9wdGlvbnMuc2VsZWN0b3IsYS5wcm94eSh0aGlzLmVudGVyLHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKGkrXCIuXCIrdGhpcy50eXBlLHRoaXMub3B0aW9ucy5zZWxlY3RvcixhLnByb3h5KHRoaXMubGVhdmUsdGhpcykpfX10aGlzLm9wdGlvbnMuc2VsZWN0b3I/dGhpcy5fb3B0aW9ucz1hLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMse3RyaWdnZXI6XCJtYW51YWxcIixzZWxlY3RvcjpcIlwifSk6dGhpcy5maXhUaXRsZSgpfSxjLnByb3RvdHlwZS5nZXREZWZhdWx0cz1mdW5jdGlvbigpe3JldHVybiBjLkRFRkFVTFRTfSxjLnByb3RvdHlwZS5nZXRPcHRpb25zPWZ1bmN0aW9uKGIpe3JldHVybiBiPWEuZXh0ZW5kKHt9LHRoaXMuZ2V0RGVmYXVsdHMoKSx0aGlzLiRlbGVtZW50LmRhdGEoKSxiKSxiLmRlbGF5JiZcIm51bWJlclwiPT10eXBlb2YgYi5kZWxheSYmKGIuZGVsYXk9e3Nob3c6Yi5kZWxheSxoaWRlOmIuZGVsYXl9KSxifSxjLnByb3RvdHlwZS5nZXREZWxlZ2F0ZU9wdGlvbnM9ZnVuY3Rpb24oKXt2YXIgYj17fSxjPXRoaXMuZ2V0RGVmYXVsdHMoKTtyZXR1cm4gdGhpcy5fb3B0aW9ucyYmYS5lYWNoKHRoaXMuX29wdGlvbnMsZnVuY3Rpb24oYSxkKXtjW2FdIT1kJiYoYlthXT1kKX0pLGJ9LGMucHJvdG90eXBlLmVudGVyPWZ1bmN0aW9uKGIpe3ZhciBjPWIgaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yP2I6YShiLmN1cnJlbnRUYXJnZXQpLmRhdGEoXCJicy5cIit0aGlzLnR5cGUpO3JldHVybiBjJiZjLiR0aXAmJmMuJHRpcC5pcyhcIjp2aXNpYmxlXCIpP3ZvaWQoYy5ob3ZlclN0YXRlPVwiaW5cIik6KGN8fChjPW5ldyB0aGlzLmNvbnN0cnVjdG9yKGIuY3VycmVudFRhcmdldCx0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKSxhKGIuY3VycmVudFRhcmdldCkuZGF0YShcImJzLlwiK3RoaXMudHlwZSxjKSksY2xlYXJUaW1lb3V0KGMudGltZW91dCksYy5ob3ZlclN0YXRlPVwiaW5cIixjLm9wdGlvbnMuZGVsYXkmJmMub3B0aW9ucy5kZWxheS5zaG93P3ZvaWQoYy50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtcImluXCI9PWMuaG92ZXJTdGF0ZSYmYy5zaG93KCl9LGMub3B0aW9ucy5kZWxheS5zaG93KSk6Yy5zaG93KCkpfSxjLnByb3RvdHlwZS5sZWF2ZT1mdW5jdGlvbihiKXt2YXIgYz1iIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3Rvcj9iOmEoYi5jdXJyZW50VGFyZ2V0KS5kYXRhKFwiYnMuXCIrdGhpcy50eXBlKTtyZXR1cm4gY3x8KGM9bmV3IHRoaXMuY29uc3RydWN0b3IoYi5jdXJyZW50VGFyZ2V0LHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpLGEoYi5jdXJyZW50VGFyZ2V0KS5kYXRhKFwiYnMuXCIrdGhpcy50eXBlLGMpKSxjbGVhclRpbWVvdXQoYy50aW1lb3V0KSxjLmhvdmVyU3RhdGU9XCJvdXRcIixjLm9wdGlvbnMuZGVsYXkmJmMub3B0aW9ucy5kZWxheS5oaWRlP3ZvaWQoYy50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtcIm91dFwiPT1jLmhvdmVyU3RhdGUmJmMuaGlkZSgpfSxjLm9wdGlvbnMuZGVsYXkuaGlkZSkpOmMuaGlkZSgpfSxjLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dmFyIGI9YS5FdmVudChcInNob3cuYnMuXCIrdGhpcy50eXBlKTtpZih0aGlzLmhhc0NvbnRlbnQoKSYmdGhpcy5lbmFibGVkKXt0aGlzLiRlbGVtZW50LnRyaWdnZXIoYik7dmFyIGQ9YS5jb250YWlucyh0aGlzLiRlbGVtZW50WzBdLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHRoaXMuJGVsZW1lbnRbMF0pO2lmKGIuaXNEZWZhdWx0UHJldmVudGVkKCl8fCFkKXJldHVybjt2YXIgZT10aGlzLGY9dGhpcy50aXAoKSxnPXRoaXMuZ2V0VUlEKHRoaXMudHlwZSk7dGhpcy5zZXRDb250ZW50KCksZi5hdHRyKFwiaWRcIixnKSx0aGlzLiRlbGVtZW50LmF0dHIoXCJhcmlhLWRlc2NyaWJlZGJ5XCIsZyksdGhpcy5vcHRpb25zLmFuaW1hdGlvbiYmZi5hZGRDbGFzcyhcImZhZGVcIik7dmFyIGg9XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vcHRpb25zLnBsYWNlbWVudD90aGlzLm9wdGlvbnMucGxhY2VtZW50LmNhbGwodGhpcyxmWzBdLHRoaXMuJGVsZW1lbnRbMF0pOnRoaXMub3B0aW9ucy5wbGFjZW1lbnQsaT0vXFxzP2F1dG8/XFxzPy9pLGo9aS50ZXN0KGgpO2omJihoPWgucmVwbGFjZShpLFwiXCIpfHxcInRvcFwiKSxmLmRldGFjaCgpLmNzcyh7dG9wOjAsbGVmdDowLGRpc3BsYXk6XCJibG9ja1wifSkuYWRkQ2xhc3MoaCkuZGF0YShcImJzLlwiK3RoaXMudHlwZSx0aGlzKSx0aGlzLm9wdGlvbnMuY29udGFpbmVyP2YuYXBwZW5kVG8odGhpcy5vcHRpb25zLmNvbnRhaW5lcik6Zi5pbnNlcnRBZnRlcih0aGlzLiRlbGVtZW50KTt2YXIgaz10aGlzLmdldFBvc2l0aW9uKCksbD1mWzBdLm9mZnNldFdpZHRoLG09ZlswXS5vZmZzZXRIZWlnaHQ7aWYoail7dmFyIG49aCxvPXRoaXMub3B0aW9ucy5jb250YWluZXI/YSh0aGlzLm9wdGlvbnMuY29udGFpbmVyKTp0aGlzLiRlbGVtZW50LnBhcmVudCgpLHA9dGhpcy5nZXRQb3NpdGlvbihvKTtoPVwiYm90dG9tXCI9PWgmJmsuYm90dG9tK20+cC5ib3R0b20/XCJ0b3BcIjpcInRvcFwiPT1oJiZrLnRvcC1tPHAudG9wP1wiYm90dG9tXCI6XCJyaWdodFwiPT1oJiZrLnJpZ2h0K2w+cC53aWR0aD9cImxlZnRcIjpcImxlZnRcIj09aCYmay5sZWZ0LWw8cC5sZWZ0P1wicmlnaHRcIjpoLGYucmVtb3ZlQ2xhc3MobikuYWRkQ2xhc3MoaCl9dmFyIHE9dGhpcy5nZXRDYWxjdWxhdGVkT2Zmc2V0KGgsayxsLG0pO3RoaXMuYXBwbHlQbGFjZW1lbnQocSxoKTt2YXIgcj1mdW5jdGlvbigpe3ZhciBhPWUuaG92ZXJTdGF0ZTtlLiRlbGVtZW50LnRyaWdnZXIoXCJzaG93bi5icy5cIitlLnR5cGUpLGUuaG92ZXJTdGF0ZT1udWxsLFwib3V0XCI9PWEmJmUubGVhdmUoZSl9O2Euc3VwcG9ydC50cmFuc2l0aW9uJiZ0aGlzLiR0aXAuaGFzQ2xhc3MoXCJmYWRlXCIpP2Yub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIscikuZW11bGF0ZVRyYW5zaXRpb25FbmQoYy5UUkFOU0lUSU9OX0RVUkFUSU9OKTpyKCl9fSxjLnByb3RvdHlwZS5hcHBseVBsYWNlbWVudD1mdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMudGlwKCksZT1kWzBdLm9mZnNldFdpZHRoLGY9ZFswXS5vZmZzZXRIZWlnaHQsZz1wYXJzZUludChkLmNzcyhcIm1hcmdpbi10b3BcIiksMTApLGg9cGFyc2VJbnQoZC5jc3MoXCJtYXJnaW4tbGVmdFwiKSwxMCk7aXNOYU4oZykmJihnPTApLGlzTmFOKGgpJiYoaD0wKSxiLnRvcD1iLnRvcCtnLGIubGVmdD1iLmxlZnQraCxhLm9mZnNldC5zZXRPZmZzZXQoZFswXSxhLmV4dGVuZCh7dXNpbmc6ZnVuY3Rpb24oYSl7ZC5jc3Moe3RvcDpNYXRoLnJvdW5kKGEudG9wKSxsZWZ0Ok1hdGgucm91bmQoYS5sZWZ0KX0pfX0sYiksMCksZC5hZGRDbGFzcyhcImluXCIpO3ZhciBpPWRbMF0ub2Zmc2V0V2lkdGgsaj1kWzBdLm9mZnNldEhlaWdodDtcInRvcFwiPT1jJiZqIT1mJiYoYi50b3A9Yi50b3ArZi1qKTt2YXIgaz10aGlzLmdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YShjLGIsaSxqKTtrLmxlZnQ/Yi5sZWZ0Kz1rLmxlZnQ6Yi50b3ArPWsudG9wO3ZhciBsPS90b3B8Ym90dG9tLy50ZXN0KGMpLG09bD8yKmsubGVmdC1lK2k6MiprLnRvcC1mK2osbj1sP1wib2Zmc2V0V2lkdGhcIjpcIm9mZnNldEhlaWdodFwiO2Qub2Zmc2V0KGIpLHRoaXMucmVwbGFjZUFycm93KG0sZFswXVtuXSxsKX0sYy5wcm90b3R5cGUucmVwbGFjZUFycm93PWZ1bmN0aW9uKGEsYixjKXt0aGlzLmFycm93KCkuY3NzKGM/XCJsZWZ0XCI6XCJ0b3BcIiw1MCooMS1hL2IpK1wiJVwiKS5jc3MoYz9cInRvcFwiOlwibGVmdFwiLFwiXCIpfSxjLnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50aXAoKSxiPXRoaXMuZ2V0VGl0bGUoKTthLmZpbmQoXCIudG9vbHRpcC1pbm5lclwiKVt0aGlzLm9wdGlvbnMuaHRtbD9cImh0bWxcIjpcInRleHRcIl0oYiksYS5yZW1vdmVDbGFzcyhcImZhZGUgaW4gdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0XCIpfSxjLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGQoKXtcImluXCIhPWUuaG92ZXJTdGF0ZSYmZi5kZXRhY2goKSxlLiRlbGVtZW50LnJlbW92ZUF0dHIoXCJhcmlhLWRlc2NyaWJlZGJ5XCIpLnRyaWdnZXIoXCJoaWRkZW4uYnMuXCIrZS50eXBlKSxiJiZiKCl9dmFyIGU9dGhpcyxmPXRoaXMudGlwKCksZz1hLkV2ZW50KFwiaGlkZS5icy5cIit0aGlzLnR5cGUpO3JldHVybiB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZyksZy5pc0RlZmF1bHRQcmV2ZW50ZWQoKT92b2lkIDA6KGYucmVtb3ZlQ2xhc3MoXCJpblwiKSxhLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kdGlwLmhhc0NsYXNzKFwiZmFkZVwiKT9mLm9uZShcImJzVHJhbnNpdGlvbkVuZFwiLGQpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGMuVFJBTlNJVElPTl9EVVJBVElPTik6ZCgpLHRoaXMuaG92ZXJTdGF0ZT1udWxsLHRoaXMpfSxjLnByb3RvdHlwZS5maXhUaXRsZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJGVsZW1lbnQ7KGEuYXR0cihcInRpdGxlXCIpfHxcInN0cmluZ1wiIT10eXBlb2YgYS5hdHRyKFwiZGF0YS1vcmlnaW5hbC10aXRsZVwiKSkmJmEuYXR0cihcImRhdGEtb3JpZ2luYWwtdGl0bGVcIixhLmF0dHIoXCJ0aXRsZVwiKXx8XCJcIikuYXR0cihcInRpdGxlXCIsXCJcIil9LGMucHJvdG90eXBlLmhhc0NvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUaXRsZSgpfSxjLnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbihiKXtiPWJ8fHRoaXMuJGVsZW1lbnQ7dmFyIGM9YlswXSxkPVwiQk9EWVwiPT1jLnRhZ05hbWUsZT1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO251bGw9PWUud2lkdGgmJihlPWEuZXh0ZW5kKHt9LGUse3dpZHRoOmUucmlnaHQtZS5sZWZ0LGhlaWdodDplLmJvdHRvbS1lLnRvcH0pKTt2YXIgZj1kP3t0b3A6MCxsZWZ0OjB9OmIub2Zmc2V0KCksZz17c2Nyb2xsOmQ/ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A6Yi5zY3JvbGxUb3AoKX0saD1kP3t3aWR0aDphKHdpbmRvdykud2lkdGgoKSxoZWlnaHQ6YSh3aW5kb3cpLmhlaWdodCgpfTpudWxsO3JldHVybiBhLmV4dGVuZCh7fSxlLGcsaCxmKX0sYy5wcm90b3R5cGUuZ2V0Q2FsY3VsYXRlZE9mZnNldD1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm5cImJvdHRvbVwiPT1hP3t0b3A6Yi50b3ArYi5oZWlnaHQsbGVmdDpiLmxlZnQrYi53aWR0aC8yLWMvMn06XCJ0b3BcIj09YT97dG9wOmIudG9wLWQsbGVmdDpiLmxlZnQrYi53aWR0aC8yLWMvMn06XCJsZWZ0XCI9PWE/e3RvcDpiLnRvcCtiLmhlaWdodC8yLWQvMixsZWZ0OmIubGVmdC1jfTp7dG9wOmIudG9wK2IuaGVpZ2h0LzItZC8yLGxlZnQ6Yi5sZWZ0K2Iud2lkdGh9fSxjLnByb3RvdHlwZS5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGE9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9e3RvcDowLGxlZnQ6MH07aWYoIXRoaXMuJHZpZXdwb3J0KXJldHVybiBlO3ZhciBmPXRoaXMub3B0aW9ucy52aWV3cG9ydCYmdGhpcy5vcHRpb25zLnZpZXdwb3J0LnBhZGRpbmd8fDAsZz10aGlzLmdldFBvc2l0aW9uKHRoaXMuJHZpZXdwb3J0KTtpZigvcmlnaHR8bGVmdC8udGVzdChhKSl7dmFyIGg9Yi50b3AtZi1nLnNjcm9sbCxpPWIudG9wK2YtZy5zY3JvbGwrZDtoPGcudG9wP2UudG9wPWcudG9wLWg6aT5nLnRvcCtnLmhlaWdodCYmKGUudG9wPWcudG9wK2cuaGVpZ2h0LWkpfWVsc2V7dmFyIGo9Yi5sZWZ0LWYsaz1iLmxlZnQrZitjO2o8Zy5sZWZ0P2UubGVmdD1nLmxlZnQtajprPmcud2lkdGgmJihlLmxlZnQ9Zy5sZWZ0K2cud2lkdGgtayl9cmV0dXJuIGV9LGMucHJvdG90eXBlLmdldFRpdGxlPWZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLiRlbGVtZW50LGM9dGhpcy5vcHRpb25zO3JldHVybiBhPWIuYXR0cihcImRhdGEtb3JpZ2luYWwtdGl0bGVcIil8fChcImZ1bmN0aW9uXCI9PXR5cGVvZiBjLnRpdGxlP2MudGl0bGUuY2FsbChiWzBdKTpjLnRpdGxlKX0sYy5wcm90b3R5cGUuZ2V0VUlEPWZ1bmN0aW9uKGEpe2RvIGErPX5+KDFlNipNYXRoLnJhbmRvbSgpKTt3aGlsZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKSk7cmV0dXJuIGF9LGMucHJvdG90eXBlLnRpcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR0aXA9dGhpcy4kdGlwfHxhKHRoaXMub3B0aW9ucy50ZW1wbGF0ZSl9LGMucHJvdG90eXBlLmFycm93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGFycm93PXRoaXMuJGFycm93fHx0aGlzLnRpcCgpLmZpbmQoXCIudG9vbHRpcC1hcnJvd1wiKX0sYy5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSEwfSxjLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSExfSxjLnByb3RvdHlwZS50b2dnbGVFbmFibGVkPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSF0aGlzLmVuYWJsZWR9LGMucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihiKXt2YXIgYz10aGlzO2ImJihjPWEoYi5jdXJyZW50VGFyZ2V0KS5kYXRhKFwiYnMuXCIrdGhpcy50eXBlKSxjfHwoYz1uZXcgdGhpcy5jb25zdHJ1Y3RvcihiLmN1cnJlbnRUYXJnZXQsdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSksYShiLmN1cnJlbnRUYXJnZXQpLmRhdGEoXCJicy5cIit0aGlzLnR5cGUsYykpKSxjLnRpcCgpLmhhc0NsYXNzKFwiaW5cIik/Yy5sZWF2ZShjKTpjLmVudGVyKGMpfSxjLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KSx0aGlzLmhpZGUoZnVuY3Rpb24oKXthLiRlbGVtZW50Lm9mZihcIi5cIithLnR5cGUpLnJlbW92ZURhdGEoXCJicy5cIithLnR5cGUpfSl9O3ZhciBkPWEuZm4udG9vbHRpcDthLmZuLnRvb2x0aXA9YixhLmZuLnRvb2x0aXAuQ29uc3RydWN0b3I9YyxhLmZuLnRvb2x0aXAubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLnRvb2x0aXA9ZCx0aGlzfX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxlPWQuZGF0YShcImJzLnBvcG92ZXJcIiksZj1cIm9iamVjdFwiPT10eXBlb2YgYiYmYjsoZXx8XCJkZXN0cm95XCIhPWIpJiYoZXx8ZC5kYXRhKFwiYnMucG9wb3ZlclwiLGU9bmV3IGModGhpcyxmKSksXCJzdHJpbmdcIj09dHlwZW9mIGImJmVbYl0oKSl9KX12YXIgYz1mdW5jdGlvbihhLGIpe3RoaXMuaW5pdChcInBvcG92ZXJcIixhLGIpfTtpZighYS5mbi50b29sdGlwKXRocm93IG5ldyBFcnJvcihcIlBvcG92ZXIgcmVxdWlyZXMgdG9vbHRpcC5qc1wiKTtjLlZFUlNJT049XCIzLjMuMlwiLGMuREVGQVVMVFM9YS5leHRlbmQoe30sYS5mbi50b29sdGlwLkNvbnN0cnVjdG9yLkRFRkFVTFRTLHtwbGFjZW1lbnQ6XCJyaWdodFwiLHRyaWdnZXI6XCJjbGlja1wiLGNvbnRlbnQ6XCJcIix0ZW1wbGF0ZTonPGRpdiBjbGFzcz1cInBvcG92ZXJcIiByb2xlPVwidG9vbHRpcFwiPjxkaXYgY2xhc3M9XCJhcnJvd1wiPjwvZGl2PjxoMyBjbGFzcz1cInBvcG92ZXItdGl0bGVcIj48L2gzPjxkaXYgY2xhc3M9XCJwb3BvdmVyLWNvbnRlbnRcIj48L2Rpdj48L2Rpdj4nfSksYy5wcm90b3R5cGU9YS5leHRlbmQoe30sYS5mbi50b29sdGlwLkNvbnN0cnVjdG9yLnByb3RvdHlwZSksYy5wcm90b3R5cGUuY29uc3RydWN0b3I9YyxjLnByb3RvdHlwZS5nZXREZWZhdWx0cz1mdW5jdGlvbigpe3JldHVybiBjLkRFRkFVTFRTfSxjLnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50aXAoKSxiPXRoaXMuZ2V0VGl0bGUoKSxjPXRoaXMuZ2V0Q29udGVudCgpO2EuZmluZChcIi5wb3BvdmVyLXRpdGxlXCIpW3RoaXMub3B0aW9ucy5odG1sP1wiaHRtbFwiOlwidGV4dFwiXShiKSxhLmZpbmQoXCIucG9wb3Zlci1jb250ZW50XCIpLmNoaWxkcmVuKCkuZGV0YWNoKCkuZW5kKClbdGhpcy5vcHRpb25zLmh0bWw/XCJzdHJpbmdcIj09dHlwZW9mIGM/XCJodG1sXCI6XCJhcHBlbmRcIjpcInRleHRcIl0oYyksYS5yZW1vdmVDbGFzcyhcImZhZGUgdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0IGluXCIpLGEuZmluZChcIi5wb3BvdmVyLXRpdGxlXCIpLmh0bWwoKXx8YS5maW5kKFwiLnBvcG92ZXItdGl0bGVcIikuaGlkZSgpfSxjLnByb3RvdHlwZS5oYXNDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGl0bGUoKXx8dGhpcy5nZXRDb250ZW50KCl9LGMucHJvdG90eXBlLmdldENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRlbGVtZW50LGI9dGhpcy5vcHRpb25zO3JldHVybiBhLmF0dHIoXCJkYXRhLWNvbnRlbnRcIil8fChcImZ1bmN0aW9uXCI9PXR5cGVvZiBiLmNvbnRlbnQ/Yi5jb250ZW50LmNhbGwoYVswXSk6Yi5jb250ZW50KX0sYy5wcm90b3R5cGUuYXJyb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kYXJyb3c9dGhpcy4kYXJyb3d8fHRoaXMudGlwKCkuZmluZChcIi5hcnJvd1wiKX0sYy5wcm90b3R5cGUudGlwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHRpcHx8KHRoaXMuJHRpcD1hKHRoaXMub3B0aW9ucy50ZW1wbGF0ZSkpLHRoaXMuJHRpcH07dmFyIGQ9YS5mbi5wb3BvdmVyO2EuZm4ucG9wb3Zlcj1iLGEuZm4ucG9wb3Zlci5Db25zdHJ1Y3Rvcj1jLGEuZm4ucG9wb3Zlci5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4ucG9wb3Zlcj1kLHRoaXN9fShqUXVlcnkpLCtmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGMsZCl7dmFyIGU9YS5wcm94eSh0aGlzLnByb2Nlc3MsdGhpcyk7dGhpcy4kYm9keT1hKFwiYm9keVwiKSx0aGlzLiRzY3JvbGxFbGVtZW50PWEoYShjKS5pcyhcImJvZHlcIik/d2luZG93OmMpLHRoaXMub3B0aW9ucz1hLmV4dGVuZCh7fSxiLkRFRkFVTFRTLGQpLHRoaXMuc2VsZWN0b3I9KHRoaXMub3B0aW9ucy50YXJnZXR8fFwiXCIpK1wiIC5uYXYgbGkgPiBhXCIsdGhpcy5vZmZzZXRzPVtdLHRoaXMudGFyZ2V0cz1bXSx0aGlzLmFjdGl2ZVRhcmdldD1udWxsLHRoaXMuc2Nyb2xsSGVpZ2h0PTAsdGhpcy4kc2Nyb2xsRWxlbWVudC5vbihcInNjcm9sbC5icy5zY3JvbGxzcHlcIixlKSx0aGlzLnJlZnJlc2goKSx0aGlzLnByb2Nlc3MoKX1mdW5jdGlvbiBjKGMpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGU9ZC5kYXRhKFwiYnMuc2Nyb2xsc3B5XCIpLGY9XCJvYmplY3RcIj09dHlwZW9mIGMmJmM7ZXx8ZC5kYXRhKFwiYnMuc2Nyb2xsc3B5XCIsZT1uZXcgYih0aGlzLGYpKSxcInN0cmluZ1wiPT10eXBlb2YgYyYmZVtjXSgpfSl9Yi5WRVJTSU9OPVwiMy4zLjJcIixiLkRFRkFVTFRTPXtvZmZzZXQ6MTB9LGIucHJvdG90eXBlLmdldFNjcm9sbEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRzY3JvbGxFbGVtZW50WzBdLnNjcm9sbEhlaWdodHx8TWF0aC5tYXgodGhpcy4kYm9keVswXS5zY3JvbGxIZWlnaHQsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCl9LGIucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt2YXIgYj1cIm9mZnNldFwiLGM9MDthLmlzV2luZG93KHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0pfHwoYj1cInBvc2l0aW9uXCIsYz10aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpKSx0aGlzLm9mZnNldHM9W10sdGhpcy50YXJnZXRzPVtdLHRoaXMuc2Nyb2xsSGVpZ2h0PXRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KCk7dmFyIGQ9dGhpczt0aGlzLiRib2R5LmZpbmQodGhpcy5zZWxlY3RvcikubWFwKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxlPWQuZGF0YShcInRhcmdldFwiKXx8ZC5hdHRyKFwiaHJlZlwiKSxmPS9eIy4vLnRlc3QoZSkmJmEoZSk7cmV0dXJuIGYmJmYubGVuZ3RoJiZmLmlzKFwiOnZpc2libGVcIikmJltbZltiXSgpLnRvcCtjLGVdXXx8bnVsbH0pLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYVswXS1iWzBdfSkuZWFjaChmdW5jdGlvbigpe2Qub2Zmc2V0cy5wdXNoKHRoaXNbMF0pLGQudGFyZ2V0cy5wdXNoKHRoaXNbMV0pfSl9LGIucHJvdG90eXBlLnByb2Nlc3M9ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKCkrdGhpcy5vcHRpb25zLm9mZnNldCxjPXRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KCksZD10aGlzLm9wdGlvbnMub2Zmc2V0K2MtdGhpcy4kc2Nyb2xsRWxlbWVudC5oZWlnaHQoKSxlPXRoaXMub2Zmc2V0cyxmPXRoaXMudGFyZ2V0cyxnPXRoaXMuYWN0aXZlVGFyZ2V0O2lmKHRoaXMuc2Nyb2xsSGVpZ2h0IT1jJiZ0aGlzLnJlZnJlc2goKSxiPj1kKXJldHVybiBnIT0oYT1mW2YubGVuZ3RoLTFdKSYmdGhpcy5hY3RpdmF0ZShhKTtpZihnJiZiPGVbMF0pcmV0dXJuIHRoaXMuYWN0aXZlVGFyZ2V0PW51bGwsdGhpcy5jbGVhcigpO2ZvcihhPWUubGVuZ3RoO2EtLTspZyE9ZlthXSYmYj49ZVthXSYmKCFlW2ErMV18fGI8PWVbYSsxXSkmJnRoaXMuYWN0aXZhdGUoZlthXSl9LGIucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKGIpe3RoaXMuYWN0aXZlVGFyZ2V0PWIsdGhpcy5jbGVhcigpO3ZhciBjPXRoaXMuc2VsZWN0b3IrJ1tkYXRhLXRhcmdldD1cIicrYisnXCJdLCcrdGhpcy5zZWxlY3RvcisnW2hyZWY9XCInK2IrJ1wiXScsZD1hKGMpLnBhcmVudHMoXCJsaVwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtkLnBhcmVudChcIi5kcm9wZG93bi1tZW51XCIpLmxlbmd0aCYmKGQ9ZC5jbG9zZXN0KFwibGkuZHJvcGRvd25cIikuYWRkQ2xhc3MoXCJhY3RpdmVcIikpLGQudHJpZ2dlcihcImFjdGl2YXRlLmJzLnNjcm9sbHNweVwiKX0sYi5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXthKHRoaXMuc2VsZWN0b3IpLnBhcmVudHNVbnRpbCh0aGlzLm9wdGlvbnMudGFyZ2V0LFwiLmFjdGl2ZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKX07dmFyIGQ9YS5mbi5zY3JvbGxzcHk7YS5mbi5zY3JvbGxzcHk9YyxhLmZuLnNjcm9sbHNweS5Db25zdHJ1Y3Rvcj1iLGEuZm4uc2Nyb2xsc3B5Lm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5mbi5zY3JvbGxzcHk9ZCx0aGlzfSxhKHdpbmRvdykub24oXCJsb2FkLmJzLnNjcm9sbHNweS5kYXRhLWFwaVwiLGZ1bmN0aW9uKCl7YSgnW2RhdGEtc3B5PVwic2Nyb2xsXCJdJykuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yy5jYWxsKGIsYi5kYXRhKCkpfSl9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxlPWQuZGF0YShcImJzLnRhYlwiKTtlfHxkLmRhdGEoXCJicy50YWJcIixlPW5ldyBjKHRoaXMpKSxcInN0cmluZ1wiPT10eXBlb2YgYiYmZVtiXSgpfSl9dmFyIGM9ZnVuY3Rpb24oYil7dGhpcy5lbGVtZW50PWEoYil9O2MuVkVSU0lPTj1cIjMuMy4yXCIsYy5UUkFOU0lUSU9OX0RVUkFUSU9OPTE1MCxjLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5jbG9zZXN0KFwidWw6bm90KC5kcm9wZG93bi1tZW51KVwiKSxkPWIuZGF0YShcInRhcmdldFwiKTtpZihkfHwoZD1iLmF0dHIoXCJocmVmXCIpLGQ9ZCYmZC5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLFwiXCIpKSwhYi5wYXJlbnQoXCJsaVwiKS5oYXNDbGFzcyhcImFjdGl2ZVwiKSl7dmFyIGU9Yy5maW5kKFwiLmFjdGl2ZTpsYXN0IGFcIiksZj1hLkV2ZW50KFwiaGlkZS5icy50YWJcIix7cmVsYXRlZFRhcmdldDpiWzBdfSksZz1hLkV2ZW50KFwic2hvdy5icy50YWJcIix7cmVsYXRlZFRhcmdldDplWzBdfSk7aWYoZS50cmlnZ2VyKGYpLGIudHJpZ2dlcihnKSwhZy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmIWYuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBoPWEoZCk7dGhpcy5hY3RpdmF0ZShiLmNsb3Nlc3QoXCJsaVwiKSxjKSx0aGlzLmFjdGl2YXRlKGgsaC5wYXJlbnQoKSxmdW5jdGlvbigpe2UudHJpZ2dlcih7dHlwZTpcImhpZGRlbi5icy50YWJcIixyZWxhdGVkVGFyZ2V0OmJbMF19KSxiLnRyaWdnZXIoe3R5cGU6XCJzaG93bi5icy50YWJcIixyZWxhdGVkVGFyZ2V0OmVbMF19KX0pfX19LGMucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKGIsZCxlKXtmdW5jdGlvbiBmKCl7Zy5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKS5maW5kKFwiPiAuZHJvcGRvd24tbWVudSA+IC5hY3RpdmVcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIikuZW5kKCkuZmluZCgnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJykuYXR0cihcImFyaWEtZXhwYW5kZWRcIiwhMSksYi5hZGRDbGFzcyhcImFjdGl2ZVwiKS5maW5kKCdbZGF0YS10b2dnbGU9XCJ0YWJcIl0nKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLCEwKSxoPyhiWzBdLm9mZnNldFdpZHRoLGIuYWRkQ2xhc3MoXCJpblwiKSk6Yi5yZW1vdmVDbGFzcyhcImZhZGVcIiksYi5wYXJlbnQoXCIuZHJvcGRvd24tbWVudVwiKSYmYi5jbG9zZXN0KFwibGkuZHJvcGRvd25cIikuYWRkQ2xhc3MoXCJhY3RpdmVcIikuZW5kKCkuZmluZCgnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJykuYXR0cihcImFyaWEtZXhwYW5kZWRcIiwhMCksZSYmZSgpXG59dmFyIGc9ZC5maW5kKFwiPiAuYWN0aXZlXCIpLGg9ZSYmYS5zdXBwb3J0LnRyYW5zaXRpb24mJihnLmxlbmd0aCYmZy5oYXNDbGFzcyhcImZhZGVcIil8fCEhZC5maW5kKFwiPiAuZmFkZVwiKS5sZW5ndGgpO2cubGVuZ3RoJiZoP2cub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsZikuZW11bGF0ZVRyYW5zaXRpb25FbmQoYy5UUkFOU0lUSU9OX0RVUkFUSU9OKTpmKCksZy5yZW1vdmVDbGFzcyhcImluXCIpfTt2YXIgZD1hLmZuLnRhYjthLmZuLnRhYj1iLGEuZm4udGFiLkNvbnN0cnVjdG9yPWMsYS5mbi50YWIubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLnRhYj1kLHRoaXN9O3ZhciBlPWZ1bmN0aW9uKGMpe2MucHJldmVudERlZmF1bHQoKSxiLmNhbGwoYSh0aGlzKSxcInNob3dcIil9O2EoZG9jdW1lbnQpLm9uKFwiY2xpY2suYnMudGFiLmRhdGEtYXBpXCIsJ1tkYXRhLXRvZ2dsZT1cInRhYlwiXScsZSkub24oXCJjbGljay5icy50YWIuZGF0YS1hcGlcIiwnW2RhdGEtdG9nZ2xlPVwicGlsbFwiXScsZSl9KGpRdWVyeSksK2Z1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1kLmRhdGEoXCJicy5hZmZpeFwiKSxmPVwib2JqZWN0XCI9PXR5cGVvZiBiJiZiO2V8fGQuZGF0YShcImJzLmFmZml4XCIsZT1uZXcgYyh0aGlzLGYpKSxcInN0cmluZ1wiPT10eXBlb2YgYiYmZVtiXSgpfSl9dmFyIGM9ZnVuY3Rpb24oYixkKXt0aGlzLm9wdGlvbnM9YS5leHRlbmQoe30sYy5ERUZBVUxUUyxkKSx0aGlzLiR0YXJnZXQ9YSh0aGlzLm9wdGlvbnMudGFyZ2V0KS5vbihcInNjcm9sbC5icy5hZmZpeC5kYXRhLWFwaVwiLGEucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uLHRoaXMpKS5vbihcImNsaWNrLmJzLmFmZml4LmRhdGEtYXBpXCIsYS5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wLHRoaXMpKSx0aGlzLiRlbGVtZW50PWEoYiksdGhpcy5hZmZpeGVkPXRoaXMudW5waW49dGhpcy5waW5uZWRPZmZzZXQ9bnVsbCx0aGlzLmNoZWNrUG9zaXRpb24oKX07Yy5WRVJTSU9OPVwiMy4zLjJcIixjLlJFU0VUPVwiYWZmaXggYWZmaXgtdG9wIGFmZml4LWJvdHRvbVwiLGMuREVGQVVMVFM9e29mZnNldDowLHRhcmdldDp3aW5kb3d9LGMucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuJHRhcmdldC5zY3JvbGxUb3AoKSxmPXRoaXMuJGVsZW1lbnQub2Zmc2V0KCksZz10aGlzLiR0YXJnZXQuaGVpZ2h0KCk7aWYobnVsbCE9YyYmXCJ0b3BcIj09dGhpcy5hZmZpeGVkKXJldHVybiBjPmU/XCJ0b3BcIjohMTtpZihcImJvdHRvbVwiPT10aGlzLmFmZml4ZWQpcmV0dXJuIG51bGwhPWM/ZSt0aGlzLnVucGluPD1mLnRvcD8hMTpcImJvdHRvbVwiOmEtZD49ZStnPyExOlwiYm90dG9tXCI7dmFyIGg9bnVsbD09dGhpcy5hZmZpeGVkLGk9aD9lOmYudG9wLGo9aD9nOmI7cmV0dXJuIG51bGwhPWMmJmM+PWU/XCJ0b3BcIjpudWxsIT1kJiZpK2o+PWEtZD9cImJvdHRvbVwiOiExfSxjLnByb3RvdHlwZS5nZXRQaW5uZWRPZmZzZXQ9ZnVuY3Rpb24oKXtpZih0aGlzLnBpbm5lZE9mZnNldClyZXR1cm4gdGhpcy5waW5uZWRPZmZzZXQ7dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhjLlJFU0VUKS5hZGRDbGFzcyhcImFmZml4XCIpO3ZhciBhPXRoaXMuJHRhcmdldC5zY3JvbGxUb3AoKSxiPXRoaXMuJGVsZW1lbnQub2Zmc2V0KCk7cmV0dXJuIHRoaXMucGlubmVkT2Zmc2V0PWIudG9wLWF9LGMucHJvdG90eXBlLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wPWZ1bmN0aW9uKCl7c2V0VGltZW91dChhLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbix0aGlzKSwxKX0sYy5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMuJGVsZW1lbnQuaXMoXCI6dmlzaWJsZVwiKSl7dmFyIGI9dGhpcy4kZWxlbWVudC5oZWlnaHQoKSxkPXRoaXMub3B0aW9ucy5vZmZzZXQsZT1kLnRvcCxmPWQuYm90dG9tLGc9YShcImJvZHlcIikuaGVpZ2h0KCk7XCJvYmplY3RcIiE9dHlwZW9mIGQmJihmPWU9ZCksXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKGU9ZC50b3AodGhpcy4kZWxlbWVudCkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGYmJihmPWQuYm90dG9tKHRoaXMuJGVsZW1lbnQpKTt2YXIgaD10aGlzLmdldFN0YXRlKGcsYixlLGYpO2lmKHRoaXMuYWZmaXhlZCE9aCl7bnVsbCE9dGhpcy51bnBpbiYmdGhpcy4kZWxlbWVudC5jc3MoXCJ0b3BcIixcIlwiKTt2YXIgaT1cImFmZml4XCIrKGg/XCItXCIraDpcIlwiKSxqPWEuRXZlbnQoaStcIi5icy5hZmZpeFwiKTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIoaiksai5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm47dGhpcy5hZmZpeGVkPWgsdGhpcy51bnBpbj1cImJvdHRvbVwiPT1oP3RoaXMuZ2V0UGlubmVkT2Zmc2V0KCk6bnVsbCx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKGMuUkVTRVQpLmFkZENsYXNzKGkpLnRyaWdnZXIoaS5yZXBsYWNlKFwiYWZmaXhcIixcImFmZml4ZWRcIikrXCIuYnMuYWZmaXhcIil9XCJib3R0b21cIj09aCYmdGhpcy4kZWxlbWVudC5vZmZzZXQoe3RvcDpnLWItZn0pfX07dmFyIGQ9YS5mbi5hZmZpeDthLmZuLmFmZml4PWIsYS5mbi5hZmZpeC5Db25zdHJ1Y3Rvcj1jLGEuZm4uYWZmaXgubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLmFmZml4PWQsdGhpc30sYSh3aW5kb3cpLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7YSgnW2RhdGEtc3B5PVwiYWZmaXhcIl0nKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxkPWMuZGF0YSgpO2Qub2Zmc2V0PWQub2Zmc2V0fHx7fSxudWxsIT1kLm9mZnNldEJvdHRvbSYmKGQub2Zmc2V0LmJvdHRvbT1kLm9mZnNldEJvdHRvbSksbnVsbCE9ZC5vZmZzZXRUb3AmJihkLm9mZnNldC50b3A9ZC5vZmZzZXRUb3ApLGIuY2FsbChjLGQpfSl9KX0oalF1ZXJ5KTsiLCIvKiogc21vb3RoLXNjcm9sbCB2NS4zLjMsIGJ5IENocmlzIEZlcmRpbmFuZGkgfCBodHRwOi8vZ2l0aHViLmNvbS9jZmVyZGluYW5kaS9zbW9vdGgtc2Nyb2xsIHwgTGljZW5zZWQgdW5kZXIgTUlUOiBodHRwOi8vZ29tYWtldGhpbmdzLmNvbS9taXQvICovXHJcbiFmdW5jdGlvbihlLHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJzbW9vdGhTY3JvbGxcIix0KGUpKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz10KGUpOmUuc21vb3RoU2Nyb2xsPXQoZSl9KHdpbmRvd3x8dGhpcyxmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjt2YXIgdCxuLG8scj17fSxhPSEhZG9jdW1lbnQucXVlcnlTZWxlY3RvciYmISFlLmFkZEV2ZW50TGlzdGVuZXIsYz17c3BlZWQ6NTAwLGVhc2luZzpcImVhc2VJbk91dEN1YmljXCIsb2Zmc2V0OjAsdXBkYXRlVVJMOiEwLGNhbGxiYWNrQmVmb3JlOmZ1bmN0aW9uKCl7fSxjYWxsYmFja0FmdGVyOmZ1bmN0aW9uKCl7fX0sdT1mdW5jdGlvbihlLHQsbil7aWYoXCJbb2JqZWN0IE9iamVjdF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSlmb3IodmFyIG8gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSYmdC5jYWxsKG4sZVtvXSxvLGUpO2Vsc2UgZm9yKHZhciByPTAsYT1lLmxlbmd0aDthPnI7cisrKXQuY2FsbChuLGVbcl0scixlKX0saT1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybiB1KGUsZnVuY3Rpb24odCxvKXtuW29dPWVbb119KSx1KHQsZnVuY3Rpb24oZSxvKXtuW29dPXRbb119KSxufSxsPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXQuY2hhckF0KDApO2UmJmUhPT1kb2N1bWVudDtlPWUucGFyZW50Tm9kZSlpZihcIi5cIj09PW4pe2lmKGUuY2xhc3NMaXN0LmNvbnRhaW5zKHQuc3Vic3RyKDEpKSlyZXR1cm4gZX1lbHNlIGlmKFwiI1wiPT09bil7aWYoZS5pZD09PXQuc3Vic3RyKDEpKXJldHVybiBlfWVsc2UgaWYoXCJbXCI9PT1uJiZlLmhhc0F0dHJpYnV0ZSh0LnN1YnN0cigxLHQubGVuZ3RoLTIpKSlyZXR1cm4gZTtyZXR1cm4hMX0scz1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5tYXgoZS5zY3JvbGxIZWlnaHQsZS5vZmZzZXRIZWlnaHQsZS5jbGllbnRIZWlnaHQpfSxmPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPVN0cmluZyhlKSxvPW4ubGVuZ3RoLHI9LTEsYT1cIlwiLGM9bi5jaGFyQ29kZUF0KDApOysrcjxvOyl7aWYodD1uLmNoYXJDb2RlQXQociksMD09PXQpdGhyb3cgbmV3IEludmFsaWRDaGFyYWN0ZXJFcnJvcihcIkludmFsaWQgY2hhcmFjdGVyOiB0aGUgaW5wdXQgY29udGFpbnMgVSswMDAwLlwiKTthKz10Pj0xJiYzMT49dHx8MTI3PT10fHwwPT09ciYmdD49NDgmJjU3Pj10fHwxPT09ciYmdD49NDgmJjU3Pj10JiY0NT09PWM/XCJcXFxcXCIrdC50b1N0cmluZygxNikrXCIgXCI6dD49MTI4fHw0NT09PXR8fDk1PT09dHx8dD49NDgmJjU3Pj10fHx0Pj02NSYmOTA+PXR8fHQ+PTk3JiYxMjI+PXQ/bi5jaGFyQXQocik6XCJcXFxcXCIrbi5jaGFyQXQocil9cmV0dXJuIGF9LGQ9ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm5cImVhc2VJblF1YWRcIj09PWUmJihuPXQqdCksXCJlYXNlT3V0UXVhZFwiPT09ZSYmKG49dCooMi10KSksXCJlYXNlSW5PdXRRdWFkXCI9PT1lJiYobj0uNT50PzIqdCp0Oi0xKyg0LTIqdCkqdCksXCJlYXNlSW5DdWJpY1wiPT09ZSYmKG49dCp0KnQpLFwiZWFzZU91dEN1YmljXCI9PT1lJiYobj0tLXQqdCp0KzEpLFwiZWFzZUluT3V0Q3ViaWNcIj09PWUmJihuPS41PnQ/NCp0KnQqdDoodC0xKSooMip0LTIpKigyKnQtMikrMSksXCJlYXNlSW5RdWFydFwiPT09ZSYmKG49dCp0KnQqdCksXCJlYXNlT3V0UXVhcnRcIj09PWUmJihuPTEtIC0tdCp0KnQqdCksXCJlYXNlSW5PdXRRdWFydFwiPT09ZSYmKG49LjU+dD84KnQqdCp0KnQ6MS04Ki0tdCp0KnQqdCksXCJlYXNlSW5RdWludFwiPT09ZSYmKG49dCp0KnQqdCp0KSxcImVhc2VPdXRRdWludFwiPT09ZSYmKG49MSstLXQqdCp0KnQqdCksXCJlYXNlSW5PdXRRdWludFwiPT09ZSYmKG49LjU+dD8xNip0KnQqdCp0KnQ6MSsxNiotLXQqdCp0KnQqdCksbnx8dH0saD1mdW5jdGlvbihlLHQsbil7dmFyIG89MDtpZihlLm9mZnNldFBhcmVudClkbyBvKz1lLm9mZnNldFRvcCxlPWUub2Zmc2V0UGFyZW50O3doaWxlKGUpO3JldHVybiBvPW8tdC1uLG8+PTA/bzowfSxtPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodCxkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KX0scD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJvYmplY3RcIj09dHlwZW9mIEpTT04mJlwiZnVuY3Rpb25cIj09dHlwZW9mIEpTT04ucGFyc2U/SlNPTi5wYXJzZShlKTp7fX0sdj1mdW5jdGlvbih0LG4pe2hpc3RvcnkucHVzaFN0YXRlJiYobnx8XCJ0cnVlXCI9PT1uKSYmaGlzdG9yeS5wdXNoU3RhdGUobnVsbCxudWxsLFtlLmxvY2F0aW9uLnByb3RvY29sLFwiLy9cIixlLmxvY2F0aW9uLmhvc3QsZS5sb2NhdGlvbi5wYXRobmFtZSxlLmxvY2F0aW9uLnNlYXJjaCx0XS5qb2luKFwiXCIpKX07ci5hbmltYXRlU2Nyb2xsPWZ1bmN0aW9uKHQsbixyKXt2YXIgYT1pKGF8fGMscnx8e30pLHU9cCh0P3QuZ2V0QXR0cmlidXRlKFwiZGF0YS1vcHRpb25zXCIpOm51bGwpO2E9aShhLHUpLG49XCIjXCIrZihuLnN1YnN0cigxKSk7dmFyIGw9XCIjXCI9PT1uP2RvY3VtZW50LmRvY3VtZW50RWxlbWVudDpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG4pLGc9ZS5wYWdlWU9mZnNldDtvfHwobz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtc2Nyb2xsLWhlYWRlcl1cIikpO3ZhciBiLE8seSxTPW51bGw9PT1vPzA6cyhvKStvLm9mZnNldFRvcCxJPWgobCxTLHBhcnNlSW50KGEub2Zmc2V0LDEwKSksSD1JLWcsRT1tKCksQT0wO3YobixhLnVwZGF0ZVVSTCk7dmFyIEw9ZnVuY3Rpb24obyxyLGMpe3ZhciB1PWUucGFnZVlPZmZzZXQ7KG89PXJ8fHU9PXJ8fGUuaW5uZXJIZWlnaHQrdT49RSkmJihjbGVhckludGVydmFsKGMpLGwuZm9jdXMoKSxhLmNhbGxiYWNrQWZ0ZXIodCxuKSl9LFE9ZnVuY3Rpb24oKXtBKz0xNixPPUEvcGFyc2VJbnQoYS5zcGVlZCwxMCksTz1PPjE/MTpPLHk9ZytIKmQoYS5lYXNpbmcsTyksZS5zY3JvbGxUbygwLE1hdGguZmxvb3IoeSkpLEwoeSxJLGIpfSxDPWZ1bmN0aW9uKCl7YS5jYWxsYmFja0JlZm9yZSh0LG4pLGI9c2V0SW50ZXJ2YWwoUSwxNil9OzA9PT1lLnBhZ2VZT2Zmc2V0JiZlLnNjcm9sbFRvKDAsMCksQygpfTt2YXIgZz1mdW5jdGlvbihlKXt2YXIgbj1sKGUudGFyZ2V0LFwiW2RhdGEtc2Nyb2xsXVwiKTtuJiZcImFcIj09PW4udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHIuYW5pbWF0ZVNjcm9sbChuLG4uaGFzaCx0KSl9LGI9ZnVuY3Rpb24oKXtufHwobj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bj1udWxsLGhlYWRlckhlaWdodD1udWxsPT09bz8wOnMobykrby5vZmZzZXRUb3B9LDY2KSl9O3JldHVybiByLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0JiYoZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZywhMSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsYiwhMSksdD1udWxsLG49bnVsbCxvPW51bGwpfSxyLmluaXQ9ZnVuY3Rpb24obil7YSYmKHIuZGVzdHJveSgpLHQ9aShjLG58fHt9KSxvPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1zY3JvbGwtaGVhZGVyXVwiKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixnLCExKSxvJiZlLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixiLCExKSl9LHJ9KTsiLCIvKiFcbiAqIENvbnRhY3QgRm9ybSBhbmQgQW50aVNwYW0gSmF2YXNjcmlwdCBQbHVnaW5cbiAqIEF1dGhvcjogTWFyY3ogSGVybW9cbiAqIEVtYWlsOiBtYXJjekBsYWIxNTIxLmNvbVxuICogQ29weXJpZ2h0IDIwMTUgTGFiMTUyMSBMaW1pdGVkXG4gKlxuICogQ29kZXMgaGVyZSBjYW4gYmUgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICogQWx0aG91Z2ggSSBoYXZlIGRvbmUgc29tZSB0ZXN0aW5nIG9uIHRoZSBmZjpcbiAqICAgICAxLiAkLkRlZmVycmVkKCkgaW1wbGVtZW50YXRpb25cbiAqICAgICAyLiBSeC1KUyB3aXRoIGpRdWVyeSBpbXBsZW1lbnRhdGlvblxuICovXG5zbW9vdGhTY3JvbGwuaW5pdCh7c3BlZWQ6MWUzLGVhc2luZzpcImVhc2VJbk91dEN1YmljXCIsb2Zmc2V0OjAsdXBkYXRlVVJMOiEwLGNhbGxiYWNrQmVmb3JlOmZ1bmN0aW9uKCl7fSxjYWxsYmFja0FmdGVyOmZ1bmN0aW9uKCl7fX0pLGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3ZhciBlPWZ1bmN0aW9uKGUscyxuLG8pe3RoaXMuJGlucHV0QW5zd2VyPWUsdGhpcy4kaW5wdXRUb2tlbj1zLHRoaXMuJGlucHV0UmVmcmVzaD1uLHRoaXMuJGlucHV0UXVlc3Rpb249byx0aGlzLmFuc3dlcj1cIlwiLHRoaXMudG9rZW49XCJcIix0aGlzLnVybD1cImNvbnRhY3QucGhwXCIsdGhpcy5kZWZlcnJlZD10LkRlZmVycmVkKCksdGhpcy5pbml0KCl9O2UucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLnJlbG9hZCgpLHRoaXMuJGlucHV0UmVmcmVzaC5vbihcImNsaWNrXCIsdGhpcy5yZWxvYWQuYmluZCh0aGlzKSl9LGUucHJvdG90eXBlLnJlbG9hZD1mdW5jdGlvbigpe3RoaXMuZGVmZXJyZWQ9dC5hamF4KHt1cmw6dGhpcy51cmwsZGF0YVR5cGU6XCJqc29uXCJ9KS5wcm9taXNlKCksdGhpcy5kZWZlcnJlZC5hbHdheXModGhpcy51cGRhdGUuYmluZCh0aGlzKSksdGhpcy5kZWZlcnJlZC5hbHdheXModGhpcy5zYW1wbGUuY2FsbCh0aGlzKSksdGhpcy5kZWZlcnJlZC5hbHdheXMoZnVuY3Rpb24odCl7Y29uc29sZS5sb2coXCJmdW5jXCIpLGNvbnNvbGUubG9nKHQpfSl9LGUucHJvdG90eXBlLnNhbXBsZT1mdW5jdGlvbigpe3RoaXMuZGVmZXJyZWQuYWx3YXlzKGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKFwic2FtcGxlXCIpLGNvbnNvbGUubG9nKHQpfSl9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXtjb25zb2xlLmxvZyhcInVwZGF0ZVwiKSxjb25zb2xlLmxvZyh0KSx0aGlzLiRpbnB1dFRva2VuLnZhbCh0LmNsaWVudCksdGhpcy4kaW5wdXRRdWVzdGlvbi50ZXh0KHQucXVlc3Rpb24pLHRoaXMuJGlucHV0QW5zd2VyLnZhbChcIlwiKX07dmFyIHM9ZnVuY3Rpb24odCxlKXt0aGlzLmFudGlTcGFtPWUsdGhpcy4kZm9ybT10LHRoaXMudXJsPVwiY29udGFjdC5waHBcIix0aGlzLnNlYXJjaD10aGlzLnNlYXJjaE9ic2VydmFibGUoKX07cy5wcm90b3R5cGUuc2VhcmNoV2lraXBlZGlhPWZ1bmN0aW9uKGUpe3JldHVybiB0LmFqYXhBc09ic2VydmFibGUoe3VybDpcImh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3cvYXBpLnBocFwiLGRhdGE6e2FjdGlvbjpcIm9wZW5zZWFyY2hcIixzZWFyY2g6ZSxmb3JtYXQ6XCJqc29uXCJ9LGRhdGFUeXBlOlwianNvbnBcIn0pfSxzLnByb3RvdHlwZS5zZWFyY2hPYnNlcnZhYmxlPWZ1bmN0aW9uKCl7e3ZhciBlPXRoaXMscz10aGlzLiRmb3JtLmZpbmQoXCIjcmVzdWx0c1wiKSxuPXRoaXMuJGZvcm0uZmluZChcIiNzZWFyY2hcIikua2V5dXBBc09ic2VydmFibGUoKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHQoZS50YXJnZXQpLnZhbCgpfSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmxlbmd0aD4yfSkudGhyb3R0bGUoNTAwKS5kaXN0aW5jdFVudGlsQ2hhbmdlZCgpLG89bi5mbGF0TWFwTGF0ZXN0KGZ1bmN0aW9uKHQpe3JldHVybiBlLnNlYXJjaFdpa2lwZWRpYSh0KX0pO28uc3Vic2NyaWJlKGZ1bmN0aW9uKGUpe3MuZW1wdHkoKSx0LmVhY2goZS5kYXRhWzFdLGZ1bmN0aW9uKGUsbil7Y29uc29sZS5sb2coZSksY29uc29sZS5sb2cobiksdChcIjxsaT5cIituK1wiPC9saT5cIikuYXBwZW5kVG8ocyl9KX0sZnVuY3Rpb24oZSl7cy5lbXB0eSgpLGNvbnNvbGUubG9nKGUpLHQoXCI8bGk+RXJyb3I6IEhUVFA6XCIrZS5qcVhIUi5zdGF0dXMrXCIgLSBcIitlLnRleHRTdGF0dXMrXCI8L2xpPlwiKS5hcHBlbmRUbyhzKX0pfX0scy5wcm90b3R5cGUucG9zdD1mdW5jdGlvbihlKXt0LndoZW4odC5hamF4KHt1cmw6dGhpcy51cmwsZGF0YTplLGRhdGFUeXBlOlwianNvblwiLHR5cGU6XCJQT1NUXCJ9KSkuZG9uZSh0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKX0scy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3Quc3VjY2Vzcz09PSEwJiZ0aGlzLnN1Y2Nlc3MoKSx0aGlzLndhcm5pbmdzLmNhbGwodGhpcyx0KX0scy5wcm90b3R5cGUuc3VjY2Vzcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuJGZvcm0scz1lLmZpbmQoXCIuZm9ybS1hbGVydFwiKS5zaG93KCksbj10KFwiLmFsZXJ0XCIscykucmVtb3ZlQ2xhc3MoXCJhbGVydC1kYW5nZXJcIikuYWRkQ2xhc3MoXCJhbGVydC1zdWNjZXNzXCIpO24uaHRtbChcIjxzdHJvbmc+U3VjY2VzcyE8L3N0cm9uZz4gV2Ugd2lsbCBjb250YWN0IHlvdSBhcyBzb29uIGFzIHBvc3NpYmxlLlwiKTt2YXIgbz1lLmZpbmQoXCIuZ2x5cGhpY29uXCIpO28ucmVtb3ZlQ2xhc3MoXCJnbHlwaGljb24tcmVtb3ZlIGdseXBoaWNvbi1va1wiKS5hZGRDbGFzcyhcImdseXBoaWNvbi1hc3Rlcmlza1wiKSxlLmZpbmQoXCJpbnB1dFwiKS52YWwoXCJcIiksZS5maW5kKFwidGV4dGFyZWFcIikudmFsKFwiXCIpfSxzLnByb3RvdHlwZS53YXJuaW5ncz1mdW5jdGlvbihlKXt2YXIgcz1lLm5vdGljZXMsbj10aGlzO3RoaXMuYW50aVNwYW0ucmVsb2FkKCk7Zm9yKHZhciBvPTA7bzxzLmxlbmd0aDtvKyspe3ZhciBpPXNbb107dC5lYWNoKGksZnVuY3Rpb24odCxlKXtuLndhcm4uY2FsbChuLHQsZSl9KX19LHMucHJvdG90eXBlLndhcm49ZnVuY3Rpb24odCxlKXt2YXIgcz10aGlzLiRmb3JtLG49cy5maW5kKFwiW25hbWU9XCIrdCtcIl0gfiAuZ2x5cGhpY29uXCIpO24ubGVuZ3RoP24ucmVtb3ZlQ2xhc3MoXCJnbHlwaGljb24tYXN0ZXJpc2sgZ2x5cGhpY29uLW9rXCIpLmFkZENsYXNzKFwiZ2x5cGhpY29uLXJlbW92ZVwiKTpcImFudGlTcGFtQW5zd2VyXCIhPXQmJlwiYW50aVNwYW1Ub2tlblwiIT10JiZ0aGlzLnNob3dFcnJvci5jYWxsKHRoaXMsZSl9LHMucHJvdG90eXBlLnNob3dFcnJvcj1mdW5jdGlvbihlKXt2YXIgcz10aGlzLiRmb3JtLG49cy5maW5kKFwiLmZvcm0tYWxlcnRcIikuc2hvdygpLG89dChcIi5hbGVydFwiLG4pLnJlbW92ZUNsYXNzKFwiYWxlcnQtc3VjY2Vzc1wiKS5hZGRDbGFzcyhcImFsZXJ0LWRhbmdlclwiKTtvLmh0bWwoXCI8c3Ryb25nPkVycm9yITwvc3Ryb25nPiBcIitlKX0scy5wcm90b3R5cGUuaGlkZUFsZXJ0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy4kZm9ybSxzPWUuZmluZChcIi5mb3JtLWFsZXJ0XCIpLmhpZGUoKTt0KFwiLmFsZXJ0XCIscykucmVtb3ZlQ2xhc3MoXCJhbGVydC1zdWNjZXNzIGFsZXJ0LWRhbmdlclwiKS5odG1sKFwiXCIpfSxzLnByb3RvdHlwZS5zdWJtaXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy4kZm9ybTt0aGlzLmhpZGVBbGVydCgpO2Zvcih2YXIgcz0wO3M8dC5sZW5ndGg7cysrKXt2YXIgbj10W3NdLG89ZS5maW5kKFwiW25hbWU9XCIrbi5uYW1lK1wiXSB+IC5nbHlwaGljb25cIik7aWYoXCJcIj09bi52YWx1ZSlyZXR1cm4gby5yZW1vdmVDbGFzcyhcImdseXBoaWNvbi1hc3RlcmlzayBnbHlwaGljb24tb2tcIikuYWRkQ2xhc3MoXCJnbHlwaGljb24tcmVtb3ZlXCIpLHZvaWQgZS5maW5kKFwiW25hbWU9XCIrbi5uYW1lK1wiXVwiKS5mb2N1cygpO28ucmVtb3ZlQ2xhc3MoXCJnbHlwaGljb24tYXN0ZXJpc2sgZ2x5cGhpY29uLXJlbW92ZVwiKS5hZGRDbGFzcyhcImdseXBoaWNvbi1va1wiKX10aGlzLnBvc3QuY2FsbCh0aGlzLHQpfSx0KGZ1bmN0aW9uKCl7dmFyIG49bmV3IGUodChcIiNhbnRpU3BhbUFuc3dlclwiKSx0KFwiI2FudGlTcGFtVG9rZW5cIiksdChcIiNhbnRpU3BhbVJlZnJlc2hcIiksdChcIiNhbnRpU3BhbVF1ZXN0aW9uXCIpKSxvPW5ldyBzKHQoXCIjY29udGFjdEZvcm1cIiksbik7dChcIiNjb250YWN0Rm9ybVwiKS5vbihcInN1Ym1pdFwiLGZ1bmN0aW9uKGUpe28uc3VibWl0LmNhbGwobyx0KHRoaXMpLnNlcmlhbGl6ZUFycmF5KCkpLGUucHJldmVudERlZmF1bHQoKX0pfSl9KGpRdWVyeSk7IiwiLyohXG4gKiBJRTEwIHZpZXdwb3J0IGhhY2sgZm9yIFN1cmZhY2UvZGVza3RvcCBXaW5kb3dzIDggYnVnXG4gKiBDb3B5cmlnaHQgMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQ3JlYXRpdmUgQ29tbW9ucyBBdHRyaWJ1dGlvbiAzLjAgVW5wb3J0ZWQgTGljZW5zZS4gRm9yXG4gKiBkZXRhaWxzLCBzZWUgaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnkvMy4wLy5cbiAqL1xuXG4vLyBTZWUgdGhlIEdldHRpbmcgU3RhcnRlZCBkb2NzIGZvciBtb3JlIGluZm9ybWF0aW9uOlxuLy8gaHR0cDovL2dldGJvb3RzdHJhcC5jb20vZ2V0dGluZy1zdGFydGVkLyNzdXBwb3J0LWllMTAtd2lkdGhcblxuKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvSUVNb2JpbGVcXC8xMFxcLjAvKSkge1xuICAgIHZhciBtc1ZpZXdwb3J0U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpXG4gICAgbXNWaWV3cG9ydFN0eWxlLmFwcGVuZENoaWxkKFxuICAgICAgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXG4gICAgICAgICdALW1zLXZpZXdwb3J0e3dpZHRoOmF1dG8haW1wb3J0YW50fSdcbiAgICAgIClcbiAgICApXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZCcpLmFwcGVuZENoaWxkKG1zVmlld3BvcnRTdHlsZSlcbiAgfVxufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==